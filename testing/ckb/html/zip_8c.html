<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ckb-next: src/ckb/quazip/zip.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ckb-128.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ckb-next
   &#160;<span id="projectnumber">beta-v0.2.8 at branch testing</span>
   </div>
   <div id="projectbrief">ckb-next driver for corsair devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('zip_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">zip.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;time.h&gt;</code><br/>
<code>#include &quot;zlib.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="zip_8h_source.html">zip.h</a>&quot;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="crypt_8h_source.html">crypt.h</a>&quot;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for zip.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c__incl.png" border="0" usemap="#src_2ckb_2quazip_2zip_8c" alt=""/></div>
<map name="src_2ckb_2quazip_2zip_8c" id="src_2ckb_2quazip_2zip_8c">
<area shape="rect" id="node7" href="zip_8h.html" title="zip.h" alt="" coords="268,80,319,107"/><area shape="rect" id="node10" href="crypt_8h.html" title="crypt.h" alt="" coords="481,80,543,107"/><area shape="rect" id="node8" href="ioapi_8h.html" title="ioapi.h" alt="" coords="174,155,233,181"/><area shape="rect" id="node11" href="quazip__global_8h.html" title="quazip_global.h" alt="" coords="456,155,567,181"/></map>
</div>
</div>
<p><a href="zip_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structlinkedlist__datablock__internal__s"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal_s</a></td></tr>
<tr class="separator:structlinkedlist__datablock__internal__s"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structlinkedlist__data__s"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#structlinkedlist__data__s">linkedlist_data_s</a></td></tr>
<tr class="separator:structlinkedlist__data__s"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structcurfile64__info"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#structcurfile64__info">curfile64_info</a></td></tr>
<tr class="separator:structcurfile64__info"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structzip64__internal"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a></td></tr>
<tr class="separator:structzip64__internal"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a08023ea6765c99d60a6a3840cd07156e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a08023ea6765c99d60a6a3840cd07156e">local</a>&#160;&#160;&#160;static</td></tr>
<tr class="separator:a08023ea6765c99d60a6a3840cd07156e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0887c08f255f7a753b460e30ed14a3cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a>&#160;&#160;&#160;(0x031e) /* best for standard pkware crypt */</td></tr>
<tr class="separator:a0887c08f255f7a753b460e30ed14a3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1491823e6cf52e751120f367bdc68a00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a>&#160;&#160;&#160;(64*1024) /* (16384) */</td></tr>
<tr class="separator:a1491823e6cf52e751120f367bdc68a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135c063faff93cb20013a8c28b8d1984"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a135c063faff93cb20013a8c28b8d1984">Z_MAXFILENAMEINZIP</a>&#160;&#160;&#160;(256)</td></tr>
<tr class="separator:a135c063faff93cb20013a8c28b8d1984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c822e3692a95451e8f70a5916f05a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a>(size)&#160;&#160;&#160;(malloc(size))</td></tr>
<tr class="separator:ac5c822e3692a95451e8f70a5916f05a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb23c00a00f3856832e660edc2ab03d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(p)&#160;&#160;&#160;{if (p) free(p);}</td></tr>
<tr class="separator:a5fb23c00a00f3856832e660edc2ab03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb9fced82ed75c8bba3235ee4a45d389"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#abb9fced82ed75c8bba3235ee4a45d389">MAKEULONG64</a>(a, b)&#160;&#160;&#160;((<a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)(((unsigned long)(a)) | ((<a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)((unsigned long)(b))) &lt;&lt; 32))</td></tr>
<tr class="separator:abb9fced82ed75c8bba3235ee4a45d389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c8d0b76b470ba65a43ca46a88320f39"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a4c8d0b76b470ba65a43ca46a88320f39">SEEK_CUR</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a4c8d0b76b470ba65a43ca46a88320f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a2e6c114780c3071efd24f16c7f7d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ad2a2e6c114780c3071efd24f16c7f7d8">SEEK_END</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ad2a2e6c114780c3071efd24f16c7f7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d112bae8fd35be772185b6ec6bcbe64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a0d112bae8fd35be772185b6ec6bcbe64">SEEK_SET</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a0d112bae8fd35be772185b6ec6bcbe64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a836292d756d7119c390ac856b702ba82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a836292d756d7119c390ac856b702ba82">SIZEDATA_INDATABLOCK</a>&#160;&#160;&#160;(4096-(4*4))</td></tr>
<tr class="separator:a836292d756d7119c390ac856b702ba82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9341868e4dbaa2610fe54b599cd8965f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a9341868e4dbaa2610fe54b599cd8965f">LOCALHEADERMAGIC</a>&#160;&#160;&#160;(0x04034b50)</td></tr>
<tr class="separator:a9341868e4dbaa2610fe54b599cd8965f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc838f5b502bdf59ae254ae09c2e0d36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#afc838f5b502bdf59ae254ae09c2e0d36">DESCRIPTORHEADERMAGIC</a>&#160;&#160;&#160;(0x08074b50)</td></tr>
<tr class="separator:afc838f5b502bdf59ae254ae09c2e0d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a693b6919a7002d5d8f2030ea38bdb745"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a693b6919a7002d5d8f2030ea38bdb745">CENTRALHEADERMAGIC</a>&#160;&#160;&#160;(0x02014b50)</td></tr>
<tr class="separator:a693b6919a7002d5d8f2030ea38bdb745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919e00d5518c0ac9c5f46f7265d4c292"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a919e00d5518c0ac9c5f46f7265d4c292">ENDHEADERMAGIC</a>&#160;&#160;&#160;(0x06054b50)</td></tr>
<tr class="separator:a919e00d5518c0ac9c5f46f7265d4c292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eaf0b0d00af51ea85626bc8ebb1d0a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a2eaf0b0d00af51ea85626bc8ebb1d0a6">ZIP64ENDHEADERMAGIC</a>&#160;&#160;&#160;(0x6064b50)</td></tr>
<tr class="separator:a2eaf0b0d00af51ea85626bc8ebb1d0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af98a91c14cd4ab92931438c0c4f72341"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#af98a91c14cd4ab92931438c0c4f72341">ZIP64ENDLOCHEADERMAGIC</a>&#160;&#160;&#160;(0x7064b50)</td></tr>
<tr class="separator:af98a91c14cd4ab92931438c0c4f72341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a264fabfc0967e5c2e045a153599cbb75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a264fabfc0967e5c2e045a153599cbb75">FLAG_LOCALHEADER_OFFSET</a>&#160;&#160;&#160;(0x06)</td></tr>
<tr class="separator:a264fabfc0967e5c2e045a153599cbb75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d8aae52c0ac93104210373043250e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a49d8aae52c0ac93104210373043250e6">CRC_LOCALHEADER_OFFSET</a>&#160;&#160;&#160;(0x0e)</td></tr>
<tr class="separator:a49d8aae52c0ac93104210373043250e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d462da8349d0e3e53ecbaf284336066"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a1d462da8349d0e3e53ecbaf284336066">SIZECENTRALHEADER</a>&#160;&#160;&#160;(0x2e) /* 46 */</td></tr>
<tr class="separator:a1d462da8349d0e3e53ecbaf284336066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef9f96d4641105f1c2f5e7d5a51c713"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#aeef9f96d4641105f1c2f5e7d5a51c713">INCLUDECRYPTINGCODE_IFCRYPTALLOWED</a></td></tr>
<tr class="separator:aeef9f96d4641105f1c2f5e7d5a51c713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11acfc377461094b27681612f0bd277d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>&#160;&#160;&#160;(0x400)</td></tr>
<tr class="separator:a11acfc377461094b27681612f0bd277d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a21586adcb5de6c5283fc312e34610761"><td class="memItemLeft" align="right" valign="top">typedef uLongf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a21586adcb5de6c5283fc312e34610761">z_crc_t</a></td></tr>
<tr class="separator:a21586adcb5de6c5283fc312e34610761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fbdcdae11bfc659d6df182b6d3407ba"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a0fbdcdae11bfc659d6df182b6d3407ba">linkedlist_datablock_internal</a></td></tr>
<tr class="separator:a0fbdcdae11bfc659d6df182b6d3407ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52b5c8e8dd89c66d476a4be0752755b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="zip_8c.html#structlinkedlist__data__s">linkedlist_data_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ab52b5c8e8dd89c66d476a4be0752755b">linkedlist_data</a></td></tr>
<tr class="separator:ab52b5c8e8dd89c66d476a4be0752755b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a904f85612fbfecc3a5238535e7a34cc6"><td class="memItemLeft" align="right" valign="top">static <br class="typebreak"/>
<a class="el" href="zip_8c.html#a0fbdcdae11bfc659d6df182b6d3407ba">linkedlist_datablock_internal</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6">allocate_new_datablock</a> ()</td></tr>
<tr class="separator:a904f85612fbfecc3a5238535e7a34cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1880c519f87166d1e881d8c774836d7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ae1880c519f87166d1e881d8c774836d7">free_datablock</a> (<a class="el" href="zip_8c.html#a0fbdcdae11bfc659d6df182b6d3407ba">linkedlist_datablock_internal</a> *ldi)</td></tr>
<tr class="separator:ae1880c519f87166d1e881d8c774836d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c2a1e974d3ab6f326b743af32e53794"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a6c2a1e974d3ab6f326b743af32e53794">init_linkedlist</a> (<a class="el" href="zip_8c.html#ab52b5c8e8dd89c66d476a4be0752755b">linkedlist_data</a> *ll)</td></tr>
<tr class="separator:a6c2a1e974d3ab6f326b743af32e53794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf0486190c480fc1cc3b194ec0c0956"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#afdf0486190c480fc1cc3b194ec0c0956">free_linkedlist</a> (<a class="el" href="zip_8c.html#ab52b5c8e8dd89c66d476a4be0752755b">linkedlist_data</a> *ll)</td></tr>
<tr class="separator:afdf0486190c480fc1cc3b194ec0c0956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af027310aec51b70ed53bc0bda4392ede"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede">add_data_in_datablock</a> (<a class="el" href="zip_8c.html#ab52b5c8e8dd89c66d476a4be0752755b">linkedlist_data</a> *ll, const void *buf, uLong len)</td></tr>
<tr class="separator:af027310aec51b70ed53bc0bda4392ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e419279fba19a57c546cd193180599"><td class="memItemLeft" align="right" valign="top">static int <a class="el" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ac3e419279fba19a57c546cd193180599">_Z_OF</a> ((const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> x, int nbByte))</td></tr>
<tr class="separator:ac3e419279fba19a57c546cd193180599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1106d32873a7959b923bbb5d444f8b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a> (const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> x, int nbByte)</td></tr>
<tr class="separator:aed1106d32873a7959b923bbb5d444f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95bffc9b04547bd9b19d40cecf03b396"><td class="memItemLeft" align="right" valign="top">static void <br class="typebreak"/>
<a class="el" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a95bffc9b04547bd9b19d40cecf03b396">_Z_OF</a> ((void *dest, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> x, int nbByte))</td></tr>
<tr class="separator:a95bffc9b04547bd9b19d40cecf03b396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7487c44c33a7aa8d29c640619575a144"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a> (void *dest, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> x, int nbByte)</td></tr>
<tr class="separator:a7487c44c33a7aa8d29c640619575a144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037626935aca46ac3a5397dd61297783"><td class="memItemLeft" align="right" valign="top">static uLong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a037626935aca46ac3a5397dd61297783">zip64local_TmzDateToDosDate</a> (const <a class="el" href="zip_8h.html#a93b9012a85479327c6da966108d8f743">tm_zip</a> *ptm)</td></tr>
<tr class="separator:a037626935aca46ac3a5397dd61297783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5627e612447b5f6a184a057234aad90e"><td class="memItemLeft" align="right" valign="top">static int <a class="el" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a5627e612447b5f6a184a057234aad90e">_Z_OF</a> ((const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, int *pi))</td></tr>
<tr class="separator:a5627e612447b5f6a184a057234aad90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60b20a868ebdbd3d314d277faa9b096"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a> (const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, int *pi)</td></tr>
<tr class="separator:ad60b20a868ebdbd3d314d277faa9b096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b2d55a390c093619d37ee6c86376b5"><td class="memItemLeft" align="right" valign="top">static int <a class="el" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a69b2d55a390c093619d37ee6c86376b5">_Z_OF</a> ((const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, uLong *pX))</td></tr>
<tr class="separator:a69b2d55a390c093619d37ee6c86376b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d52d3592e65398e57bb52850c3f18b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a> (const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, uLong *pX)</td></tr>
<tr class="separator:a49d52d3592e65398e57bb52850c3f18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e4ecae0dd3d2e2a749f83c48e78d66"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a> (const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, uLong *pX)</td></tr>
<tr class="separator:af9e4ecae0dd3d2e2a749f83c48e78d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8013f3c7b2cbdad291e1da92718bcd49"><td class="memItemLeft" align="right" valign="top">static int <a class="el" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a8013f3c7b2cbdad291e1da92718bcd49">_Z_OF</a> ((const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> *pX))</td></tr>
<tr class="separator:a8013f3c7b2cbdad291e1da92718bcd49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d544970649a6e4e7e423a29b29dba81"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a> (const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> *pX)</td></tr>
<tr class="separator:a7d544970649a6e4e7e423a29b29dba81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae1db59cb3bc0c922de580947ec2acee"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> <br class="typebreak"/>
<a class="el" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea">zip64local_SearchCentralDir</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#aae1db59cb3bc0c922de580947ec2acee">_Z_OF</a> ((const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream))</td></tr>
<tr class="separator:aae1db59cb3bc0c922de580947ec2acee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7235a2cfdd684a93a58a36a7dab3ecea"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea">zip64local_SearchCentralDir</a> (const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream)</td></tr>
<tr class="separator:a7235a2cfdd684a93a58a36a7dab3ecea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b5c3b2aeca1bd92799ba00f0cc8fe5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5">zip64local_SearchCentralDir64</a> (const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream)</td></tr>
<tr class="separator:ac4b5c3b2aeca1bd92799ba00f0cc8fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44da2707a5a0031b9c263f9373918f29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29">LoadCentralDirectoryRecord</a> (<a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *pziinit)</td></tr>
<tr class="separator:a44da2707a5a0031b9c263f9373918f29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb26503b56121bf3b5779b4df561b24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a> (voidpf file, int append, <a class="el" href="zip_8h.html#a3fb78711550861eb5b72cff21f1b1a84">zipcharpc</a> *globalcomment, <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc64_32_def, unsigned flags)</td></tr>
<tr class="separator:a6cb26503b56121bf3b5779b4df561b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ab4da81787241b90623ab2dfb5f64a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a">zipOpen2</a> (voidpf file, int append, <a class="el" href="zip_8h.html#a3fb78711550861eb5b72cff21f1b1a84">zipcharpc</a> *globalcomment, <a class="el" href="ioapi_8h.html#a269f2bded66a7ee4052a60025afebd7e">zlib_filefunc_def</a> *pzlib_filefunc32_def)</td></tr>
<tr class="separator:a67ab4da81787241b90623ab2dfb5f64a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5902bca5d94f10555ebc03e83e10256"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256">zipOpen2_64</a> (voidpf file, int append, <a class="el" href="zip_8h.html#a3fb78711550861eb5b72cff21f1b1a84">zipcharpc</a> *globalcomment, <a class="el" href="ioapi_8h.html#a6be8577ecdaf6c1f57fb75006aa2b56c">zlib_filefunc64_def</a> *pzlib_filefunc_def)</td></tr>
<tr class="separator:af5902bca5d94f10555ebc03e83e10256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f498af9fd0d6dae2293917822f17c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8">zipOpen</a> (voidpf file, int append)</td></tr>
<tr class="separator:a20f498af9fd0d6dae2293917822f17c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab85905a76f7b4cf2001b71a561ee0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e">zipOpen64</a> (voidpf file, int append)</td></tr>
<tr class="separator:abab85905a76f7b4cf2001b71a561ee0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9fb1f116f655bd474a19d383f9b89f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f">Write_LocalFileHeader</a> (<a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *zi, const char *filename, uInt size_extrafield_local, const void *extrafield_local, uLong version_to_extract)</td></tr>
<tr class="separator:a1c9fb1f116f655bd474a19d383f9b89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638e4d5a7305f25e1ef6c2f6f14e2861"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const char *filename, const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, uLong versionMadeBy, uLong flagBase, int zip64)</td></tr>
<tr class="separator:a638e4d5a7305f25e1ef6c2f6f14e2861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b74c0699d8c456b405a0fa43a322e8"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8">zipOpenNewFileInZip4</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const char *filename, const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, uLong versionMadeBy, uLong flagBase)</td></tr>
<tr class="separator:a18b74c0699d8c456b405a0fa43a322e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b17cc2fa173054a156218befe2b31f5"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5">zipOpenNewFileInZip3</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const char *filename, const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting)</td></tr>
<tr class="separator:a6b17cc2fa173054a156218befe2b31f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef753bf5ddc5752d6069a2d4f3ca0e9"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9">zipOpenNewFileInZip3_64</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const char *filename, const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, int zip64)</td></tr>
<tr class="separator:adef753bf5ddc5752d6069a2d4f3ca0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3c822f7ddf7c351e7a6c633ed1590d4"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4">zipOpenNewFileInZip2</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const char *filename, const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw)</td></tr>
<tr class="separator:ae3c822f7ddf7c351e7a6c633ed1590d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad975ed2489784c4ae4847d75bc3fc7bc"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc">zipOpenNewFileInZip2_64</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const char *filename, const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int zip64)</td></tr>
<tr class="separator:ad975ed2489784c4ae4847d75bc3fc7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a180a6d99515153ada3b58349fcee6a4c"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c">zipOpenNewFileInZip64</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const char *filename, const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int zip64)</td></tr>
<tr class="separator:a180a6d99515153ada3b58349fcee6a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14cf664b19f00f41f6865a7c3173e973"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973">zipOpenNewFileInZip</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const char *filename, const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level)</td></tr>
<tr class="separator:a14cf664b19f00f41f6865a7c3173e973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5b2c3f96ae2bf9006a86beb31eb659"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659">zip64FlushWriteBuffer</a> (<a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *zi)</td></tr>
<tr class="separator:a9c5b2c3f96ae2bf9006a86beb31eb659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc932f54d0746b26f428660c92029a9f"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#acc932f54d0746b26f428660c92029a9f">zipWriteInFileInZip</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const void *buf, unsigned int len)</td></tr>
<tr class="separator:acc932f54d0746b26f428660c92029a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43fe6f36cef62c7f34c0fdb4c8288b87"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87">zipCloseFileInZipRaw</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, uLong uncompressed_size, uLong crc32)</td></tr>
<tr class="separator:a43fe6f36cef62c7f34c0fdb4c8288b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bed1cfe7ae981d2a433a1dbdb2cc436"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436">zipCloseFileInZipRaw64</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uncompressed_size, uLong crc32)</td></tr>
<tr class="separator:a3bed1cfe7ae981d2a433a1dbdb2cc436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae470f753aef4cffe4f77a5ec2bcfbde1"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1">zipCloseFileInZip</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file)</td></tr>
<tr class="separator:ae470f753aef4cffe4f77a5ec2bcfbde1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c440209ccea3275591d82ef1170caec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a9c440209ccea3275591d82ef1170caec">Write_Zip64EndOfCentralDirectoryLocator</a> (<a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *zi, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> zip64eocd_pos_inzip)</td></tr>
<tr class="separator:a9c440209ccea3275591d82ef1170caec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e803b9de3378b55508de949f9725480"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a3e803b9de3378b55508de949f9725480">Write_Zip64EndOfCentralDirectoryRecord</a> (<a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *zi, uLong size_centraldir, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> centraldir_pos_inzip)</td></tr>
<tr class="separator:a3e803b9de3378b55508de949f9725480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26acf4764f6b8c19f0feb18ac5315438"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a26acf4764f6b8c19f0feb18ac5315438">Write_EndOfCentralDirectoryRecord</a> (<a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *zi, uLong size_centraldir, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> centraldir_pos_inzip)</td></tr>
<tr class="separator:a26acf4764f6b8c19f0feb18ac5315438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe52628c128fa6397329f43e60420142"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#afe52628c128fa6397329f43e60420142">Write_GlobalComment</a> (<a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *zi, const char *global_comment)</td></tr>
<tr class="separator:afe52628c128fa6397329f43e60420142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fda7a41fa2f57d105ffc7d1cbcf53cc"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc">zipClose</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, const char *global_comment)</td></tr>
<tr class="separator:a4fda7a41fa2f57d105ffc7d1cbcf53cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7ef1d8f1f51aaa417830ded3a39ab7"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a3b7ef1d8f1f51aaa417830ded3a39ab7">zipRemoveExtraInfoBlock</a> (char *pData, int *dataLen, short sHeader)</td></tr>
<tr class="separator:a3b7ef1d8f1f51aaa417830ded3a39ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a697bb6dde7f8267f764a85a4367d75dd"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a697bb6dde7f8267f764a85a4367d75dd">zipSetFlags</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, unsigned flags)</td></tr>
<tr class="separator:a697bb6dde7f8267f764a85a4367d75dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7e012c35c9b56e7623f8f7937ac5c1"><td class="memItemLeft" align="right" valign="top">int ZEXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#aee7e012c35c9b56e7623f8f7937ac5c1">zipClearFlags</a> (<a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> file, unsigned flags)</td></tr>
<tr class="separator:aee7e012c35c9b56e7623f8f7937ac5c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2f04ce339195ade34f75dcba39524570"><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zip_8c.html#a2f04ce339195ade34f75dcba39524570">zip_copyright</a> [] =&quot; zip 1.01 Copyright 1998-2004 Gilles Vollant - http://www.winimage.com/zLibDll&quot;</td></tr>
<tr class="separator:a2f04ce339195ade34f75dcba39524570"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structlinkedlist__datablock__internal__s" id="structlinkedlist__datablock__internal__s"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct linkedlist_datablock_internal_s</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p>Definition at line <a class="el" href="zip_8c_source.html#l00121">121</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for linkedlist_datablock_internal_s:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structlinkedlist__datablock__internal__s__coll__graph.png" border="0" usemap="#linkedlist__datablock__internal__s_coll__map" alt="Collaboration graph"/></div>
<map name="linkedlist__datablock__internal__s_coll__map" id="linkedlist__datablock__internal__s_coll__map">
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a1d63f75d88f05ee665221ccf618a57ed"></a>uLong</td>
<td class="fieldname">
avail_in_this_block</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aefd2c4c9e00d76a031bc3c37f7731d44"></a>unsigned char</td>
<td class="fieldname">
data[(4096-(4 *4))]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a76ae854b6029e6617c7544d2eb311f77"></a>uLong</td>
<td class="fieldname">
filled_in_this_block</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a1f5abadbf41d82b8724a048a33c4c153"></a>struct <br class="typebreak"/>
<a class="el" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal_s</a> *</td>
<td class="fieldname">
next_datablock</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae7275ad9d24cbe4f4c062f29abfb3b91"></a>uLong</td>
<td class="fieldname">
unused</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structlinkedlist__data__s" id="structlinkedlist__data__s"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct linkedlist_data_s</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p>Definition at line <a class="el" href="zip_8c_source.html#l00130">130</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>
</div><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Collaboration diagram for linkedlist_data_s:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structlinkedlist__data__s__coll__graph.png" border="0" usemap="#linkedlist__data__s_coll__map" alt="Collaboration graph"/></div>
<map name="linkedlist__data__s_coll__map" id="linkedlist__data__s_coll__map">
<area shape="rect" id="node2" href="zip_8c.html#structlinkedlist__datablock__internal__s" title="{linkedlist_datablock\l_internal_s\n||}" alt="" coords="41,177,176,269"/></map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa0a9c876ad4a05aa5969d8888fb57cdb"></a><a class="el" href="zip_8c.html#a0fbdcdae11bfc659d6df182b6d3407ba">linkedlist_datablock_internal</a> *</td>
<td class="fieldname">
first_block</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a26afdb5141483c909dafb8c5fd016bb8"></a><a class="el" href="zip_8c.html#a0fbdcdae11bfc659d6df182b6d3407ba">linkedlist_datablock_internal</a> *</td>
<td class="fieldname">
last_block</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structcurfile64__info" id="structcurfile64__info"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct curfile64_info</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p>Definition at line <a class="el" href="zip_8c_source.html#l00137">137</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>
</div><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Collaboration diagram for curfile64_info:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structcurfile64__info__coll__graph.png" border="0" usemap="#curfile64__info_coll__map" alt="Collaboration graph"/></div>
<map name="curfile64__info_coll__map" id="curfile64__info_coll__map">
</map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a944e71daf341a3379fdcc58fb8f68bd9"></a>Byte</td>
<td class="fieldname">
buffered_data[(64 *1024)]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa090dd081d0cf805614041c6a5a4438f"></a>char *</td>
<td class="fieldname">
central_header</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa15643650c3d8564776ea87873134364"></a>uLong</td>
<td class="fieldname">
crc32</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a17e9931ff5683fded26eb3d99d80bf0e"></a>int</td>
<td class="fieldname">
crypt_header_size</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa1f0ca7db2e2129524953a29fa822933"></a>uLong</td>
<td class="fieldname">
dosDate</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae25bb2a6b1e0b04f60011089db7fa123"></a>int</td>
<td class="fieldname">
encrypt</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9d4baf5968e4cb192060bcba2d039282"></a>uLong</td>
<td class="fieldname">
flag</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a1c4fff54045c80444eb155d42f6e58de"></a>unsigned long</td>
<td class="fieldname">
keys[3]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="afc121266093b2d0e27f309dc4dc8cd2f"></a>int</td>
<td class="fieldname">
method</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a16813802061410c5c34cbd1f441739d8"></a>const <a class="el" href="unzip_8c.html#a21586adcb5de6c5283fc312e34610761">z_crc_t</a> FAR *</td>
<td class="fieldname">
pcrc_32_tab</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a208198f19c7d165203225903455478fd"></a>uInt</td>
<td class="fieldname">
pos_in_buffered_data</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6225decff0849b90f09a63addab95c64"></a><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></td>
<td class="fieldname">
pos_local_header</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a45dfe9b2562314f29f7df1bad71da528"></a><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></td>
<td class="fieldname">
pos_zip64extrainfo</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad86ea5e726a03803f04c05b405af370a"></a>int</td>
<td class="fieldname">
raw</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ab4c965d0fe696204fe23e4efd0cc2edb"></a>uLong</td>
<td class="fieldname">
size_centralExtra</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a885ce2d7f41cbac1a2ef990643e62069"></a>uLong</td>
<td class="fieldname">
size_centralExtraFree</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a17de1df264e0e162f777f2ae7cef0d55"></a>uLong</td>
<td class="fieldname">
size_centralheader</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a765936b069e6e2be6d85589614af8583"></a>z_stream</td>
<td class="fieldname">
stream</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a43c3fdea776df57014ea61d952972b94"></a>int</td>
<td class="fieldname">
stream_initialised</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aadb153e7bdc293b685396e92830ed51e"></a><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></td>
<td class="fieldname">
totalCompressedData</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aeb933f725cb47e023135657e22173c1d"></a><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></td>
<td class="fieldname">
totalUncompressedData</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad8f4cd023ee61e46aac147d266be0538"></a>int</td>
<td class="fieldname">
zip64</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structzip64__internal" id="structzip64__internal"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct zip64_internal</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p>Definition at line <a class="el" href="zip_8c_source.html#l00172">172</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>
</div><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Collaboration diagram for zip64_internal:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structzip64__internal__coll__graph.png" border="0" usemap="#zip64__internal_coll__map" alt="Collaboration graph"/></div>
<map name="zip64__internal_coll__map" id="zip64__internal_coll__map">
<area shape="rect" id="node21" href="zip_8c.html#structcurfile64__info" title="{curfile64_info\n||}" alt="" coords="661,488,760,565"/><area shape="rect" id="node3" href="zip_8c.html#structlinkedlist__data__s" title="{linkedlist_data_s\n||}" alt="" coords="81,488,199,565"/><area shape="rect" id="node4" href="zip_8c.html#structlinkedlist__datablock__internal__s" title="{linkedlist_datablock\l_internal_s\n||}" alt="" coords="55,177,189,269"/><area shape="rect" id="node13" href="ioapi_8h.html#structzlib__filefunc64__def__s" title="{zlib_filefunc64_def_s\n||}" alt="" coords="1608,184,1752,261"/><area shape="rect" id="node9" href="ioapi_8h.html#structzlib__filefunc64__32__def__s" title="{zlib_filefunc64_32\l_def_s\n||}" alt="" coords="1617,481,1743,573"/></map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a74984ae4b2cdc5b5eade871ee61b2261"></a><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></td>
<td class="fieldname">
add_position_when_writting_offset</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="adff1d5f1509675f5f1c9797c5addc1a7"></a><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></td>
<td class="fieldname">
begin_pos</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a869144921e51ec758f1b60dba2f1a2af"></a><a class="el" href="zip_8c.html#ab52b5c8e8dd89c66d476a4be0752755b">linkedlist_data</a></td>
<td class="fieldname">
central_dir</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a05bf290332d456dbecee6d870a3b6559"></a><a class="el" href="zip_8c.html#structcurfile64__info">curfile64_info</a></td>
<td class="fieldname">
ci</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5b451e00303fe5192adf7c1d6740d754"></a>voidpf</td>
<td class="fieldname">
filestream</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a388120a043a52c734276c24c47dbc1fa"></a>unsigned</td>
<td class="fieldname">
flags</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a997ca8e9d08081a280e32b7c4280f090"></a>char *</td>
<td class="fieldname">
globalcomment</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa24353ae49bce7e6d6aa3f5994782be7"></a>int</td>
<td class="fieldname">
in_opened_file_inzip</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2d8ae560933ed00ee61052446288f4a8"></a><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></td>
<td class="fieldname">
number_entry</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac4ccb50738cbefbd40e075b297c65548"></a><a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a></td>
<td class="fieldname">
z_filefunc</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ac5c822e3692a95451e8f70a5916f05a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALLOC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size</td><td>)</td>
          <td>&#160;&#160;&#160;(malloc(size))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00068">68</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00198">allocate_new_datablock()</a>, <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>, <a class="el" href="zip_8c_source.html#l00489">zip64local_SearchCentralDir()</a>, <a class="el" href="zip_8c_source.html#l00551">zip64local_SearchCentralDir64()</a>, <a class="el" href="zip_8c_source.html#l00862">zipOpen3()</a>, <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>, and <a class="el" href="zip_8c_source.html#l02019">zipRemoveExtraInfoBlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a11acfc377461094b27681612f0bd277d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFREADCOMMENT&#160;&#160;&#160;(0x400)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00481">481</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00489">zip64local_SearchCentralDir()</a>, and <a class="el" href="zip_8c_source.html#l00551">zip64local_SearchCentralDir64()</a>.</p>

</div>
</div>
<a class="anchor" id="a693b6919a7002d5d8f2030ea38bdb745"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CENTRALHEADERMAGIC&#160;&#160;&#160;(0x02014b50)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00111">111</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>

</div>
</div>
<a class="anchor" id="a49d8aae52c0ac93104210373043250e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRC_LOCALHEADER_OFFSET&#160;&#160;&#160;(0x0e)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00117">117</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
<a class="anchor" id="afc838f5b502bdf59ae254ae09c2e0d36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DESCRIPTORHEADERMAGIC&#160;&#160;&#160;(0x08074b50)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00110">110</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01554">zipCloseFileInZipRaw64()</a>.</p>

</div>
</div>
<a class="anchor" id="a919e00d5518c0ac9c5f46f7265d4c292"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENDHEADERMAGIC&#160;&#160;&#160;(0x06054b50)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00112">112</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01876">Write_EndOfCentralDirectoryRecord()</a>.</p>

</div>
</div>
<a class="anchor" id="a264fabfc0967e5c2e045a153599cbb75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLAG_LOCALHEADER_OFFSET&#160;&#160;&#160;(0x06)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00116">116</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
<a class="anchor" id="aeef9f96d4641105f1c2f5e7d5a51c713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INCLUDECRYPTINGCODE_IFCRYPTALLOWED</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00194">194</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
<a class="anchor" id="a08023ea6765c99d60a6a3840cd07156e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define local&#160;&#160;&#160;static</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00051">51</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9341868e4dbaa2610fe54b599cd8965f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCALHEADERMAGIC&#160;&#160;&#160;(0x04034b50)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00109">109</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00977">Write_LocalFileHeader()</a>.</p>

</div>
</div>
<a class="anchor" id="abb9fced82ed75c8bba3235ee4a45d389"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAKEULONG64</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((<a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)(((unsigned long)(a)) | ((<a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)((unsigned long)(b))) &lt;&lt; 32))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00083">83</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4c8d0b76b470ba65a43ca46a88320f39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEEK_CUR&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00086">86</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad2a2e6c114780c3071efd24f16c7f7d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEEK_END&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00090">90</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00862">zipOpen3()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d112bae8fd35be772185b6ec6bcbe64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEEK_SET&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00094">94</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1d462da8349d0e3e53ecbaf284336066"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIZECENTRALHEADER&#160;&#160;&#160;(0x2e) /* 46 */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00119">119</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>

</div>
</div>
<a class="anchor" id="a836292d756d7119c390ac856b702ba82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIZEDATA_INDATABLOCK&#160;&#160;&#160;(4096-(4*4))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00107">107</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00198">allocate_new_datablock()</a>, and <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>.</p>

</div>
</div>
<a class="anchor" id="a5fb23c00a00f3856832e660edc2ab03d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRYFREE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p</td><td>)</td>
          <td>&#160;&#160;&#160;{if (p) free(p);}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00071">71</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00212">free_datablock()</a>, <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>, <a class="el" href="zip_8c_source.html#l00489">zip64local_SearchCentralDir()</a>, <a class="el" href="zip_8c_source.html#l00551">zip64local_SearchCentralDir64()</a>, <a class="el" href="zip_8c_source.html#l01942">zipClose()</a>, <a class="el" href="zip_8c_source.html#l00862">zipOpen3()</a>, and <a class="el" href="zip_8c_source.html#l02019">zipRemoveExtraInfoBlock()</a>.</p>

</div>
</div>
<a class="anchor" id="a0887c08f255f7a753b460e30ed14a3cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERSIONMADEBY&#160;&#160;&#160;(0x031e) /* best for standard pkware crypt */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00056">56</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01390">zipOpenNewFileInZip()</a>, <a class="el" href="zip_8c_source.html#l01351">zipOpenNewFileInZip2()</a>, <a class="el" href="zip_8c_source.html#l01364">zipOpenNewFileInZip2_64()</a>, <a class="el" href="zip_8c_source.html#l01321">zipOpenNewFileInZip3()</a>, <a class="el" href="zip_8c_source.html#l01336">zipOpenNewFileInZip3_64()</a>, and <a class="el" href="zip_8c_source.html#l01377">zipOpenNewFileInZip64()</a>.</p>

</div>
</div>
<a class="anchor" id="a1491823e6cf52e751120f367bdc68a00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Z_BUFSIZE&#160;&#160;&#160;(64*1024) /* (16384) */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00060">60</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01554">zipCloseFileInZipRaw64()</a>, <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>, and <a class="el" href="zip_8c_source.html#l01442">zipWriteInFileInZip()</a>.</p>

</div>
</div>
<a class="anchor" id="a135c063faff93cb20013a8c28b8d1984"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Z_MAXFILENAMEINZIP&#160;&#160;&#160;(256)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00064">64</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2eaf0b0d00af51ea85626bc8ebb1d0a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZIP64ENDHEADERMAGIC&#160;&#160;&#160;(0x6064b50)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00113">113</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01837">Write_Zip64EndOfCentralDirectoryRecord()</a>.</p>

</div>
</div>
<a class="anchor" id="af98a91c14cd4ab92931438c0c4f72341"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZIP64ENDLOCHEADERMAGIC&#160;&#160;&#160;(0x7064b50)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00114">114</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01815">Write_Zip64EndOfCentralDirectoryLocator()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ab52b5c8e8dd89c66d476a4be0752755b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="zip_8c.html#structlinkedlist__data__s">linkedlist_data_s</a>  <a class="el" href="zip_8c.html#ab52b5c8e8dd89c66d476a4be0752755b">linkedlist_data</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0fbdcdae11bfc659d6df182b6d3407ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal_s</a>  <a class="el" href="zip_8c.html#a0fbdcdae11bfc659d6df182b6d3407ba">linkedlist_datablock_internal</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a21586adcb5de6c5283fc312e34610761"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uLongf <a class="el" href="unzip_8c.html#a21586adcb5de6c5283fc312e34610761">z_crc_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00034">34</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac3e419279fba19a57c546cd193180599"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a> _Z_OF </td>
          <td>(</td>
          <td class="paramtype">(const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> x, int nbByte)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a95bffc9b04547bd9b19d40cecf03b396"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a> _Z_OF </td>
          <td>(</td>
          <td class="paramtype">(void *dest, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> x, int nbByte)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5627e612447b5f6a184a057234aad90e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a> _Z_OF </td>
          <td>(</td>
          <td class="paramtype">(const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, int *pi)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a69b2d55a390c093619d37ee6c86376b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a> _Z_OF </td>
          <td>(</td>
          <td class="paramtype">(const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, uLong *pX)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8013f3c7b2cbdad291e1da92718bcd49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a> _Z_OF </td>
          <td>(</td>
          <td class="paramtype">(const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream, <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> *pX)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aae1db59cb3bc0c922de580947ec2acee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> <a class="el" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea">zip64local_SearchCentralDir</a> _Z_OF </td>
          <td>(</td>
          <td class="paramtype">(const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *pzlib_filefunc_def, voidpf filestream)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af027310aec51b70ed53bc0bda4392ede"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_data_in_datablock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#ab52b5c8e8dd89c66d476a4be0752755b">linkedlist_data</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00234">234</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00198">allocate_new_datablock()</a>, <a class="el" href="zip_8c_source.html#l00124">linkedlist_datablock_internal_s::avail_in_this_block</a>, <a class="el" href="zip_8c_source.html#l00127">linkedlist_datablock_internal_s::data</a>, <a class="el" href="zip_8c_source.html#l00125">linkedlist_datablock_internal_s::filled_in_this_block</a>, <a class="el" href="zip_8c_source.html#l00132">linkedlist_data_s::first_block</a>, <a class="el" href="zip_8c_source.html#l00133">linkedlist_data_s::last_block</a>, <a class="el" href="zip_8c_source.html#l00123">linkedlist_datablock_internal_s::next_datablock</a>, <a class="el" href="zip_8h_source.html#l00083">ZIP_INTERNALERROR</a>, and <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>, and <a class="el" href="zip_8c_source.html#l01554">zipCloseFileInZipRaw64()</a>.</p>
<div class="fragment"><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;{</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal</a>* ldi;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* from_copy;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (ll==NULL)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a7a86a2252db1151ec7ec91593e38f379">ZIP_INTERNALERROR</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (ll-&gt;<a class="code" href="zip_8c.html#a26afdb5141483c909dafb8c5fd016bb8">last_block</a> == NULL)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        ll-&gt;<a class="code" href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">first_block</a> = ll-&gt;<a class="code" href="zip_8c.html#a26afdb5141483c909dafb8c5fd016bb8">last_block</a> = <a class="code" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6">allocate_new_datablock</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span> (ll-&gt;<a class="code" href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">first_block</a> == NULL)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a7a86a2252db1151ec7ec91593e38f379">ZIP_INTERNALERROR</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    ldi = ll-&gt;<a class="code" href="zip_8c.html#a26afdb5141483c909dafb8c5fd016bb8">last_block</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    from_copy = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)buf;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">while</span> (len&gt;0)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        uInt copy_this;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        uInt i;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* to_copy;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">if</span> (ldi-&gt;<a class="code" href="zip_8c.html#a1d63f75d88f05ee665221ccf618a57ed">avail_in_this_block</a>==0)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            ldi-&gt;<a class="code" href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">next_datablock</a> = <a class="code" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6">allocate_new_datablock</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keywordflow">if</span> (ldi-&gt;<a class="code" href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">next_datablock</a> == NULL)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a7a86a2252db1151ec7ec91593e38f379">ZIP_INTERNALERROR</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            ldi = ldi-&gt;<a class="code" href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">next_datablock</a> ;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            ll-&gt;<a class="code" href="zip_8c.html#a26afdb5141483c909dafb8c5fd016bb8">last_block</a> = ldi;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span> (ldi-&gt;<a class="code" href="zip_8c.html#a1d63f75d88f05ee665221ccf618a57ed">avail_in_this_block</a> &lt; len)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            copy_this = (uInt)ldi-&gt;<a class="code" href="zip_8c.html#a1d63f75d88f05ee665221ccf618a57ed">avail_in_this_block</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            copy_this = (uInt)len;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        to_copy = &amp;(ldi-&gt;<a class="code" href="zip_8c.html#aefd2c4c9e00d76a031bc3c37f7731d44">data</a>[ldi-&gt;<a class="code" href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">filled_in_this_block</a>]);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">for</span> (i=0;i&lt;copy_this;i++)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            *(to_copy+i)=*(from_copy+i);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        ldi-&gt;<a class="code" href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">filled_in_this_block</a> += copy_this;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        ldi-&gt;<a class="code" href="zip_8c.html#a1d63f75d88f05ee665221ccf618a57ed">avail_in_this_block</a> -= copy_this;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        from_copy += copy_this ;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        len -= copy_this;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_aefd2c4c9e00d76a031bc3c37f7731d44"><div class="ttname"><a href="zip_8c.html#aefd2c4c9e00d76a031bc3c37f7731d44">linkedlist_datablock_internal_s::data</a></div><div class="ttdeci">unsigned char data[(4096-(4 *4))]</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00127">zip.c:127</a></div></div>
<div class="ttc" id="zip_8c_html_a26afdb5141483c909dafb8c5fd016bb8"><div class="ttname"><a href="zip_8c.html#a26afdb5141483c909dafb8c5fd016bb8">linkedlist_data_s::last_block</a></div><div class="ttdeci">linkedlist_datablock_internal * last_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00133">zip.c:133</a></div></div>
<div class="ttc" id="zip_8h_html_a7a86a2252db1151ec7ec91593e38f379"><div class="ttname"><a href="zip_8h.html#a7a86a2252db1151ec7ec91593e38f379">ZIP_INTERNALERROR</a></div><div class="ttdeci">#define ZIP_INTERNALERROR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00083">zip.h:83</a></div></div>
<div class="ttc" id="zip_8c_html_a904f85612fbfecc3a5238535e7a34cc6"><div class="ttname"><a href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6">allocate_new_datablock</a></div><div class="ttdeci">static linkedlist_datablock_internal * allocate_new_datablock()</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00198">zip.c:198</a></div></div>
<div class="ttc" id="zip_8c_html_a76ae854b6029e6617c7544d2eb311f77"><div class="ttname"><a href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">linkedlist_datablock_internal_s::filled_in_this_block</a></div><div class="ttdeci">uLong filled_in_this_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00125">zip.c:125</a></div></div>
<div class="ttc" id="zip_8c_html_a1d63f75d88f05ee665221ccf618a57ed"><div class="ttname"><a href="zip_8c.html#a1d63f75d88f05ee665221ccf618a57ed">linkedlist_datablock_internal_s::avail_in_this_block</a></div><div class="ttdeci">uLong avail_in_this_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00124">zip.c:124</a></div></div>
<div class="ttc" id="zip_8c_html_structlinkedlist__datablock__internal__s"><div class="ttname"><a href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal_s</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00121">zip.c:121</a></div></div>
<div class="ttc" id="zip_8c_html_a1f5abadbf41d82b8724a048a33c4c153"><div class="ttname"><a href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">linkedlist_datablock_internal_s::next_datablock</a></div><div class="ttdeci">struct linkedlist_datablock_internal_s * next_datablock</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00123">zip.c:123</a></div></div>
<div class="ttc" id="zip_8c_html_aa0a9c876ad4a05aa5969d8888fb57cdb"><div class="ttname"><a href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">linkedlist_data_s::first_block</a></div><div class="ttdeci">linkedlist_datablock_internal * first_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00132">zip.c:132</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_af027310aec51b70ed53bc0bda4392ede_cgraph.png" border="0" usemap="#zip_8c_af027310aec51b70ed53bc0bda4392ede_cgraph" alt=""/></div>
<map name="zip_8c_af027310aec51b70ed53bc0bda4392ede_cgraph" id="zip_8c_af027310aec51b70ed53bc0bda4392ede_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="209,5,370,32"/></map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_af027310aec51b70ed53bc0bda4392ede_icgraph.png" border="0" usemap="#zip_8c_af027310aec51b70ed53bc0bda4392ede_icgraph" alt=""/></div>
<map name="zip_8c_af027310aec51b70ed53bc0bda4392ede_icgraph" id="zip_8c_af027310aec51b70ed53bc0bda4392ede_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="208,443,395,469"/><area shape="rect" id="node23" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="219,664,383,691"/><area shape="rect" id="node3" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="1087,132,1164,159"/><area shape="rect" id="node4" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="1474,360,1574,387"/><area shape="rect" id="node19" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="1285,157,1363,184"/><area shape="rect" id="node20" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="1275,107,1373,133"/><area shape="rect" id="node21" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="1289,5,1359,32"/><area shape="rect" id="node22" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="1282,56,1366,83"/><area shape="rect" id="node5" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1671,360,1849,387"/><area shape="rect" id="node11" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1671,664,1849,691"/><area shape="rect" id="node12" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1667,613,1853,640"/><area shape="rect" id="node13" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1909,715,2083,741"/><area shape="rect" id="node14" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1679,461,1841,488"/><area shape="rect" id="node15" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1676,512,1844,539"/><area shape="rect" id="node16" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1681,563,1839,589"/><area shape="rect" id="node17" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1680,259,1840,285"/><area shape="rect" id="node18" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1699,309,1821,336"/><area shape="rect" id="node6" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1907,360,2085,387"/><area shape="rect" id="node7" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="2133,360,2296,387"/><area shape="rect" id="node8" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="2344,353,2528,394"/><area shape="rect" id="node9" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="2576,360,2755,387"/><area shape="rect" id="node10" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2803,353,2999,394"/><area shape="rect" id="node24" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="1262,816,1386,843"/><area shape="rect" id="node29" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="443,664,594,691"/><area shape="rect" id="node25" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="1435,765,1613,792"/><area shape="rect" id="node26" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="1661,765,1859,792"/><area shape="rect" id="node27" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="1443,512,1605,539"/><area shape="rect" id="node28" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="1442,867,1606,893"/><area shape="rect" id="node30" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="643,664,765,691"/><area shape="rect" id="node31" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="814,664,989,691"/><area shape="rect" id="node40" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="865,461,938,488"/><area shape="rect" id="node32" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="1048,664,1203,691"/><area shape="rect" id="node33" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="1048,715,1203,741"/><area shape="rect" id="node34" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="1038,867,1213,893"/><area shape="rect" id="node36" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="1048,765,1203,792"/><area shape="rect" id="node37" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="1038,512,1213,539"/><area shape="rect" id="node38" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="1045,563,1206,589"/><area shape="rect" id="node39" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="1052,613,1199,640"/><area shape="rect" id="node35" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="1263,867,1385,893"/><area shape="rect" id="node41" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="1074,461,1177,488"/><area shape="rect" id="node42" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="1263,563,1385,589"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a904f85612fbfecc3a5238535e7a34cc6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="zip_8c.html#a0fbdcdae11bfc659d6df182b6d3407ba">linkedlist_datablock_internal</a>* allocate_new_datablock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00198">198</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00068">ALLOC</a>, <a class="el" href="zip_8c_source.html#l00124">linkedlist_datablock_internal_s::avail_in_this_block</a>, <a class="el" href="zip_8c_source.html#l00125">linkedlist_datablock_internal_s::filled_in_this_block</a>, <a class="el" href="zip_8c_source.html#l00123">linkedlist_datablock_internal_s::next_datablock</a>, and <a class="el" href="zip_8c_source.html#l00107">SIZEDATA_INDATABLOCK</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00234">add_data_in_datablock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal</a>* ldi;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    ldi = (<a class="code" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal</a>*)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                 <a class="code" href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a>(<span class="keyword">sizeof</span>(<a class="code" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal</a>));</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (ldi!=NULL)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        ldi-&gt;<a class="code" href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">next_datablock</a> = NULL ;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        ldi-&gt;<a class="code" href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">filled_in_this_block</a> = 0 ;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        ldi-&gt;<a class="code" href="zip_8c.html#a1d63f75d88f05ee665221ccf618a57ed">avail_in_this_block</a> = <a class="code" href="zip_8c.html#a836292d756d7119c390ac856b702ba82">SIZEDATA_INDATABLOCK</a> ;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span> ldi;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div>
<div class="ttc" id="zip_8c_html_a836292d756d7119c390ac856b702ba82"><div class="ttname"><a href="zip_8c.html#a836292d756d7119c390ac856b702ba82">SIZEDATA_INDATABLOCK</a></div><div class="ttdeci">#define SIZEDATA_INDATABLOCK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00107">zip.c:107</a></div></div>
<div class="ttc" id="zip_8c_html_a76ae854b6029e6617c7544d2eb311f77"><div class="ttname"><a href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">linkedlist_datablock_internal_s::filled_in_this_block</a></div><div class="ttdeci">uLong filled_in_this_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00125">zip.c:125</a></div></div>
<div class="ttc" id="zip_8c_html_a1d63f75d88f05ee665221ccf618a57ed"><div class="ttname"><a href="zip_8c.html#a1d63f75d88f05ee665221ccf618a57ed">linkedlist_datablock_internal_s::avail_in_this_block</a></div><div class="ttdeci">uLong avail_in_this_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00124">zip.c:124</a></div></div>
<div class="ttc" id="zip_8c_html_structlinkedlist__datablock__internal__s"><div class="ttname"><a href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal_s</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00121">zip.c:121</a></div></div>
<div class="ttc" id="zip_8c_html_ac5c822e3692a95451e8f70a5916f05a3"><div class="ttname"><a href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a></div><div class="ttdeci">#define ALLOC(size)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00068">zip.c:68</a></div></div>
<div class="ttc" id="zip_8c_html_a1f5abadbf41d82b8724a048a33c4c153"><div class="ttname"><a href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">linkedlist_datablock_internal_s::next_datablock</a></div><div class="ttdeci">struct linkedlist_datablock_internal_s * next_datablock</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00123">zip.c:123</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a904f85612fbfecc3a5238535e7a34cc6_icgraph.png" border="0" usemap="#zip_8c_a904f85612fbfecc3a5238535e7a34cc6_icgraph" alt=""/></div>
<map name="zip_8c_a904f85612fbfecc3a5238535e7a34cc6_icgraph" id="zip_8c_a904f85612fbfecc3a5238535e7a34cc6_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="216,553,371,580"/><area shape="rect" id="node3" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="419,443,605,469"/><area shape="rect" id="node24" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="430,664,594,691"/><area shape="rect" id="node4" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="1297,132,1375,159"/><area shape="rect" id="node5" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="1685,360,1785,387"/><area shape="rect" id="node20" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="1496,157,1573,184"/><area shape="rect" id="node21" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="1485,107,1584,133"/><area shape="rect" id="node22" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="1499,5,1570,32"/><area shape="rect" id="node23" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="1493,56,1577,83"/><area shape="rect" id="node6" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1882,360,2059,387"/><area shape="rect" id="node12" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1881,664,2060,691"/><area shape="rect" id="node13" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1878,613,2063,640"/><area shape="rect" id="node14" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="2119,715,2294,741"/><area shape="rect" id="node15" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1890,461,2051,488"/><area shape="rect" id="node16" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1887,512,2055,539"/><area shape="rect" id="node17" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1892,563,2049,589"/><area shape="rect" id="node18" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1891,259,2051,285"/><area shape="rect" id="node19" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1910,309,2031,336"/><area shape="rect" id="node7" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="2117,360,2296,387"/><area shape="rect" id="node8" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="2344,360,2507,387"/><area shape="rect" id="node9" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="2555,353,2739,394"/><area shape="rect" id="node10" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="2787,360,2965,387"/><area shape="rect" id="node11" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="3014,353,3210,394"/><area shape="rect" id="node25" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="1473,816,1597,843"/><area shape="rect" id="node30" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="654,664,805,691"/><area shape="rect" id="node26" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="1645,765,1824,792"/><area shape="rect" id="node27" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="1872,765,2069,792"/><area shape="rect" id="node28" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="1654,512,1815,539"/><area shape="rect" id="node29" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="1653,867,1817,893"/><area shape="rect" id="node31" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="853,664,976,691"/><area shape="rect" id="node32" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="1025,664,1199,691"/><area shape="rect" id="node41" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="1075,461,1149,488"/><area shape="rect" id="node33" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="1259,664,1413,691"/><area shape="rect" id="node34" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="1259,715,1413,741"/><area shape="rect" id="node35" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="1249,867,1423,893"/><area shape="rect" id="node37" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="1259,765,1413,792"/><area shape="rect" id="node38" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="1249,512,1423,539"/><area shape="rect" id="node39" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="1255,563,1417,589"/><area shape="rect" id="node40" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="1263,613,1409,640"/><area shape="rect" id="node36" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="1474,867,1595,893"/><area shape="rect" id="node42" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="1285,461,1387,488"/><area shape="rect" id="node43" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="1473,563,1596,589"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae1880c519f87166d1e881d8c774836d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_datablock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#a0fbdcdae11bfc659d6df182b6d3407ba">linkedlist_datablock_internal</a> *&#160;</td>
          <td class="paramname"><em>ldi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00212">212</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00123">linkedlist_datablock_internal_s::next_datablock</a>, and <a class="el" href="zip_8c_source.html#l00071">TRYFREE</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00227">free_linkedlist()</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">while</span> (ldi!=NULL)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal</a>* ldinext = ldi-&gt;<a class="code" href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">next_datablock</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(ldi);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        ldi = ldinext;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="ttc" id="zip_8c_html_a5fb23c00a00f3856832e660edc2ab03d"><div class="ttname"><a href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a></div><div class="ttdeci">#define TRYFREE(p)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00071">zip.c:71</a></div></div>
<div class="ttc" id="zip_8c_html_structlinkedlist__datablock__internal__s"><div class="ttname"><a href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal_s</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00121">zip.c:121</a></div></div>
<div class="ttc" id="zip_8c_html_a1f5abadbf41d82b8724a048a33c4c153"><div class="ttname"><a href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">linkedlist_datablock_internal_s::next_datablock</a></div><div class="ttdeci">struct linkedlist_datablock_internal_s * next_datablock</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00123">zip.c:123</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_ae1880c519f87166d1e881d8c774836d7_icgraph.png" border="0" usemap="#zip_8c_ae1880c519f87166d1e881d8c774836d7_icgraph" alt=""/></div>
<map name="zip_8c_ae1880c519f87166d1e881d8c774836d7_icgraph" id="zip_8c_ae1880c519f87166d1e881d8c774836d7_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#afdf0486190c480fc1cc3b194ec0c0956" title="free_linkedlist" alt="" coords="161,502,263,528"/><area shape="rect" id="node3" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="313,502,386,528"/><area shape="rect" id="node4" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="799,578,899,604"/><area shape="rect" id="node19" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="435,375,538,402"/><area shape="rect" id="node5" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="997,578,1174,604"/><area shape="rect" id="node11" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="996,172,1175,199"/><area shape="rect" id="node12" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="993,223,1178,250"/><area shape="rect" id="node13" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1234,274,1409,300"/><area shape="rect" id="node14" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1005,375,1166,402"/><area shape="rect" id="node15" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1001,426,1169,452"/><area shape="rect" id="node16" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1007,476,1164,503"/><area shape="rect" id="node17" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1005,628,1165,655"/><area shape="rect" id="node18" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1025,679,1146,706"/><area shape="rect" id="node6" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1232,578,1411,604"/><area shape="rect" id="node7" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1459,578,1621,604"/><area shape="rect" id="node8" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1669,570,1853,612"/><area shape="rect" id="node9" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1901,578,2080,604"/><area shape="rect" id="node10" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2129,570,2325,612"/><area shape="rect" id="node20" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="588,71,711,98"/><area shape="rect" id="node21" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="587,324,711,351"/><area shape="rect" id="node22" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="760,223,939,250"/><area shape="rect" id="node23" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="987,274,1184,300"/><area shape="rect" id="node24" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="769,426,930,452"/><area shape="rect" id="node25" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="767,324,931,351"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afdf0486190c480fc1cc3b194ec0c0956"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_linkedlist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#ab52b5c8e8dd89c66d476a4be0752755b">linkedlist_data</a> *&#160;</td>
          <td class="paramname"><em>ll</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00227">227</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00132">linkedlist_data_s::first_block</a>, <a class="el" href="zip_8c_source.html#l00212">free_datablock()</a>, and <a class="el" href="zip_8c_source.html#l00133">linkedlist_data_s::last_block</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01942">zipClose()</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="zip_8c.html#ae1880c519f87166d1e881d8c774836d7">free_datablock</a>(ll-&gt;<a class="code" href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">first_block</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    ll-&gt;<a class="code" href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">first_block</a> = ll-&gt;<a class="code" href="zip_8c.html#a26afdb5141483c909dafb8c5fd016bb8">last_block</a> = NULL;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="ttc" id="zip_8c_html_a26afdb5141483c909dafb8c5fd016bb8"><div class="ttname"><a href="zip_8c.html#a26afdb5141483c909dafb8c5fd016bb8">linkedlist_data_s::last_block</a></div><div class="ttdeci">linkedlist_datablock_internal * last_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00133">zip.c:133</a></div></div>
<div class="ttc" id="zip_8c_html_ae1880c519f87166d1e881d8c774836d7"><div class="ttname"><a href="zip_8c.html#ae1880c519f87166d1e881d8c774836d7">free_datablock</a></div><div class="ttdeci">static void free_datablock(linkedlist_datablock_internal *ldi)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00212">zip.c:212</a></div></div>
<div class="ttc" id="zip_8c_html_aa0a9c876ad4a05aa5969d8888fb57cdb"><div class="ttname"><a href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">linkedlist_data_s::first_block</a></div><div class="ttdeci">linkedlist_datablock_internal * first_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00132">zip.c:132</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_afdf0486190c480fc1cc3b194ec0c0956_cgraph.png" border="0" usemap="#zip_8c_afdf0486190c480fc1cc3b194ec0c0956_cgraph" alt=""/></div>
<map name="zip_8c_afdf0486190c480fc1cc3b194ec0c0956_cgraph" id="zip_8c_afdf0486190c480fc1cc3b194ec0c0956_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#ae1880c519f87166d1e881d8c774836d7" title="free_datablock" alt="" coords="157,5,264,32"/></map>
</div>
</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_afdf0486190c480fc1cc3b194ec0c0956_icgraph.png" border="0" usemap="#zip_8c_afdf0486190c480fc1cc3b194ec0c0956_icgraph" alt=""/></div>
<map name="zip_8c_afdf0486190c480fc1cc3b194ec0c0956_icgraph" id="zip_8c_afdf0486190c480fc1cc3b194ec0c0956_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="158,502,231,528"/><area shape="rect" id="node3" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="645,578,745,604"/><area shape="rect" id="node18" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="281,375,383,402"/><area shape="rect" id="node4" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="842,578,1019,604"/><area shape="rect" id="node10" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="841,172,1020,199"/><area shape="rect" id="node11" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="838,223,1023,250"/><area shape="rect" id="node12" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1079,274,1254,300"/><area shape="rect" id="node13" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="850,375,1011,402"/><area shape="rect" id="node14" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="847,426,1015,452"/><area shape="rect" id="node15" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="852,476,1009,503"/><area shape="rect" id="node16" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="851,628,1011,655"/><area shape="rect" id="node17" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="870,679,991,706"/><area shape="rect" id="node5" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1077,578,1256,604"/><area shape="rect" id="node6" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1304,578,1467,604"/><area shape="rect" id="node7" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1515,570,1699,612"/><area shape="rect" id="node8" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1747,578,1925,604"/><area shape="rect" id="node9" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="1974,570,2170,612"/><area shape="rect" id="node19" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="433,71,556,98"/><area shape="rect" id="node20" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="433,324,557,351"/><area shape="rect" id="node21" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="605,223,784,250"/><area shape="rect" id="node22" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="832,274,1029,300"/><area shape="rect" id="node23" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="614,426,775,452"/><area shape="rect" id="node24" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="613,324,777,351"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6c2a1e974d3ab6f326b743af32e53794"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_linkedlist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#ab52b5c8e8dd89c66d476a4be0752755b">linkedlist_data</a> *&#160;</td>
          <td class="paramname"><em>ll</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00222">222</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00132">linkedlist_data_s::first_block</a>, and <a class="el" href="zip_8c_source.html#l00133">linkedlist_data_s::last_block</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00862">zipOpen3()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    ll-&gt;<a class="code" href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">first_block</a> = ll-&gt;<a class="code" href="zip_8c.html#a26afdb5141483c909dafb8c5fd016bb8">last_block</a> = NULL;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="ttc" id="zip_8c_html_a26afdb5141483c909dafb8c5fd016bb8"><div class="ttname"><a href="zip_8c.html#a26afdb5141483c909dafb8c5fd016bb8">linkedlist_data_s::last_block</a></div><div class="ttdeci">linkedlist_datablock_internal * last_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00133">zip.c:133</a></div></div>
<div class="ttc" id="zip_8c_html_aa0a9c876ad4a05aa5969d8888fb57cdb"><div class="ttname"><a href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">linkedlist_data_s::first_block</a></div><div class="ttdeci">linkedlist_datablock_internal * first_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00132">zip.c:132</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a6c2a1e974d3ab6f326b743af32e53794_icgraph.png" border="0" usemap="#zip_8c_a6c2a1e974d3ab6f326b743af32e53794_icgraph" alt=""/></div>
<map name="zip_8c_a6c2a1e974d3ab6f326b743af32e53794_icgraph" id="zip_8c_a6c2a1e974d3ab6f326b743af32e53794_icgraph">
<area shape="rect" id="node2" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="152,292,229,319"/><area shape="rect" id="node3" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="425,216,525,243"/><area shape="rect" id="node18" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="288,241,365,268"/><area shape="rect" id="node19" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="277,292,376,319"/><area shape="rect" id="node20" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="291,343,362,369"/><area shape="rect" id="node21" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="285,393,369,420"/><area shape="rect" id="node4" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="578,13,755,40"/><area shape="rect" id="node10" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="577,64,756,91"/><area shape="rect" id="node11" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="574,115,759,141"/><area shape="rect" id="node12" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="579,165,754,192"/><area shape="rect" id="node13" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="586,216,747,243"/><area shape="rect" id="node14" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="583,267,751,293"/><area shape="rect" id="node15" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="588,317,745,344"/><area shape="rect" id="node16" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="587,368,747,395"/><area shape="rect" id="node17" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="606,419,727,445"/><area shape="rect" id="node5" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="808,13,987,40"/><area shape="rect" id="node6" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1035,13,1197,40"/><area shape="rect" id="node7" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1245,6,1429,47"/><area shape="rect" id="node8" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1477,13,1656,40"/><area shape="rect" id="node9" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="1705,6,1901,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a44da2707a5a0031b9c263f9373918f29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LoadCentralDirectoryRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *&#160;</td>
          <td class="paramname"><em>pziinit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00649">649</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00234">add_data_in_datablock()</a>, <a class="el" href="zip_8c_source.html#l00181">zip64_internal::add_position_when_writting_offset</a>, <a class="el" href="zip_8c_source.html#l00068">ALLOC</a>, <a class="el" href="zip_8c_source.html#l00180">zip64_internal::begin_pos</a>, <a class="el" href="zip_8c_source.html#l00176">zip64_internal::central_dir</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00188">zip64_internal::flags</a>, <a class="el" href="zip_8c_source.html#l00185">zip64_internal::globalcomment</a>, <a class="el" href="zip_8c_source.html#l00182">zip64_internal::number_entry</a>, <a class="el" href="zip_8c_source.html#l00107">SIZEDATA_INDATABLOCK</a>, <a class="el" href="zip_8c_source.html#l00071">TRYFREE</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="ioapi_8h_source.html#l00189">ZCLOSE64</a>, <a class="el" href="ioapi_8h_source.html#l00190">ZFAKECLOSE64</a>, <a class="el" href="zip_8c_source.html#l00404">zip64local_getLong()</a>, <a class="el" href="zip_8c_source.html#l00435">zip64local_getLong64()</a>, <a class="el" href="zip_8c_source.html#l00382">zip64local_getShort()</a>, <a class="el" href="zip_8c_source.html#l00489">zip64local_SearchCentralDir()</a>, <a class="el" href="zip_8c_source.html#l00551">zip64local_SearchCentralDir64()</a>, <a class="el" href="zip_8h_source.html#l00086">ZIP_AUTO_CLOSE</a>, <a class="el" href="zip_8h_source.html#l00082">ZIP_BADZIPFILE</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, <a class="el" href="ioapi_8h_source.html#l00111">ZLIB_FILEFUNC_SEEK_SET</a>, <a class="el" href="ioapi_8h_source.html#l00185">ZREAD64</a>, and <a class="el" href="ioapi_8h_source.html#l00201">ZSEEK64</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00862">zipOpen3()</a>.</p>
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordtype">int</span> err=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> byte_before_the_zipfile;<span class="comment">/* byte before the zipfile, (&gt;0 for sfx)*/</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> size_central_dir;     <span class="comment">/* size of the central directory  */</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> offset_central_dir;   <span class="comment">/* offset of start of central directory */</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> central_pos;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  uLong uL;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  uLong number_disk;          <span class="comment">/* number of the current dist, used for</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">                              spaning ZIP, unsupported, always 0*/</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  uLong number_disk_with_CD;  <span class="comment">/* number the the disk with central dir, used</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">                              for spaning ZIP, unsupported, always 0*/</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> number_entry;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> number_entry_CD;      <span class="comment">/* total number of entries in</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">                                the central dir</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">                                (same than number_entry on nospan) */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  uLong VersionMadeBy;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  uLong VersionNeeded;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  uLong size_comment;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordtype">int</span> hasZIP64Record = 0;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="comment">/* check first if we find a ZIP64 record */</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  central_pos = <a class="code" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5">zip64local_SearchCentralDir64</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">if</span>(central_pos &gt; 0)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    hasZIP64Record = 1;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(central_pos == 0)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    central_pos = <a class="code" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea">zip64local_SearchCentralDir</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">/* disable to allow appending to empty ZIP archive</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">        if (central_pos==0)</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">            err=ZIP_ERRNO;</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">if</span>(hasZIP64Record)</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> sizeEndOfCentralDirectory;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, central_pos, <a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>) != 0)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">/* the signature, already checked */</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,&amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">/* size of zip64 end of central directory record */</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, &amp;sizeEndOfCentralDirectory)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">/* version made by */</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, &amp;VersionMadeBy)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">/* version needed to extract */</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, &amp;VersionNeeded)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">/* number of this disk */</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,&amp;number_disk)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">/* number of the disk with the start of the central directory */</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,&amp;number_disk_with_CD)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">/* total number of entries in the central directory on this disk */</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, &amp;number_entry)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="comment">/* total number of entries in the central directory */</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,&amp;number_entry_CD)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> ((number_entry_CD!=number_entry) || (number_disk_with_CD!=0) || (number_disk!=0))</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      err=<a class="code" href="zip_8h.html#ac2eb83690692851093eb62ebb3744a64">ZIP_BADZIPFILE</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">/* size of the central directory */</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,&amp;size_central_dir)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">/* offset of start of central directory with respect to the</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">    starting disk number */</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,&amp;offset_central_dir)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">/* TODO.. */</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">/* read the comment from the standard central header. */</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    size_comment = 0;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">/* Read End of central Directory info */</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, central_pos,<a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>)!=0)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">/* the signature, already checked */</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,&amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">/* number of this disk */</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,&amp;number_disk)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">/* number of the disk with the start of the central directory */</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,&amp;number_disk_with_CD)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">/* total number of entries in the central dir on this disk */</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    number_entry = 0;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, &amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      number_entry = uL;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">/* total number of entries in the central dir */</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    number_entry_CD = 0;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, &amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      number_entry_CD = uL;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">if</span> ((number_entry_CD!=number_entry) || (number_disk_with_CD!=0) || (number_disk!=0))</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      err=<a class="code" href="zip_8h.html#ac2eb83690692851093eb62ebb3744a64">ZIP_BADZIPFILE</a>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="comment">/* size of the central directory */</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    size_central_dir = 0;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, &amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      size_central_dir = uL;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">/* offset of start of central directory with respect to the starting disk number */</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    offset_central_dir = 0;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, &amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      offset_central_dir = uL;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">/* zipfile global comment length */</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, &amp;size_comment)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordflow">if</span> ((central_pos&lt;offset_central_dir+size_central_dir) &amp;&amp;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>))</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    err=<a class="code" href="zip_8h.html#ac2eb83690692851093eb62ebb3744a64">ZIP_BADZIPFILE</a>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">if</span> (err!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">if</span> ((pziinit-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a1e2c5afcf10fe30d6ad820a10b17ab94">ZIP_AUTO_CLOSE</a>) != 0) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <a class="code" href="ioapi_8h.html#ac4ed0148a82154111eb1671549b50c38">ZCLOSE64</a>(pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <a class="code" href="ioapi_8h.html#a1034b671423055a010cdd0b08fd61e83">ZFAKECLOSE64</a>(pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordflow">if</span> (size_comment&gt;0)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    pziinit-&gt;<a class="code" href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">globalcomment</a> = (<span class="keywordtype">char</span>*)<a class="code" href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a>(size_comment+1);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span> (pziinit-&gt;<a class="code" href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">globalcomment</a>)</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      size_comment = <a class="code" href="ioapi_8h.html#ac3f6323030cbaf7b0d389a8aaac36496">ZREAD64</a>(pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">globalcomment</a>,size_comment);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      pziinit-&gt;<a class="code" href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">globalcomment</a>[size_comment]=0;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  byte_before_the_zipfile = central_pos - (offset_central_dir+size_central_dir);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  pziinit-&gt;<a class="code" href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">add_position_when_writting_offset</a> = byte_before_the_zipfile;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> size_central_dir_to_read = size_central_dir;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordtype">size_t</span> buf_size = <a class="code" href="zip_8c.html#a836292d756d7119c390ac856b702ba82">SIZEDATA_INDATABLOCK</a>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordtype">void</span>* buf_read = (<span class="keywordtype">void</span>*)<a class="code" href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a>(buf_size);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, offset_central_dir + byte_before_the_zipfile, <a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>) != 0)</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">while</span> ((size_central_dir_to_read&gt;0) &amp;&amp; (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>))</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> read_this = <a class="code" href="zip_8c.html#a836292d756d7119c390ac856b702ba82">SIZEDATA_INDATABLOCK</a>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <span class="keywordflow">if</span> (read_this &gt; size_central_dir_to_read)</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        read_this = size_central_dir_to_read;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ac3f6323030cbaf7b0d389a8aaac36496">ZREAD64</a>(pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,buf_read,(uLong)read_this) != read_this)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        err = <a class="code" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede">add_data_in_datablock</a>(&amp;pziinit-&gt;<a class="code" href="zip_8c.html#a869144921e51ec758f1b60dba2f1a2af">central_dir</a>,buf_read, (uLong)read_this);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      size_central_dir_to_read-=read_this;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <a class="code" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(buf_read);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  pziinit-&gt;<a class="code" href="zip_8c.html#adff1d5f1509675f5f1c9797c5addc1a7">begin_pos</a> = byte_before_the_zipfile;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  pziinit-&gt;<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a> = number_entry_CD;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(pziinit-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, pziinit-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, offset_central_dir+byte_before_the_zipfile,<a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>) != 0)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    err=<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a7d544970649a6e4e7e423a29b29dba81"><div class="ttname"><a href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a></div><div class="ttdeci">static int zip64local_getLong64(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, ZPOS64_T *pX)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00435">zip.c:435</a></div></div>
<div class="ttc" id="zip_8c_html_a997ca8e9d08081a280e32b7c4280f090"><div class="ttname"><a href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">zip64_internal::globalcomment</a></div><div class="ttdeci">char * globalcomment</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00185">zip.c:185</a></div></div>
<div class="ttc" id="zip_8c_html_a49d52d3592e65398e57bb52850c3f18b"><div class="ttname"><a href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b">zip64local_getShort</a></div><div class="ttdeci">static int zip64local_getShort(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, uLong *pX)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00382">zip.c:382</a></div></div>
<div class="ttc" id="zip_8c_html_a836292d756d7119c390ac856b702ba82"><div class="ttname"><a href="zip_8c.html#a836292d756d7119c390ac856b702ba82">SIZEDATA_INDATABLOCK</a></div><div class="ttdeci">#define SIZEDATA_INDATABLOCK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00107">zip.c:107</a></div></div>
<div class="ttc" id="zip_8h_html_ac2eb83690692851093eb62ebb3744a64"><div class="ttname"><a href="zip_8h.html#ac2eb83690692851093eb62ebb3744a64">ZIP_BADZIPFILE</a></div><div class="ttdeci">#define ZIP_BADZIPFILE</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00082">zip.h:82</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="zip_8c_html_a388120a043a52c734276c24c47dbc1fa"><div class="ttname"><a href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">zip64_internal::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00188">zip.c:188</a></div></div>
<div class="ttc" id="zip_8c_html_ac4b5c3b2aeca1bd92799ba00f0cc8fe5"><div class="ttname"><a href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5">zip64local_SearchCentralDir64</a></div><div class="ttdeci">static ZPOS64_T zip64local_SearchCentralDir64(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00551">zip.c:551</a></div></div>
<div class="ttc" id="zip_8c_html_af9e4ecae0dd3d2e2a749f83c48e78d66"><div class="ttname"><a href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a></div><div class="ttdeci">static int zip64local_getLong(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, uLong *pX)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00404">zip.c:404</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac4ed0148a82154111eb1671549b50c38"><div class="ttname"><a href="ioapi_8h.html#ac4ed0148a82154111eb1671549b50c38">ZCLOSE64</a></div><div class="ttdeci">#define ZCLOSE64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00189">ioapi.h:189</a></div></div>
<div class="ttc" id="ioapi_8h_html_a1034b671423055a010cdd0b08fd61e83"><div class="ttname"><a href="ioapi_8h.html#a1034b671423055a010cdd0b08fd61e83">ZFAKECLOSE64</a></div><div class="ttdeci">#define ZFAKECLOSE64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00190">ioapi.h:190</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac3f6323030cbaf7b0d389a8aaac36496"><div class="ttname"><a href="ioapi_8h.html#ac3f6323030cbaf7b0d389a8aaac36496">ZREAD64</a></div><div class="ttdeci">#define ZREAD64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00185">ioapi.h:185</a></div></div>
<div class="ttc" id="zip_8c_html_a74984ae4b2cdc5b5eade871ee61b2261"><div class="ttname"><a href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">zip64_internal::add_position_when_writting_offset</a></div><div class="ttdeci">ZPOS64_T add_position_when_writting_offset</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00181">zip.c:181</a></div></div>
<div class="ttc" id="zip_8c_html_a869144921e51ec758f1b60dba2f1a2af"><div class="ttname"><a href="zip_8c.html#a869144921e51ec758f1b60dba2f1a2af">zip64_internal::central_dir</a></div><div class="ttdeci">linkedlist_data central_dir</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00176">zip.c:176</a></div></div>
<div class="ttc" id="zip_8c_html_a5fb23c00a00f3856832e660edc2ab03d"><div class="ttname"><a href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a></div><div class="ttdeci">#define TRYFREE(p)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00071">zip.c:71</a></div></div>
<div class="ttc" id="zip_8h_html_a1e2c5afcf10fe30d6ad820a10b17ab94"><div class="ttname"><a href="zip_8h.html#a1e2c5afcf10fe30d6ad820a10b17ab94">ZIP_AUTO_CLOSE</a></div><div class="ttdeci">#define ZIP_AUTO_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00086">zip.h:86</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="zip_8c_html_a2d8ae560933ed00ee61052446288f4a8"><div class="ttname"><a href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">zip64_internal::number_entry</a></div><div class="ttdeci">ZPOS64_T number_entry</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00182">zip.c:182</a></div></div>
<div class="ttc" id="zip_8c_html_ac5c822e3692a95451e8f70a5916f05a3"><div class="ttname"><a href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a></div><div class="ttdeci">#define ALLOC(size)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00068">zip.c:68</a></div></div>
<div class="ttc" id="ioapi_8h_html_a8ccaa5cb8fc7b04e6139c610cd31ce26"><div class="ttname"><a href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a></div><div class="ttdeci">#define ZSEEK64(filefunc, filestream, pos, mode)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00201">ioapi.h:201</a></div></div>
<div class="ttc" id="zip_8c_html_adff1d5f1509675f5f1c9797c5addc1a7"><div class="ttname"><a href="zip_8c.html#adff1d5f1509675f5f1c9797c5addc1a7">zip64_internal::begin_pos</a></div><div class="ttdeci">ZPOS64_T begin_pos</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00180">zip.c:180</a></div></div>
<div class="ttc" id="zip_8c_html_a7235a2cfdd684a93a58a36a7dab3ecea"><div class="ttname"><a href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea">zip64local_SearchCentralDir</a></div><div class="ttdeci">static ZPOS64_T zip64local_SearchCentralDir(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00489">zip.c:489</a></div></div>
<div class="ttc" id="zip_8c_html_af027310aec51b70ed53bc0bda4392ede"><div class="ttname"><a href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede">add_data_in_datablock</a></div><div class="ttdeci">static int add_data_in_datablock(linkedlist_data *ll, const void *buf, uLong len)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00234">zip.c:234</a></div></div>
<div class="ttc" id="ioapi_8h_html_a962e25bd3652f31479b855be08836c16"><div class="ttname"><a href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_SEEK_SET</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00111">ioapi.h:111</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a44da2707a5a0031b9c263f9373918f29_cgraph.png" border="0" usemap="#zip_8c_a44da2707a5a0031b9c263f9373918f29_cgraph" alt=""/></div>
<map name="zip_8c_a44da2707a5a0031b9c263f9373918f29_cgraph" id="zip_8c_a44da2707a5a0031b9c263f9373918f29_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="256,5,411,32"/><area shape="rect" id="node4" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66" title="zip64local_getLong" alt="" coords="489,169,623,196"/><area shape="rect" id="node6" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81" title="zip64local_getLong64" alt="" coords="483,115,629,141"/><area shape="rect" id="node7" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b" title="zip64local_getShort" alt="" coords="488,245,624,272"/><area shape="rect" id="node8" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea" title="zip64local_SearchCentralDir" alt="" coords="240,224,427,251"/><area shape="rect" id="node9" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5" title="zip64local_SearchCentral\lDir64" alt="" coords="248,107,419,149"/><area shape="rect" id="node3" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="475,5,637,32"/><area shape="rect" id="node5" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="686,169,818,196"/></map>
</div>
</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a44da2707a5a0031b9c263f9373918f29_icgraph.png" border="0" usemap="#zip_8c_a44da2707a5a0031b9c263f9373918f29_icgraph" alt=""/></div>
<map name="zip_8c_a44da2707a5a0031b9c263f9373918f29_icgraph" id="zip_8c_a44da2707a5a0031b9c263f9373918f29_icgraph">
<area shape="rect" id="node2" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="240,292,317,319"/><area shape="rect" id="node3" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="513,216,613,243"/><area shape="rect" id="node18" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="376,241,453,268"/><area shape="rect" id="node19" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="365,292,464,319"/><area shape="rect" id="node20" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="379,343,450,369"/><area shape="rect" id="node21" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="373,393,457,420"/><area shape="rect" id="node4" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="666,13,843,40"/><area shape="rect" id="node10" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="665,64,844,91"/><area shape="rect" id="node11" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="662,115,847,141"/><area shape="rect" id="node12" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="667,165,842,192"/><area shape="rect" id="node13" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="674,216,835,243"/><area shape="rect" id="node14" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="671,267,839,293"/><area shape="rect" id="node15" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="676,317,833,344"/><area shape="rect" id="node16" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="675,368,835,395"/><area shape="rect" id="node17" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="694,419,815,445"/><area shape="rect" id="node5" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="896,13,1075,40"/><area shape="rect" id="node6" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1123,13,1285,40"/><area shape="rect" id="node7" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1333,6,1517,47"/><area shape="rect" id="node8" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1565,13,1744,40"/><area shape="rect" id="node9" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="1793,6,1989,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a26acf4764f6b8c19f0feb18ac5315438"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Write_EndOfCentralDirectoryRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *&#160;</td>
          <td class="paramname"><em>zi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>size_centraldir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>&#160;</td>
          <td class="paramname"><em>centraldir_pos_inzip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01876">1876</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00181">zip64_internal::add_position_when_writting_offset</a>, <a class="el" href="zip_8c_source.html#l00112">ENDHEADERMAGIC</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00182">zip64_internal::number_entry</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="zip_8c_source.html#l00296">zip64local_putValue()</a>, and <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01942">zipClose()</a>.</p>
<div class="fragment"><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;{</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="keywordtype">int</span> err = <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="comment">/*signature*/</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)<a class="code" href="zip_8c.html#a919e00d5518c0ac9c5f46f7265d4c292">ENDHEADERMAGIC</a>,4);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* number of this disk */</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0,2);</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* number of the disk with the start of the central directory */</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0,2);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* total number of entries in the central dir on this disk */</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a> &gt;= 0xFFFF)</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0xffff,2); <span class="comment">/* use value in ZIP64 record */</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a>,2);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;  }</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* total number of entries in the central dir */</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  {</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a> &gt;= 0xFFFF)</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0xffff,2); <span class="comment">/* use value in ZIP64 record */</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a>,2);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* size of the central directory */</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)size_centraldir,4);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* offset of start of central directory with respect to the starting disk number */</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> pos = centraldir_pos_inzip - zi-&gt;<a class="code" href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">add_position_when_writting_offset</a>;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keywordflow">if</span>(pos &gt;= 0xffffffff)</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, (uLong)0xffffffff,4);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    }</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                  err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, (uLong)(centraldir_pos_inzip - zi-&gt;<a class="code" href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">add_position_when_writting_offset</a>),4);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;   <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a919e00d5518c0ac9c5f46f7265d4c292"><div class="ttname"><a href="zip_8c.html#a919e00d5518c0ac9c5f46f7265d4c292">ENDHEADERMAGIC</a></div><div class="ttdeci">#define ENDHEADERMAGIC</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00112">zip.c:112</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="zip_8c_html_a74984ae4b2cdc5b5eade871ee61b2261"><div class="ttname"><a href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">zip64_internal::add_position_when_writting_offset</a></div><div class="ttdeci">ZPOS64_T add_position_when_writting_offset</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00181">zip.c:181</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="zip_8c_html_a2d8ae560933ed00ee61052446288f4a8"><div class="ttname"><a href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">zip64_internal::number_entry</a></div><div class="ttdeci">ZPOS64_T number_entry</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00182">zip.c:182</a></div></div>
<div class="ttc" id="zip_8c_html_aed1106d32873a7959b923bbb5d444f8b"><div class="ttname"><a href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a></div><div class="ttdeci">static int zip64local_putValue(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, ZPOS64_T x, int nbByte)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00296">zip.c:296</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a26acf4764f6b8c19f0feb18ac5315438_cgraph.png" border="0" usemap="#zip_8c_a26acf4764f6b8c19f0feb18ac5315438_cgraph" alt=""/></div>
<map name="zip_8c_a26acf4764f6b8c19f0feb18ac5315438_cgraph" id="zip_8c_a26acf4764f6b8c19f0feb18ac5315438_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="245,12,384,39"/></map>
</div>
</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a26acf4764f6b8c19f0feb18ac5315438_icgraph.png" border="0" usemap="#zip_8c_a26acf4764f6b8c19f0feb18ac5315438_icgraph" alt=""/></div>
<map name="zip_8c_a26acf4764f6b8c19f0feb18ac5315438_icgraph" id="zip_8c_a26acf4764f6b8c19f0feb18ac5315438_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="246,502,319,528"/><area shape="rect" id="node3" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="733,578,833,604"/><area shape="rect" id="node18" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="369,375,471,402"/><area shape="rect" id="node4" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="930,578,1107,604"/><area shape="rect" id="node10" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="929,172,1108,199"/><area shape="rect" id="node11" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="926,223,1111,250"/><area shape="rect" id="node12" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1167,274,1342,300"/><area shape="rect" id="node13" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="938,375,1099,402"/><area shape="rect" id="node14" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="935,426,1103,452"/><area shape="rect" id="node15" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="940,476,1097,503"/><area shape="rect" id="node16" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="939,628,1099,655"/><area shape="rect" id="node17" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="958,679,1079,706"/><area shape="rect" id="node5" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1165,578,1344,604"/><area shape="rect" id="node6" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1392,578,1555,604"/><area shape="rect" id="node7" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1603,570,1787,612"/><area shape="rect" id="node8" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1835,578,2013,604"/><area shape="rect" id="node9" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2062,570,2258,612"/><area shape="rect" id="node19" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="521,71,644,98"/><area shape="rect" id="node20" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="521,324,645,351"/><area shape="rect" id="node21" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="693,223,872,250"/><area shape="rect" id="node22" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="920,274,1117,300"/><area shape="rect" id="node23" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="702,426,863,452"/><area shape="rect" id="node24" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="701,324,865,351"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe52628c128fa6397329f43e60420142"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Write_GlobalComment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *&#160;</td>
          <td class="paramname"><em>zi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>global_comment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01924">1924</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="zip_8c_source.html#l00296">zip64local_putValue()</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, and <a class="el" href="ioapi_8h_source.html#l00186">ZWRITE64</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01942">zipClose()</a>.</p>
<div class="fragment"><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;{</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keywordtype">int</span> err = <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  uInt size_global_comment = 0;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;  <span class="keywordflow">if</span>(global_comment != NULL)</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    size_global_comment = (uInt)strlen(global_comment);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)size_global_comment,2);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordflow">if</span> (err == <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a> &amp;&amp; size_global_comment &gt; 0)</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, global_comment, size_global_comment) != size_global_comment)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="ioapi_8h_html_ada98b2bb422c21c8c22b1cc6e305e7d3"><div class="ttname"><a href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a></div><div class="ttdeci">#define ZWRITE64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00186">ioapi.h:186</a></div></div>
<div class="ttc" id="zip_8c_html_aed1106d32873a7959b923bbb5d444f8b"><div class="ttname"><a href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a></div><div class="ttdeci">static int zip64local_putValue(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, ZPOS64_T x, int nbByte)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00296">zip.c:296</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_afe52628c128fa6397329f43e60420142_cgraph.png" border="0" usemap="#zip_8c_afe52628c128fa6397329f43e60420142_cgraph" alt=""/></div>
<map name="zip_8c_afe52628c128fa6397329f43e60420142_cgraph" id="zip_8c_afe52628c128fa6397329f43e60420142_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="208,5,347,32"/></map>
</div>
</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_afe52628c128fa6397329f43e60420142_icgraph.png" border="0" usemap="#zip_8c_afe52628c128fa6397329f43e60420142_icgraph" alt=""/></div>
<map name="zip_8c_afe52628c128fa6397329f43e60420142_icgraph" id="zip_8c_afe52628c128fa6397329f43e60420142_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="209,502,282,528"/><area shape="rect" id="node3" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="695,578,795,604"/><area shape="rect" id="node18" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="331,375,434,402"/><area shape="rect" id="node4" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="893,578,1070,604"/><area shape="rect" id="node10" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="892,172,1071,199"/><area shape="rect" id="node11" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="889,223,1074,250"/><area shape="rect" id="node12" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1130,274,1305,300"/><area shape="rect" id="node13" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="901,375,1062,402"/><area shape="rect" id="node14" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="897,426,1065,452"/><area shape="rect" id="node15" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="903,476,1060,503"/><area shape="rect" id="node16" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="901,628,1061,655"/><area shape="rect" id="node17" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="921,679,1042,706"/><area shape="rect" id="node5" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1128,578,1307,604"/><area shape="rect" id="node6" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1355,578,1517,604"/><area shape="rect" id="node7" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1565,570,1749,612"/><area shape="rect" id="node8" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1797,578,1976,604"/><area shape="rect" id="node9" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2025,570,2221,612"/><area shape="rect" id="node19" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="484,71,607,98"/><area shape="rect" id="node20" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="483,324,607,351"/><area shape="rect" id="node21" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="656,223,835,250"/><area shape="rect" id="node22" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="883,274,1080,300"/><area shape="rect" id="node23" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="665,426,826,452"/><area shape="rect" id="node24" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="663,324,827,351"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1c9fb1f116f655bd474a19d383f9b89f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Write_LocalFileHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *&#160;</td>
          <td class="paramname"><em>zi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>version_to_extract</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00977">977</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00178">zip64_internal::ci</a>, <a class="el" href="zip_8c_source.html#l00158">curfile64_info::dosDate</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00153">curfile64_info::flag</a>, <a class="el" href="zip_8c_source.html#l00109">LOCALHEADERMAGIC</a>, <a class="el" href="zip_8c_source.html#l00155">curfile64_info::method</a>, <a class="el" href="zip_8c_source.html#l00162">curfile64_info::pos_zip64extrainfo</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="zip_8c_source.html#l00161">curfile64_info::zip64</a>, <a class="el" href="zip_8c_source.html#l00296">zip64local_putValue()</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, <a class="el" href="ioapi_8h_source.html#l00200">ZTELL64</a>, and <a class="el" href="ioapi_8h_source.html#l00186">ZWRITE64</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;{</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="comment">/* write the local header */</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  uInt size_filename = (uInt)strlen(filename);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  uInt size_extrafield = size_extrafield_local;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)<a class="code" href="zip_8c.html#a9341868e4dbaa2610fe54b599cd8965f">LOCALHEADERMAGIC</a>, 4);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">zip64</a>)</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)45,2);<span class="comment">/* version needed to extract */</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)version_to_extract,2);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">flag</a>,2);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a>,2);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa1f0ca7db2e2129524953a29fa822933">dosDate</a>,4);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  <span class="comment">/* CRC / Compressed size / Uncompressed size will be filled in later and rewritten later */</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0,4); <span class="comment">/* crc 32, unknown */</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">zip64</a>)</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0xFFFFFFFF,4); <span class="comment">/* compressed size, unknown */</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0,4); <span class="comment">/* compressed size, unknown */</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">zip64</a>)</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0xFFFFFFFF,4); <span class="comment">/* uncompressed size, unknown */</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0,4); <span class="comment">/* uncompressed size, unknown */</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)size_filename,2);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">zip64</a>)</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    size_extrafield += 20;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)size_extrafield,2);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keywordflow">if</span> ((err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) &amp;&amp; (size_filename &gt; 0))</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,filename,size_filename)!=size_filename)</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">if</span> ((err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) &amp;&amp; (size_extrafield_local &gt; 0))</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, extrafield_local, size_extrafield_local) != size_extrafield_local)</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keywordflow">if</span> ((err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) &amp;&amp; (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">zip64</a>))</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <span class="comment">/* write the Zip64 extended info */</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="keywordtype">short</span> HeaderID = 1;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordtype">short</span> DataSize = 16;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> CompressedSize = 0;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> UncompressedSize = 0;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="comment">/* Remember position of Zip64 extended info for the local file header. (needed when we update size after done with file) */</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a45dfe9b2562314f29f7df1bad71da528">pos_zip64extrainfo</a> = <a class="code" href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, (<span class="keywordtype">short</span>)HeaderID,2);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, (<span class="keywordtype">short</span>)DataSize,2);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, (<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)UncompressedSize,8);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, (<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)CompressedSize,8);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a9341868e4dbaa2610fe54b599cd8965f"><div class="ttname"><a href="zip_8c.html#a9341868e4dbaa2610fe54b599cd8965f">LOCALHEADERMAGIC</a></div><div class="ttdeci">#define LOCALHEADERMAGIC</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00109">zip.c:109</a></div></div>
<div class="ttc" id="zip_8c_html_a45dfe9b2562314f29f7df1bad71da528"><div class="ttname"><a href="zip_8c.html#a45dfe9b2562314f29f7df1bad71da528">curfile64_info::pos_zip64extrainfo</a></div><div class="ttdeci">ZPOS64_T pos_zip64extrainfo</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00162">zip.c:162</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac849fcd066ac44109dfb95a1c5fd494c"><div class="ttname"><a href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a></div><div class="ttdeci">#define ZTELL64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00200">ioapi.h:200</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="zip_8c_html_aa1f0ca7db2e2129524953a29fa822933"><div class="ttname"><a href="zip_8c.html#aa1f0ca7db2e2129524953a29fa822933">curfile64_info::dosDate</a></div><div class="ttdeci">uLong dosDate</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00158">zip.c:158</a></div></div>
<div class="ttc" id="zip_8c_html_a9d4baf5968e4cb192060bcba2d039282"><div class="ttname"><a href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">curfile64_info::flag</a></div><div class="ttdeci">uLong flag</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00153">zip.c:153</a></div></div>
<div class="ttc" id="zip_8c_html_a05bf290332d456dbecee6d870a3b6559"><div class="ttname"><a href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">zip64_internal::ci</a></div><div class="ttdeci">curfile64_info ci</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00178">zip.c:178</a></div></div>
<div class="ttc" id="zip_8c_html_ad8f4cd023ee61e46aac147d266be0538"><div class="ttname"><a href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">curfile64_info::zip64</a></div><div class="ttdeci">int zip64</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00161">zip.c:161</a></div></div>
<div class="ttc" id="zip_8c_html_afc121266093b2d0e27f309dc4dc8cd2f"><div class="ttname"><a href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">curfile64_info::method</a></div><div class="ttdeci">int method</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00155">zip.c:155</a></div></div>
<div class="ttc" id="ioapi_8h_html_ada98b2bb422c21c8c22b1cc6e305e7d3"><div class="ttname"><a href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a></div><div class="ttdeci">#define ZWRITE64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00186">ioapi.h:186</a></div></div>
<div class="ttc" id="zip_8c_html_aed1106d32873a7959b923bbb5d444f8b"><div class="ttname"><a href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a></div><div class="ttdeci">static int zip64local_putValue(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, ZPOS64_T x, int nbByte)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00296">zip.c:296</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a1c9fb1f116f655bd474a19d383f9b89f_cgraph.png" border="0" usemap="#zip_8c_a1c9fb1f116f655bd474a19d383f9b89f_cgraph" alt=""/></div>
<map name="zip_8c_a1c9fb1f116f655bd474a19d383f9b89f_cgraph" id="zip_8c_a1c9fb1f116f655bd474a19d383f9b89f_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="208,5,347,32"/></map>
</div>
</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a1c9fb1f116f655bd474a19d383f9b89f_icgraph.png" border="0" usemap="#zip_8c_a1c9fb1f116f655bd474a19d383f9b89f_icgraph" alt=""/></div>
<map name="zip_8c_a1c9fb1f116f655bd474a19d383f9b89f_icgraph" id="zip_8c_a1c9fb1f116f655bd474a19d383f9b89f_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="209,157,383,184"/><area shape="rect" id="node3" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="443,5,597,32"/><area shape="rect" id="node4" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="443,56,597,83"/><area shape="rect" id="node5" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="433,107,607,133"/><area shape="rect" id="node7" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="443,157,597,184"/><area shape="rect" id="node8" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="433,208,607,235"/><area shape="rect" id="node9" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="439,259,601,285"/><area shape="rect" id="node10" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="447,309,593,336"/><area shape="rect" id="node6" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="657,107,778,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c440209ccea3275591d82ef1170caec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Write_Zip64EndOfCentralDirectoryLocator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *&#160;</td>
          <td class="paramname"><em>zi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>&#160;</td>
          <td class="paramname"><em>zip64eocd_pos_inzip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01815">1815</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00181">zip64_internal::add_position_when_writting_offset</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="zip_8c_source.html#l00114">ZIP64ENDLOCHEADERMAGIC</a>, <a class="el" href="zip_8c_source.html#l00296">zip64local_putValue()</a>, and <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01942">zipClose()</a>.</p>
<div class="fragment"><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;{</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <span class="keywordtype">int</span> err = <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> pos = zip64eocd_pos_inzip - zi-&gt;<a class="code" href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">add_position_when_writting_offset</a>;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)<a class="code" href="zip_8c.html#af98a91c14cd4ab92931438c0c4f72341">ZIP64ENDLOCHEADERMAGIC</a>,4);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="comment">/*num disks*/</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* number of the disk with the start of the central directory */</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0,4);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="comment">/*relative offset*/</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* Relative offset to the Zip64EndOfCentralDirectory */</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, pos,8);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="comment">/*total disks*/</span> <span class="comment">/* Do not support spawning of disk so always say 1 here*/</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* number of the disk with the start of the central directory */</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)1,4);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_af98a91c14cd4ab92931438c0c4f72341"><div class="ttname"><a href="zip_8c.html#af98a91c14cd4ab92931438c0c4f72341">ZIP64ENDLOCHEADERMAGIC</a></div><div class="ttdeci">#define ZIP64ENDLOCHEADERMAGIC</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00114">zip.c:114</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="zip_8c_html_a74984ae4b2cdc5b5eade871ee61b2261"><div class="ttname"><a href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">zip64_internal::add_position_when_writting_offset</a></div><div class="ttdeci">ZPOS64_T add_position_when_writting_offset</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00181">zip.c:181</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="zip_8c_html_aed1106d32873a7959b923bbb5d444f8b"><div class="ttname"><a href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a></div><div class="ttdeci">static int zip64local_putValue(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, ZPOS64_T x, int nbByte)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00296">zip.c:296</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a9c440209ccea3275591d82ef1170caec_cgraph.png" border="0" usemap="#zip_8c_a9c440209ccea3275591d82ef1170caec_cgraph" alt=""/></div>
<map name="zip_8c_a9c440209ccea3275591d82ef1170caec_cgraph" id="zip_8c_a9c440209ccea3275591d82ef1170caec_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="277,12,416,39"/></map>
</div>
</p>

<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a9c440209ccea3275591d82ef1170caec_icgraph.png" border="0" usemap="#zip_8c_a9c440209ccea3275591d82ef1170caec_icgraph" alt=""/></div>
<map name="zip_8c_a9c440209ccea3275591d82ef1170caec_icgraph" id="zip_8c_a9c440209ccea3275591d82ef1170caec_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="278,502,351,528"/><area shape="rect" id="node3" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="765,578,865,604"/><area shape="rect" id="node18" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="401,375,503,402"/><area shape="rect" id="node4" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="962,578,1139,604"/><area shape="rect" id="node10" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="961,172,1140,199"/><area shape="rect" id="node11" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="958,223,1143,250"/><area shape="rect" id="node12" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1199,274,1374,300"/><area shape="rect" id="node13" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="970,375,1131,402"/><area shape="rect" id="node14" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="967,426,1135,452"/><area shape="rect" id="node15" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="972,476,1129,503"/><area shape="rect" id="node16" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="971,628,1131,655"/><area shape="rect" id="node17" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="990,679,1111,706"/><area shape="rect" id="node5" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1197,578,1376,604"/><area shape="rect" id="node6" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1424,578,1587,604"/><area shape="rect" id="node7" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1635,570,1819,612"/><area shape="rect" id="node8" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1867,578,2045,604"/><area shape="rect" id="node9" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2094,570,2290,612"/><area shape="rect" id="node19" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="553,71,676,98"/><area shape="rect" id="node20" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="553,324,677,351"/><area shape="rect" id="node21" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="725,223,904,250"/><area shape="rect" id="node22" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="952,274,1149,300"/><area shape="rect" id="node23" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="734,426,895,452"/><area shape="rect" id="node24" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="733,324,897,351"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e803b9de3378b55508de949f9725480"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Write_Zip64EndOfCentralDirectoryRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *&#160;</td>
          <td class="paramname"><em>zi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>size_centraldir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>&#160;</td>
          <td class="paramname"><em>centraldir_pos_inzip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01837">1837</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00181">zip64_internal::add_position_when_writting_offset</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00182">zip64_internal::number_entry</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="zip_8c_source.html#l00113">ZIP64ENDHEADERMAGIC</a>, <a class="el" href="zip_8c_source.html#l00296">zip64local_putValue()</a>, and <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01942">zipClose()</a>.</p>
<div class="fragment"><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;{</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="keywordtype">int</span> err = <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  uLong Zip64DataSize = 44;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)<a class="code" href="zip_8c.html#a2eaf0b0d00af51ea85626bc8ebb1d0a6">ZIP64ENDHEADERMAGIC</a>,4);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* size of this &#39;zip64 end of central directory&#39; */</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)Zip64DataSize,8); <span class="comment">/* why ZPOS64_T of this ? */</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* version made by */</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)45,2);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* version needed */</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)45,2);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* number of this disk */</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0,4);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* number of the disk with the start of the central directory */</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)0,4);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* total number of entries in the central dir on this disk */</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, zi-&gt;<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a>, 8);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* total number of entries in the central dir */</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, zi-&gt;<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a>, 8);</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* size of the central directory */</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)size_centraldir,8);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* offset of start of central directory with respect to the starting disk number */</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  {</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> pos = centraldir_pos_inzip - zi-&gt;<a class="code" href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">add_position_when_writting_offset</a>;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, (<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)pos,8);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  }</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="zip_8c_html_a74984ae4b2cdc5b5eade871ee61b2261"><div class="ttname"><a href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">zip64_internal::add_position_when_writting_offset</a></div><div class="ttdeci">ZPOS64_T add_position_when_writting_offset</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00181">zip.c:181</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_a2eaf0b0d00af51ea85626bc8ebb1d0a6"><div class="ttname"><a href="zip_8c.html#a2eaf0b0d00af51ea85626bc8ebb1d0a6">ZIP64ENDHEADERMAGIC</a></div><div class="ttdeci">#define ZIP64ENDHEADERMAGIC</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00113">zip.c:113</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="zip_8c_html_a2d8ae560933ed00ee61052446288f4a8"><div class="ttname"><a href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">zip64_internal::number_entry</a></div><div class="ttdeci">ZPOS64_T number_entry</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00182">zip.c:182</a></div></div>
<div class="ttc" id="zip_8c_html_aed1106d32873a7959b923bbb5d444f8b"><div class="ttname"><a href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a></div><div class="ttdeci">static int zip64local_putValue(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, ZPOS64_T x, int nbByte)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00296">zip.c:296</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a3e803b9de3378b55508de949f9725480_cgraph.png" border="0" usemap="#zip_8c_a3e803b9de3378b55508de949f9725480_cgraph" alt=""/></div>
<map name="zip_8c_a3e803b9de3378b55508de949f9725480_cgraph" id="zip_8c_a3e803b9de3378b55508de949f9725480_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="277,12,416,39"/></map>
</div>
</p>

<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a3e803b9de3378b55508de949f9725480_icgraph.png" border="0" usemap="#zip_8c_a3e803b9de3378b55508de949f9725480_icgraph" alt=""/></div>
<map name="zip_8c_a3e803b9de3378b55508de949f9725480_icgraph" id="zip_8c_a3e803b9de3378b55508de949f9725480_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="278,502,351,528"/><area shape="rect" id="node3" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="765,578,865,604"/><area shape="rect" id="node18" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="401,375,503,402"/><area shape="rect" id="node4" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="962,578,1139,604"/><area shape="rect" id="node10" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="961,172,1140,199"/><area shape="rect" id="node11" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="958,223,1143,250"/><area shape="rect" id="node12" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1199,274,1374,300"/><area shape="rect" id="node13" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="970,375,1131,402"/><area shape="rect" id="node14" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="967,426,1135,452"/><area shape="rect" id="node15" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="972,476,1129,503"/><area shape="rect" id="node16" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="971,628,1131,655"/><area shape="rect" id="node17" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="990,679,1111,706"/><area shape="rect" id="node5" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1197,578,1376,604"/><area shape="rect" id="node6" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1424,578,1587,604"/><area shape="rect" id="node7" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1635,570,1819,612"/><area shape="rect" id="node8" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1867,578,2045,604"/><area shape="rect" id="node9" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2094,570,2290,612"/><area shape="rect" id="node19" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="553,71,676,98"/><area shape="rect" id="node20" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="553,324,677,351"/><area shape="rect" id="node21" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="725,223,904,250"/><area shape="rect" id="node22" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="952,274,1149,300"/><area shape="rect" id="node23" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="734,426,895,452"/><area shape="rect" id="node24" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="733,324,897,351"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c5b2c3f96ae2bf9006a86beb31eb659"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int zip64FlushWriteBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8c.html#structzip64__internal">zip64_internal</a> *&#160;</td>
          <td class="paramname"><em>zi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01403">1403</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00157">curfile64_info::buffered_data</a>, <a class="el" href="zip_8c_source.html#l00178">zip64_internal::ci</a>, <a class="el" href="zip_8c_source.html#l00160">curfile64_info::encrypt</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00166">curfile64_info::keys</a>, <a class="el" href="zip_8c_source.html#l00155">curfile64_info::method</a>, <a class="el" href="zip_8c_source.html#l00167">curfile64_info::pcrc_32_tab</a>, <a class="el" href="zip_8c_source.html#l00145">curfile64_info::pos_in_buffered_data</a>, <a class="el" href="zip_8c_source.html#l00139">curfile64_info::stream</a>, <a class="el" href="zip_8c_source.html#l00163">curfile64_info::totalCompressedData</a>, <a class="el" href="zip_8c_source.html#l00164">curfile64_info::totalUncompressedData</a>, <a class="el" href="unzip_8h_source.html#l00067">Z_BZIP2ED</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="crypt_8h_source.html#l00082">zencode</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, and <a class="el" href="ioapi_8h_source.html#l00186">ZWRITE64</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01554">zipCloseFileInZipRaw64()</a>, and <a class="el" href="zip_8c_source.html#l01442">zipWriteInFileInZip()</a>.</p>
<div class="fragment"><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;{</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordtype">int</span> err=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ae25bb2a6b1e0b04f60011089db7fa123">encrypt</a> != 0)</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="preprocessor">#ifndef NOCRYPT</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="preprocessor"></span>        uInt i;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordtype">int</span> t;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">for</span> (i=0;i&lt;zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a>;i++)</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">buffered_data</a>[i] = <a class="code" href="crypt_8h.html#ab9d6a91abe3a1127f8b5476ba9ee9316">zencode</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a1c4fff54045c80444eb155d42f6e58de">keys</a>, zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a16813802061410c5c34cbd1f441739d8">pcrc_32_tab</a>, zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">buffered_data</a>[i],t);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">buffered_data</a>,zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a>) != zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a>)</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aadb153e7bdc293b685396e92830ed51e">totalCompressedData</a> += zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="preprocessor">#ifdef HAVE_BZIP2</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == <a class="code" href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a>)</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aeb933f725cb47e023135657e22173c1d">totalUncompressedData</a> += zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_in_lo32;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_in_lo32 = 0;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_in_hi32 = 0;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    }</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="preprocessor"></span>    {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aeb933f725cb47e023135657e22173c1d">totalUncompressedData</a> += zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_in;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_in = 0;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a> = 0;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a944e71daf341a3379fdcc58fb8f68bd9"><div class="ttname"><a href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">curfile64_info::buffered_data</a></div><div class="ttdeci">Byte buffered_data[(64 *1024)]</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00157">zip.c:157</a></div></div>
<div class="ttc" id="zip_8c_html_a1c4fff54045c80444eb155d42f6e58de"><div class="ttname"><a href="zip_8c.html#a1c4fff54045c80444eb155d42f6e58de">curfile64_info::keys</a></div><div class="ttdeci">unsigned long keys[3]</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00166">zip.c:166</a></div></div>
<div class="ttc" id="zip_8c_html_aadb153e7bdc293b685396e92830ed51e"><div class="ttname"><a href="zip_8c.html#aadb153e7bdc293b685396e92830ed51e">curfile64_info::totalCompressedData</a></div><div class="ttdeci">ZPOS64_T totalCompressedData</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00163">zip.c:163</a></div></div>
<div class="ttc" id="zip_8c_html_a208198f19c7d165203225903455478fd"><div class="ttname"><a href="zip_8c.html#a208198f19c7d165203225903455478fd">curfile64_info::pos_in_buffered_data</a></div><div class="ttdeci">uInt pos_in_buffered_data</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00145">zip.c:145</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="unzip_8h_html_ada7b1ad37b9026b52c9f7b10daf448d1"><div class="ttname"><a href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a></div><div class="ttdeci">#define Z_BZIP2ED</div><div class="ttdef"><b>Definition:</b> <a href="unzip_8h_source.html#l00067">unzip.h:67</a></div></div>
<div class="ttc" id="zip_8c_html_a16813802061410c5c34cbd1f441739d8"><div class="ttname"><a href="zip_8c.html#a16813802061410c5c34cbd1f441739d8">curfile64_info::pcrc_32_tab</a></div><div class="ttdeci">const z_crc_t FAR * pcrc_32_tab</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00167">zip.c:167</a></div></div>
<div class="ttc" id="zip_8c_html_ae25bb2a6b1e0b04f60011089db7fa123"><div class="ttname"><a href="zip_8c.html#ae25bb2a6b1e0b04f60011089db7fa123">curfile64_info::encrypt</a></div><div class="ttdeci">int encrypt</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00160">zip.c:160</a></div></div>
<div class="ttc" id="crypt_8h_html_ab9d6a91abe3a1127f8b5476ba9ee9316"><div class="ttname"><a href="crypt_8h.html#ab9d6a91abe3a1127f8b5476ba9ee9316">zencode</a></div><div class="ttdeci">#define zencode(pkeys, pcrc_32_tab, c, t)</div><div class="ttdef"><b>Definition:</b> <a href="crypt_8h_source.html#l00082">crypt.h:82</a></div></div>
<div class="ttc" id="zip_8c_html_a765936b069e6e2be6d85589614af8583"><div class="ttname"><a href="zip_8c.html#a765936b069e6e2be6d85589614af8583">curfile64_info::stream</a></div><div class="ttdeci">z_stream stream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00139">zip.c:139</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="zip_8c_html_a05bf290332d456dbecee6d870a3b6559"><div class="ttname"><a href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">zip64_internal::ci</a></div><div class="ttdeci">curfile64_info ci</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00178">zip.c:178</a></div></div>
<div class="ttc" id="zip_8c_html_aeb933f725cb47e023135657e22173c1d"><div class="ttname"><a href="zip_8c.html#aeb933f725cb47e023135657e22173c1d">curfile64_info::totalUncompressedData</a></div><div class="ttdeci">ZPOS64_T totalUncompressedData</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00164">zip.c:164</a></div></div>
<div class="ttc" id="zip_8c_html_afc121266093b2d0e27f309dc4dc8cd2f"><div class="ttname"><a href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">curfile64_info::method</a></div><div class="ttdeci">int method</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00155">zip.c:155</a></div></div>
<div class="ttc" id="ioapi_8h_html_ada98b2bb422c21c8c22b1cc6e305e7d3"><div class="ttname"><a href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a></div><div class="ttdeci">#define ZWRITE64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00186">ioapi.h:186</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a9c5b2c3f96ae2bf9006a86beb31eb659_icgraph.png" border="0" usemap="#zip_8c_a9c5b2c3f96ae2bf9006a86beb31eb659_icgraph" alt=""/></div>
<map name="zip_8c_a9c5b2c3f96ae2bf9006a86beb31eb659_icgraph" id="zip_8c_a9c5b2c3f96ae2bf9006a86beb31eb659_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="206,147,370,174"/><area shape="rect" id="node37" href="zip_8c.html#acc932f54d0746b26f428660c92029a9f" title="zipWriteInFileInZip" alt="" coords="223,198,353,224"/><area shape="rect" id="node3" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="1238,83,1362,110"/><area shape="rect" id="node14" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="419,147,570,174"/><area shape="rect" id="node4" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="1411,32,1589,59"/><area shape="rect" id="node5" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="1637,32,1835,59"/><area shape="rect" id="node9" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="1419,438,1581,464"/><area shape="rect" id="node13" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="1418,83,1582,110"/><area shape="rect" id="node7" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1647,83,1825,110"/><area shape="rect" id="node8" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1643,134,1829,160"/><area shape="rect" id="node6" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1885,235,2059,262"/><area shape="rect" id="node10" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1655,438,1817,464"/><area shape="rect" id="node11" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1652,488,1820,515"/><area shape="rect" id="node12" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1657,387,1815,414"/><area shape="rect" id="node15" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="619,196,741,223"/><area shape="rect" id="node16" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="790,488,965,515"/><area shape="rect" id="node25" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="841,235,914,262"/><area shape="rect" id="node17" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="1024,463,1179,490"/><area shape="rect" id="node18" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="1024,514,1179,540"/><area shape="rect" id="node19" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="1014,666,1189,692"/><area shape="rect" id="node21" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="1024,564,1179,591"/><area shape="rect" id="node22" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="1014,615,1189,642"/><area shape="rect" id="node23" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="1021,362,1182,388"/><area shape="rect" id="node24" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="1028,412,1175,439"/><area shape="rect" id="node20" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="1239,666,1361,692"/><area shape="rect" id="node26" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="1450,235,1550,262"/><area shape="rect" id="node35" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="1050,311,1153,338"/><area shape="rect" id="node27" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1647,184,1825,211"/><area shape="rect" id="node33" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1656,286,1816,312"/><area shape="rect" id="node34" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1675,336,1797,363"/><area shape="rect" id="node28" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1883,184,2061,211"/><area shape="rect" id="node29" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="2109,184,2272,211"/><area shape="rect" id="node30" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="2320,177,2504,218"/><area shape="rect" id="node31" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="2552,184,2731,211"/><area shape="rect" id="node32" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2779,177,2975,218"/><area shape="rect" id="node36" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="1239,438,1361,464"/><area shape="rect" id="node38" href="classQuaZipFile.html#abd07949a6fcc2ef094d2be5398bc8e7c" title="Implementation of the QIODevice::writeData(). " alt="" coords="420,198,569,224"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad60b20a868ebdbd3d314d277faa9b096"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int zip64local_getByte </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>filestream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00358">358</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="ioapi_8h_source.html#l00191">ZERROR64</a>, <a class="el" href="zip_8h_source.html#l00079">ZIP_EOF</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, and <a class="el" href="ioapi_8h_source.html#l00185">ZREAD64</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00404">zip64local_getLong()</a>, <a class="el" href="zip_8c_source.html#l00435">zip64local_getLong64()</a>, and <a class="el" href="zip_8c_source.html#l00382">zip64local_getShort()</a>.</p>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordtype">int</span> err = (int)<a class="code" href="ioapi_8h.html#ac3f6323030cbaf7b0d389a8aaac36496">ZREAD64</a>(*pzlib_filefunc_def,filestream,&amp;c,1);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (err==1)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        *pi = (int)c;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a4c4816968d9e57a9e916bafe96dd7157">ZERROR64</a>(*pzlib_filefunc_def,filestream))</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a37f7be5934cbc943c836174e44fd4df1">ZIP_EOF</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="ioapi_8h_html_a4c4816968d9e57a9e916bafe96dd7157"><div class="ttname"><a href="ioapi_8h.html#a4c4816968d9e57a9e916bafe96dd7157">ZERROR64</a></div><div class="ttdeci">#define ZERROR64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00191">ioapi.h:191</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac3f6323030cbaf7b0d389a8aaac36496"><div class="ttname"><a href="ioapi_8h.html#ac3f6323030cbaf7b0d389a8aaac36496">ZREAD64</a></div><div class="ttdeci">#define ZREAD64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00185">ioapi.h:185</a></div></div>
<div class="ttc" id="zip_8h_html_a37f7be5934cbc943c836174e44fd4df1"><div class="ttname"><a href="zip_8h.html#a37f7be5934cbc943c836174e44fd4df1">ZIP_EOF</a></div><div class="ttdeci">#define ZIP_EOF</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00079">zip.h:79</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_ad60b20a868ebdbd3d314d277faa9b096_icgraph.png" border="0" usemap="#zip_8c_ad60b20a868ebdbd3d314d277faa9b096_icgraph" alt=""/></div>
<map name="zip_8c_ad60b20a868ebdbd3d314d277faa9b096_icgraph" id="zip_8c_ad60b20a868ebdbd3d314d277faa9b096_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66" title="zip64local_getLong" alt="" coords="193,263,327,289"/><area shape="rect" id="node25" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81" title="zip64local_getLong64" alt="" coords="187,315,333,341"/><area shape="rect" id="node26" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b" title="zip64local_getShort" alt="" coords="399,372,535,399"/><area shape="rect" id="node3" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5" title="zip64local_SearchCentral\lDir64" alt="" coords="381,255,552,297"/><area shape="rect" id="node4" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="600,292,787,319"/><area shape="rect" id="node5" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="835,292,912,319"/><area shape="rect" id="node6" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="1107,216,1207,243"/><area shape="rect" id="node21" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="971,241,1048,268"/><area shape="rect" id="node22" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="960,292,1059,319"/><area shape="rect" id="node23" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="974,343,1045,369"/><area shape="rect" id="node24" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="967,393,1051,420"/><area shape="rect" id="node7" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1261,13,1438,40"/><area shape="rect" id="node13" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1260,64,1439,91"/><area shape="rect" id="node14" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1257,115,1442,141"/><area shape="rect" id="node15" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1262,165,1437,192"/><area shape="rect" id="node16" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1269,216,1430,243"/><area shape="rect" id="node17" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1265,267,1433,293"/><area shape="rect" id="node18" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1271,317,1428,344"/><area shape="rect" id="node19" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1269,368,1429,395"/><area shape="rect" id="node20" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1289,419,1410,445"/><area shape="rect" id="node8" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1491,13,1669,40"/><area shape="rect" id="node9" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1717,13,1880,40"/><area shape="rect" id="node10" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1928,6,2112,47"/><area shape="rect" id="node11" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="2160,13,2339,40"/><area shape="rect" id="node12" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2387,6,2583,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af9e4ecae0dd3d2e2a749f83c48e78d66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int zip64local_getLong </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>filestream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong *&#160;</td>
          <td class="paramname"><em>pX</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00404">404</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00358">zip64local_getByte()</a>, and <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>, and <a class="el" href="zip_8c_source.html#l00551">zip64local_SearchCentralDir64()</a>.</p>
<div class="fragment"><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    uLong x ;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    x = (uLong)i;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    x += ((uLong)i)&lt;&lt;8;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    x += ((uLong)i)&lt;&lt;16;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    x += ((uLong)i)&lt;&lt;24;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        *pX = x;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        *pX = 0;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_ad60b20a868ebdbd3d314d277faa9b096"><div class="ttname"><a href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a></div><div class="ttdeci">static int zip64local_getByte(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, int *pi)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00358">zip.c:358</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_af9e4ecae0dd3d2e2a749f83c48e78d66_cgraph.png" border="0" usemap="#zip_8c_af9e4ecae0dd3d2e2a749f83c48e78d66_cgraph" alt=""/></div>
<map name="zip_8c_af9e4ecae0dd3d2e2a749f83c48e78d66_cgraph" id="zip_8c_af9e4ecae0dd3d2e2a749f83c48e78d66_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="187,5,319,32"/></map>
</div>
</p>

<p><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_af9e4ecae0dd3d2e2a749f83c48e78d66_icgraph.png" border="0" usemap="#zip_8c_af9e4ecae0dd3d2e2a749f83c48e78d66_icgraph" alt=""/></div>
<map name="zip_8c_af9e4ecae0dd3d2e2a749f83c48e78d66_icgraph" id="zip_8c_af9e4ecae0dd3d2e2a749f83c48e78d66_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="405,292,592,319"/><area shape="rect" id="node23" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5" title="zip64local_SearchCentral\lDir64" alt="" coords="187,314,357,355"/><area shape="rect" id="node3" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="640,292,717,319"/><area shape="rect" id="node4" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="913,216,1013,243"/><area shape="rect" id="node19" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="776,241,853,268"/><area shape="rect" id="node20" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="765,292,864,319"/><area shape="rect" id="node21" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="779,343,850,369"/><area shape="rect" id="node22" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="773,393,857,420"/><area shape="rect" id="node5" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1066,13,1243,40"/><area shape="rect" id="node11" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1065,64,1244,91"/><area shape="rect" id="node12" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1062,115,1247,141"/><area shape="rect" id="node13" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1067,165,1242,192"/><area shape="rect" id="node14" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1074,216,1235,243"/><area shape="rect" id="node15" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1071,267,1239,293"/><area shape="rect" id="node16" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1076,317,1233,344"/><area shape="rect" id="node17" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1075,368,1235,395"/><area shape="rect" id="node18" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1094,419,1215,445"/><area shape="rect" id="node6" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1296,13,1475,40"/><area shape="rect" id="node7" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1523,13,1685,40"/><area shape="rect" id="node8" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1733,6,1917,47"/><area shape="rect" id="node9" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1965,13,2144,40"/><area shape="rect" id="node10" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2193,6,2389,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7d544970649a6e4e7e423a29b29dba81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int zip64local_getLong64 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>filestream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> *&#160;</td>
          <td class="paramname"><em>pX</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00435">435</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00358">zip64local_getByte()</a>, and <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>, and <a class="el" href="zip_8c_source.html#l00551">zip64local_SearchCentralDir64()</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;{</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> x;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  x = (<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)i;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  x += ((<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)i)&lt;&lt;8;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  x += ((<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)i)&lt;&lt;16;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  x += ((<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)i)&lt;&lt;24;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  x += ((<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)i)&lt;&lt;32;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  x += ((<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)i)&lt;&lt;40;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  x += ((<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)i)&lt;&lt;48;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  x += ((<a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>)i)&lt;&lt;56;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    *pX = x;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    *pX = 0;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_ad60b20a868ebdbd3d314d277faa9b096"><div class="ttname"><a href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a></div><div class="ttdeci">static int zip64local_getByte(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, int *pi)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00358">zip.c:358</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a7d544970649a6e4e7e423a29b29dba81_cgraph.png" border="0" usemap="#zip_8c_a7d544970649a6e4e7e423a29b29dba81_cgraph" alt=""/></div>
<map name="zip_8c_a7d544970649a6e4e7e423a29b29dba81_cgraph" id="zip_8c_a7d544970649a6e4e7e423a29b29dba81_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="201,5,333,32"/></map>
</div>
</p>

<p><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a7d544970649a6e4e7e423a29b29dba81_icgraph.png" border="0" usemap="#zip_8c_a7d544970649a6e4e7e423a29b29dba81_icgraph" alt=""/></div>
<map name="zip_8c_a7d544970649a6e4e7e423a29b29dba81_icgraph" id="zip_8c_a7d544970649a6e4e7e423a29b29dba81_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="419,292,605,319"/><area shape="rect" id="node23" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5" title="zip64local_SearchCentral\lDir64" alt="" coords="200,314,371,355"/><area shape="rect" id="node3" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="653,292,731,319"/><area shape="rect" id="node4" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="926,216,1026,243"/><area shape="rect" id="node19" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="789,241,867,268"/><area shape="rect" id="node20" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="779,292,877,319"/><area shape="rect" id="node21" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="793,343,863,369"/><area shape="rect" id="node22" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="786,393,870,420"/><area shape="rect" id="node5" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1079,13,1257,40"/><area shape="rect" id="node11" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1079,64,1257,91"/><area shape="rect" id="node12" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1075,115,1261,141"/><area shape="rect" id="node13" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1081,165,1255,192"/><area shape="rect" id="node14" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1087,216,1249,243"/><area shape="rect" id="node15" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1084,267,1252,293"/><area shape="rect" id="node16" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1089,317,1247,344"/><area shape="rect" id="node17" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1088,368,1248,395"/><area shape="rect" id="node18" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1107,419,1229,445"/><area shape="rect" id="node6" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1309,13,1488,40"/><area shape="rect" id="node7" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1536,13,1699,40"/><area shape="rect" id="node8" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1747,6,1931,47"/><area shape="rect" id="node9" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1979,13,2157,40"/><area shape="rect" id="node10" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2206,6,2402,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a49d52d3592e65398e57bb52850c3f18b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int zip64local_getShort </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>filestream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong *&#160;</td>
          <td class="paramname"><em>pX</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00382">382</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00358">zip64local_getByte()</a>, and <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    uLong x ;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    x = (uLong)i;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        err = <a class="code" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a>(pzlib_filefunc_def,filestream,&amp;i);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    x += ((uLong)i)&lt;&lt;8;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        *pX = x;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        *pX = 0;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_ad60b20a868ebdbd3d314d277faa9b096"><div class="ttname"><a href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096">zip64local_getByte</a></div><div class="ttdeci">static int zip64local_getByte(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, int *pi)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00358">zip.c:358</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a49d52d3592e65398e57bb52850c3f18b_cgraph.png" border="0" usemap="#zip_8c_a49d52d3592e65398e57bb52850c3f18b_cgraph" alt=""/></div>
<map name="zip_8c_a49d52d3592e65398e57bb52850c3f18b_cgraph" id="zip_8c_a49d52d3592e65398e57bb52850c3f18b_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="190,5,322,32"/></map>
</div>
</p>

<p><div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a49d52d3592e65398e57bb52850c3f18b_icgraph.png" border="0" usemap="#zip_8c_a49d52d3592e65398e57bb52850c3f18b_icgraph" alt=""/></div>
<map name="zip_8c_a49d52d3592e65398e57bb52850c3f18b_icgraph" id="zip_8c_a49d52d3592e65398e57bb52850c3f18b_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="189,292,376,319"/><area shape="rect" id="node3" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="424,292,501,319"/><area shape="rect" id="node4" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="697,216,797,243"/><area shape="rect" id="node19" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="560,241,637,268"/><area shape="rect" id="node20" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="549,292,648,319"/><area shape="rect" id="node21" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="563,343,634,369"/><area shape="rect" id="node22" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="557,393,641,420"/><area shape="rect" id="node5" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="850,13,1027,40"/><area shape="rect" id="node11" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="849,64,1028,91"/><area shape="rect" id="node12" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="846,115,1031,141"/><area shape="rect" id="node13" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="851,165,1026,192"/><area shape="rect" id="node14" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="858,216,1019,243"/><area shape="rect" id="node15" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="855,267,1023,293"/><area shape="rect" id="node16" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="860,317,1017,344"/><area shape="rect" id="node17" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="859,368,1019,395"/><area shape="rect" id="node18" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="878,419,999,445"/><area shape="rect" id="node6" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1080,13,1259,40"/><area shape="rect" id="node7" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1307,13,1469,40"/><area shape="rect" id="node8" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1517,6,1701,47"/><area shape="rect" id="node9" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1749,13,1928,40"/><area shape="rect" id="node10" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="1977,6,2173,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aed1106d32873a7959b923bbb5d444f8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int zip64local_putValue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>filestream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbByte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00296">296</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, and <a class="el" href="ioapi_8h_source.html#l00186">ZWRITE64</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01876">Write_EndOfCentralDirectoryRecord()</a>, <a class="el" href="zip_8c_source.html#l01924">Write_GlobalComment()</a>, <a class="el" href="zip_8c_source.html#l00977">Write_LocalFileHeader()</a>, <a class="el" href="zip_8c_source.html#l01815">Write_Zip64EndOfCentralDirectoryLocator()</a>, <a class="el" href="zip_8c_source.html#l01837">Write_Zip64EndOfCentralDirectoryRecord()</a>, and <a class="el" href="zip_8c_source.html#l01554">zipCloseFileInZipRaw64()</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> buf[8];</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordtype">int</span> n;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">for</span> (n = 0; n &lt; nbByte; n++)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        buf[n] = (<span class="keywordtype">unsigned</span> char)(x &amp; 0xff);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        x &gt;&gt;= 8;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (x != 0)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      {     <span class="comment">/* data overflow - hack for ZIP64 (X Roche) */</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">for</span> (n = 0; n &lt; nbByte; n++)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          buf[n] = 0xff;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a>(*pzlib_filefunc_def,filestream,buf,nbByte)!=(uLong)nbByte)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="ioapi_8h_html_ada98b2bb422c21c8c22b1cc6e305e7d3"><div class="ttname"><a href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a></div><div class="ttdeci">#define ZWRITE64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00186">ioapi.h:186</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_aed1106d32873a7959b923bbb5d444f8b_icgraph.png" border="0" usemap="#zip_8c_aed1106d32873a7959b923bbb5d444f8b_icgraph" alt=""/></div>
<map name="zip_8c_aed1106d32873a7959b923bbb5d444f8b_icgraph" id="zip_8c_aed1106d32873a7959b923bbb5d444f8b_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a26acf4764f6b8c19f0feb18ac5315438" title="Write_EndOfCentralDirectory\lRecord" alt="" coords="464,316,656,357"/><area shape="rect" id="node26" href="zip_8c.html#afe52628c128fa6397329f43e60420142" title="Write_GlobalComment" alt="" coords="483,382,637,408"/><area shape="rect" id="node27" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f" title="Write_LocalFileHeader" alt="" coords="739,719,893,746"/><area shape="rect" id="node37" href="zip_8c.html#a9c440209ccea3275591d82ef1170caec" title="Write_Zip64EndOfCentralDirectory\lLocator" alt="" coords="704,425,928,466"/><area shape="rect" id="node38" href="zip_8c.html#a3e803b9de3378b55508de949f9725480" title="Write_Zip64EndOfCentralDirectory\lRecord" alt="" coords="192,484,416,525"/><area shape="rect" id="node39" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="222,550,386,576"/><area shape="rect" id="node3" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="1027,382,1101,408"/><area shape="rect" id="node4" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="1637,187,1737,214"/><area shape="rect" id="node19" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="1237,382,1339,408"/><area shape="rect" id="node5" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1834,187,2011,214"/><area shape="rect" id="node11" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1833,440,2012,467"/><area shape="rect" id="node12" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1830,542,2015,568"/><area shape="rect" id="node13" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="2071,491,2246,518"/><area shape="rect" id="node14" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1842,288,2003,315"/><area shape="rect" id="node15" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1839,390,2007,416"/><area shape="rect" id="node16" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1844,339,2001,366"/><area shape="rect" id="node17" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1843,86,2003,112"/><area shape="rect" id="node18" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1862,136,1983,163"/><area shape="rect" id="node6" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="2069,187,2248,214"/><area shape="rect" id="node7" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="2296,187,2459,214"/><area shape="rect" id="node8" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="2507,180,2691,221"/><area shape="rect" id="node9" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="2739,187,2917,214"/><area shape="rect" id="node10" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2966,180,3162,221"/><area shape="rect" id="node20" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="1425,35,1548,62"/><area shape="rect" id="node21" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="1425,592,1549,619"/><area shape="rect" id="node22" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="1597,592,1776,619"/><area shape="rect" id="node23" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="1824,592,2021,619"/><area shape="rect" id="node24" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="1606,339,1767,366"/><area shape="rect" id="node25" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="1605,643,1769,670"/><area shape="rect" id="node28" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="977,744,1151,771"/><area shape="rect" id="node29" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="1211,744,1365,771"/><area shape="rect" id="node30" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="1211,795,1365,822"/><area shape="rect" id="node31" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="1201,846,1375,872"/><area shape="rect" id="node33" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="1211,896,1365,923"/><area shape="rect" id="node34" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="1201,947,1375,974"/><area shape="rect" id="node35" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="1207,643,1369,670"/><area shape="rect" id="node36" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="1215,694,1361,720"/><area shape="rect" id="node32" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="1426,846,1547,872"/><area shape="rect" id="node40" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="485,542,635,568"/><area shape="rect" id="node41" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="755,542,877,568"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7487c44c33a7aa8d29c640619575a144"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void zip64local_putValue_inmemory </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbByte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00320">320</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01554">zipCloseFileInZipRaw64()</a>, and <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* buf=(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)dest;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">int</span> n;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">for</span> (n = 0; n &lt; nbByte; n++) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        buf[n] = (<span class="keywordtype">unsigned</span> char)(x &amp; 0xff);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        x &gt;&gt;= 8;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (x != 0)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    {     <span class="comment">/* data overflow - hack for ZIP64 */</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;       <span class="keywordflow">for</span> (n = 0; n &lt; nbByte; n++)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;       {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          buf[n] = 0xff;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;       }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
</div><!-- fragment -->
<p><div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a7487c44c33a7aa8d29c640619575a144_icgraph.png" border="0" usemap="#zip_8c_a7487c44c33a7aa8d29c640619575a144_icgraph" alt=""/></div>
<map name="zip_8c_a7487c44c33a7aa8d29c640619575a144_icgraph" id="zip_8c_a7487c44c33a7aa8d29c640619575a144_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="193,220,357,247"/><area shape="rect" id="node16" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="777,499,951,525"/><area shape="rect" id="node3" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="1225,43,1349,69"/><area shape="rect" id="node14" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="406,220,557,247"/><area shape="rect" id="node4" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="1397,93,1576,120"/><area shape="rect" id="node5" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="1624,93,1821,120"/><area shape="rect" id="node9" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="1406,347,1567,373"/><area shape="rect" id="node13" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="1405,397,1569,424"/><area shape="rect" id="node7" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1633,195,1812,221"/><area shape="rect" id="node8" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1630,245,1815,272"/><area shape="rect" id="node6" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1871,144,2046,171"/><area shape="rect" id="node10" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1642,397,1803,424"/><area shape="rect" id="node11" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1639,448,1807,475"/><area shape="rect" id="node12" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1644,499,1801,525"/><area shape="rect" id="node15" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="605,220,728,247"/><area shape="rect" id="node25" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="827,220,901,247"/><area shape="rect" id="node17" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="1011,397,1165,424"/><area shape="rect" id="node18" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="1011,448,1165,475"/><area shape="rect" id="node19" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="1001,499,1175,525"/><area shape="rect" id="node21" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="1011,549,1165,576"/><area shape="rect" id="node22" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="1001,600,1175,627"/><area shape="rect" id="node23" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="1007,651,1169,677"/><area shape="rect" id="node24" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="1015,701,1161,728"/><area shape="rect" id="node20" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="1226,752,1347,779"/><area shape="rect" id="node26" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="1437,296,1537,323"/><area shape="rect" id="node35" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="1037,347,1139,373"/><area shape="rect" id="node27" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1634,347,1811,373"/><area shape="rect" id="node33" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1643,563,1803,589"/><area shape="rect" id="node34" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1662,639,1783,665"/><area shape="rect" id="node28" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1869,347,2048,373"/><area shape="rect" id="node29" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="2096,347,2259,373"/><area shape="rect" id="node30" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="2307,339,2491,381"/><area shape="rect" id="node31" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="2539,347,2717,373"/><area shape="rect" id="node32" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2766,339,2962,381"/><area shape="rect" id="node36" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="1225,701,1348,728"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7235a2cfdd684a93a58a36a7dab3ecea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> zip64local_SearchCentralDir </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>filestream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00489">489</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00068">ALLOC</a>, <a class="el" href="zip_8c_source.html#l00481">BUFREADCOMMENT</a>, <a class="el" href="zip_8c_source.html#l00071">TRYFREE</a>, <a class="el" href="ioapi_8h_source.html#l00110">ZLIB_FILEFUNC_SEEK_END</a>, <a class="el" href="ioapi_8h_source.html#l00111">ZLIB_FILEFUNC_SEEK_SET</a>, <a class="el" href="ioapi_8h_source.html#l00185">ZREAD64</a>, <a class="el" href="ioapi_8h_source.html#l00201">ZSEEK64</a>, and <a class="el" href="ioapi_8h_source.html#l00200">ZTELL64</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>.</p>
<div class="fragment"><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;{</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* buf;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uSizeFile;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uBackRead;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uMaxBack=0xffff; <span class="comment">/* maximum size of global comment */</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uPosFound=0;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(*pzlib_filefunc_def,filestream,0,<a class="code" href="ioapi_8h.html#ace27d6d19b1005424d1fb4bd0c7c9602">ZLIB_FILEFUNC_SEEK_END</a>) != 0)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  uSizeFile = <a class="code" href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a>(*pzlib_filefunc_def,filestream);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">if</span> (uMaxBack&gt;uSizeFile)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    uMaxBack = uSizeFile;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  buf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a>(<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>+4);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">if</span> (buf==NULL)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  uBackRead = 4;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">while</span> (uBackRead&lt;uMaxBack)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    uLong uReadSize;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uReadPos ;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (uBackRead+<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>&gt;uMaxBack)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      uBackRead = uMaxBack;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      uBackRead+=<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    uReadPos = uSizeFile-uBackRead ;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    uReadSize = ((<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>+4) &lt; (uSizeFile-uReadPos)) ?</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      (<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>+4) : (uLong)(uSizeFile-uReadPos);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(*pzlib_filefunc_def,filestream,uReadPos,<a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>)!=0)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ac3f6323030cbaf7b0d389a8aaac36496">ZREAD64</a>(*pzlib_filefunc_def,filestream,buf,uReadSize)!=uReadSize)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">for</span> (i=(<span class="keywordtype">int</span>)uReadSize-3; (i--)&gt;0;)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">if</span> (((*(buf+i))==0x50) &amp;&amp; ((*(buf+i+1))==0x4b) &amp;&amp;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        ((*(buf+i+2))==0x05) &amp;&amp; ((*(buf+i+3))==0x06))</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        uPosFound = uReadPos+i;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> (uPosFound!=0)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <a class="code" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(buf);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">return</span> uPosFound;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div>
<div class="ttc" id="ioapi_8h_html_ac3f6323030cbaf7b0d389a8aaac36496"><div class="ttname"><a href="ioapi_8h.html#ac3f6323030cbaf7b0d389a8aaac36496">ZREAD64</a></div><div class="ttdeci">#define ZREAD64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00185">ioapi.h:185</a></div></div>
<div class="ttc" id="zip_8c_html_a5fb23c00a00f3856832e660edc2ab03d"><div class="ttname"><a href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a></div><div class="ttdeci">#define TRYFREE(p)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00071">zip.c:71</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac849fcd066ac44109dfb95a1c5fd494c"><div class="ttname"><a href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a></div><div class="ttdeci">#define ZTELL64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00200">ioapi.h:200</a></div></div>
<div class="ttc" id="zip_8c_html_ac5c822e3692a95451e8f70a5916f05a3"><div class="ttname"><a href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a></div><div class="ttdeci">#define ALLOC(size)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00068">zip.c:68</a></div></div>
<div class="ttc" id="ioapi_8h_html_a8ccaa5cb8fc7b04e6139c610cd31ce26"><div class="ttname"><a href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a></div><div class="ttdeci">#define ZSEEK64(filefunc, filestream, pos, mode)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00201">ioapi.h:201</a></div></div>
<div class="ttc" id="ioapi_8h_html_ace27d6d19b1005424d1fb4bd0c7c9602"><div class="ttname"><a href="ioapi_8h.html#ace27d6d19b1005424d1fb4bd0c7c9602">ZLIB_FILEFUNC_SEEK_END</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_SEEK_END</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00110">ioapi.h:110</a></div></div>
<div class="ttc" id="zip_8c_html_a11acfc377461094b27681612f0bd277d"><div class="ttname"><a href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a></div><div class="ttdeci">#define BUFREADCOMMENT</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00481">zip.c:481</a></div></div>
<div class="ttc" id="ioapi_8h_html_a962e25bd3652f31479b855be08836c16"><div class="ttname"><a href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_SEEK_SET</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00111">ioapi.h:111</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a7235a2cfdd684a93a58a36a7dab3ecea_icgraph.png" border="0" usemap="#zip_8c_a7235a2cfdd684a93a58a36a7dab3ecea_icgraph" alt=""/></div>
<map name="zip_8c_a7235a2cfdd684a93a58a36a7dab3ecea_icgraph" id="zip_8c_a7235a2cfdd684a93a58a36a7dab3ecea_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="240,292,427,319"/><area shape="rect" id="node3" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="475,292,552,319"/><area shape="rect" id="node4" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="747,216,847,243"/><area shape="rect" id="node19" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="611,241,688,268"/><area shape="rect" id="node20" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="600,292,699,319"/><area shape="rect" id="node21" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="614,343,685,369"/><area shape="rect" id="node22" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="607,393,691,420"/><area shape="rect" id="node5" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="901,13,1078,40"/><area shape="rect" id="node11" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="900,64,1079,91"/><area shape="rect" id="node12" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="897,115,1082,141"/><area shape="rect" id="node13" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="902,165,1077,192"/><area shape="rect" id="node14" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="909,216,1070,243"/><area shape="rect" id="node15" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="905,267,1073,293"/><area shape="rect" id="node16" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="911,317,1068,344"/><area shape="rect" id="node17" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="909,368,1069,395"/><area shape="rect" id="node18" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="929,419,1050,445"/><area shape="rect" id="node6" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1131,13,1309,40"/><area shape="rect" id="node7" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1357,13,1520,40"/><area shape="rect" id="node8" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1568,6,1752,47"/><area shape="rect" id="node9" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1800,13,1979,40"/><area shape="rect" id="node10" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2027,6,2223,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac4b5c3b2aeca1bd92799ba00f0cc8fe5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> zip64local_SearchCentralDir64 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>filestream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00551">551</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00068">ALLOC</a>, <a class="el" href="zip_8c_source.html#l00481">BUFREADCOMMENT</a>, <a class="el" href="zip_8c_source.html#l00071">TRYFREE</a>, <a class="el" href="zip_8c_source.html#l00404">zip64local_getLong()</a>, <a class="el" href="zip_8c_source.html#l00435">zip64local_getLong64()</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, <a class="el" href="ioapi_8h_source.html#l00110">ZLIB_FILEFUNC_SEEK_END</a>, <a class="el" href="ioapi_8h_source.html#l00111">ZLIB_FILEFUNC_SEEK_SET</a>, <a class="el" href="ioapi_8h_source.html#l00185">ZREAD64</a>, <a class="el" href="ioapi_8h_source.html#l00201">ZSEEK64</a>, and <a class="el" href="ioapi_8h_source.html#l00200">ZTELL64</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>.</p>
<div class="fragment"><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;{</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* buf;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uSizeFile;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uBackRead;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uMaxBack=0xffff; <span class="comment">/* maximum size of global comment */</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uPosFound=0;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  uLong uL;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> relativeOffset;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(*pzlib_filefunc_def,filestream,0,<a class="code" href="ioapi_8h.html#ace27d6d19b1005424d1fb4bd0c7c9602">ZLIB_FILEFUNC_SEEK_END</a>) != 0)</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  uSizeFile = <a class="code" href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a>(*pzlib_filefunc_def,filestream);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">if</span> (uMaxBack&gt;uSizeFile)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    uMaxBack = uSizeFile;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  buf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)<a class="code" href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a>(<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>+4);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (buf==NULL)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  uBackRead = 4;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">while</span> (uBackRead&lt;uMaxBack)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    uLong uReadSize;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> uReadPos;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> (uBackRead+<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>&gt;uMaxBack)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      uBackRead = uMaxBack;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      uBackRead+=<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    uReadPos = uSizeFile-uBackRead ;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    uReadSize = ((<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>+4) &lt; (uSizeFile-uReadPos)) ?</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      (<a class="code" href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a>+4) : (uLong)(uSizeFile-uReadPos);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(*pzlib_filefunc_def,filestream,uReadPos,<a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>)!=0)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ac3f6323030cbaf7b0d389a8aaac36496">ZREAD64</a>(*pzlib_filefunc_def,filestream,buf,uReadSize)!=uReadSize)</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">for</span> (i=(<span class="keywordtype">int</span>)uReadSize-3; (i--)&gt;0;)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="comment">/* Signature &quot;0x07064b50&quot; Zip64 end of central directory locater */</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="keywordflow">if</span> (((*(buf+i))==0x50) &amp;&amp; ((*(buf+i+1))==0x4b) &amp;&amp; ((*(buf+i+2))==0x06) &amp;&amp; ((*(buf+i+3))==0x07))</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        uPosFound = uReadPos+i;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">if</span> (uPosFound!=0)</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <a class="code" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(buf);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">if</span> (uPosFound == 0)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="comment">/* Zip64 end of central directory locator */</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(*pzlib_filefunc_def,filestream, uPosFound,<a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>)!=0)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="comment">/* the signature, already checked */</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(pzlib_filefunc_def,filestream,&amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="comment">/* number of the disk with the start of the zip64 end of  central directory */</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(pzlib_filefunc_def,filestream,&amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">if</span> (uL != 0)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">/* relative offset of the zip64 end of central directory record */</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a>(pzlib_filefunc_def,filestream,&amp;relativeOffset)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">/* total number of disks */</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(pzlib_filefunc_def,filestream,&amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span> (uL != 1)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">/* Goto Zip64 end of central directory record */</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(*pzlib_filefunc_def,filestream, relativeOffset,<a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>)!=0)</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">/* the signature */</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a>(pzlib_filefunc_def,filestream,&amp;uL)!=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">if</span> (uL != 0x06064b50) <span class="comment">/* signature of &#39;Zip64 end of central directory&#39; */</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">return</span> relativeOffset;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a7d544970649a6e4e7e423a29b29dba81"><div class="ttname"><a href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81">zip64local_getLong64</a></div><div class="ttdeci">static int zip64local_getLong64(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, ZPOS64_T *pX)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00435">zip.c:435</a></div></div>
<div class="ttc" id="zip_8c_html_af9e4ecae0dd3d2e2a749f83c48e78d66"><div class="ttname"><a href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66">zip64local_getLong</a></div><div class="ttdeci">static int zip64local_getLong(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, uLong *pX)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00404">zip.c:404</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac3f6323030cbaf7b0d389a8aaac36496"><div class="ttname"><a href="ioapi_8h.html#ac3f6323030cbaf7b0d389a8aaac36496">ZREAD64</a></div><div class="ttdeci">#define ZREAD64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00185">ioapi.h:185</a></div></div>
<div class="ttc" id="zip_8c_html_a5fb23c00a00f3856832e660edc2ab03d"><div class="ttname"><a href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a></div><div class="ttdeci">#define TRYFREE(p)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00071">zip.c:71</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac849fcd066ac44109dfb95a1c5fd494c"><div class="ttname"><a href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a></div><div class="ttdeci">#define ZTELL64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00200">ioapi.h:200</a></div></div>
<div class="ttc" id="zip_8c_html_ac5c822e3692a95451e8f70a5916f05a3"><div class="ttname"><a href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a></div><div class="ttdeci">#define ALLOC(size)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00068">zip.c:68</a></div></div>
<div class="ttc" id="ioapi_8h_html_a8ccaa5cb8fc7b04e6139c610cd31ce26"><div class="ttname"><a href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a></div><div class="ttdeci">#define ZSEEK64(filefunc, filestream, pos, mode)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00201">ioapi.h:201</a></div></div>
<div class="ttc" id="ioapi_8h_html_ace27d6d19b1005424d1fb4bd0c7c9602"><div class="ttname"><a href="ioapi_8h.html#ace27d6d19b1005424d1fb4bd0c7c9602">ZLIB_FILEFUNC_SEEK_END</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_SEEK_END</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00110">ioapi.h:110</a></div></div>
<div class="ttc" id="zip_8c_html_a11acfc377461094b27681612f0bd277d"><div class="ttname"><a href="zip_8c.html#a11acfc377461094b27681612f0bd277d">BUFREADCOMMENT</a></div><div class="ttdeci">#define BUFREADCOMMENT</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00481">zip.c:481</a></div></div>
<div class="ttc" id="ioapi_8h_html_a962e25bd3652f31479b855be08836c16"><div class="ttname"><a href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_SEEK_SET</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00111">ioapi.h:111</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_ac4b5c3b2aeca1bd92799ba00f0cc8fe5_cgraph.png" border="0" usemap="#zip_8c_ac4b5c3b2aeca1bd92799ba00f0cc8fe5_cgraph" alt=""/></div>
<map name="zip_8c_ac4b5c3b2aeca1bd92799ba00f0cc8fe5_cgraph" id="zip_8c_ac4b5c3b2aeca1bd92799ba00f0cc8fe5_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66" title="zip64local_getLong" alt="" coords="231,5,364,32"/><area shape="rect" id="node4" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81" title="zip64local_getLong64" alt="" coords="224,56,371,83"/><area shape="rect" id="node3" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="419,31,551,57"/></map>
</div>
</p>

<p><div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_ac4b5c3b2aeca1bd92799ba00f0cc8fe5_icgraph.png" border="0" usemap="#zip_8c_ac4b5c3b2aeca1bd92799ba00f0cc8fe5_icgraph" alt=""/></div>
<map name="zip_8c_ac4b5c3b2aeca1bd92799ba00f0cc8fe5_icgraph" id="zip_8c_ac4b5c3b2aeca1bd92799ba00f0cc8fe5_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="224,292,411,319"/><area shape="rect" id="node3" href="zip_8h.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="459,292,536,319"/><area shape="rect" id="node4" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="731,216,831,243"/><area shape="rect" id="node19" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="595,241,672,268"/><area shape="rect" id="node20" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="584,292,683,319"/><area shape="rect" id="node21" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="598,343,669,369"/><area shape="rect" id="node22" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="591,393,675,420"/><area shape="rect" id="node5" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="885,13,1062,40"/><area shape="rect" id="node11" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="884,64,1063,91"/><area shape="rect" id="node12" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="881,115,1066,141"/><area shape="rect" id="node13" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="886,165,1061,192"/><area shape="rect" id="node14" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="893,216,1054,243"/><area shape="rect" id="node15" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="889,267,1057,293"/><area shape="rect" id="node16" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="895,317,1052,344"/><area shape="rect" id="node17" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="893,368,1053,395"/><area shape="rect" id="node18" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="913,419,1034,445"/><area shape="rect" id="node6" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1115,13,1293,40"/><area shape="rect" id="node7" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1341,13,1504,40"/><area shape="rect" id="node8" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1552,6,1736,47"/><area shape="rect" id="node9" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1784,13,1963,40"/><area shape="rect" id="node10" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2011,6,2207,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a037626935aca46ac3a5397dd61297783"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uLong zip64local_TmzDateToDosDate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="zip_8h.html#a93b9012a85479327c6da966108d8f743">tm_zip</a> *&#160;</td>
          <td class="paramname"><em>ptm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00341">341</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8h_source.html#l00104">tm_zip_s::tm_hour</a>, <a class="el" href="zip_8h_source.html#l00105">tm_zip_s::tm_mday</a>, <a class="el" href="zip_8h_source.html#l00103">tm_zip_s::tm_min</a>, <a class="el" href="zip_8h_source.html#l00106">tm_zip_s::tm_mon</a>, <a class="el" href="zip_8h_source.html#l00102">tm_zip_s::tm_sec</a>, and <a class="el" href="zip_8h_source.html#l00107">tm_zip_s::tm_year</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    uLong year = (uLong)ptm-&gt;<a class="code" href="zip_8h.html#ad58d60c6a536a0861dec11c6ef270753">tm_year</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    if (year&gt;=1980)</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        year-=1980;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (year&gt;=80)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        year-=80;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">return</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      (uLong) (((ptm-&gt;<a class="code" href="zip_8h.html#aebc461dd0a4a7b7ebd4e00de5fbf594d">tm_mday</a>) + (32 * (ptm-&gt;<a class="code" href="zip_8h.html#ae98d11f7e2b2330b3a83efe97ffef574">tm_mon</a>+1)) + (512 * year)) &lt;&lt; 16) |</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        ((ptm-&gt;<a class="code" href="zip_8h.html#adf073cb37484b209d7f7f0e23275a52d">tm_sec</a>/2) + (32* ptm-&gt;<a class="code" href="zip_8h.html#ad539676c1522e9f2cb77cb9e65795e2a">tm_min</a>) + (2048 * (uLong)ptm-&gt;<a class="code" href="zip_8h.html#abfde1cc7378be65b4b23e1488e9bd279">tm_hour</a>));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_ad539676c1522e9f2cb77cb9e65795e2a"><div class="ttname"><a href="zip_8h.html#ad539676c1522e9f2cb77cb9e65795e2a">tm_zip_s::tm_min</a></div><div class="ttdeci">uInt tm_min</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00103">zip.h:103</a></div></div>
<div class="ttc" id="zip_8h_html_abfde1cc7378be65b4b23e1488e9bd279"><div class="ttname"><a href="zip_8h.html#abfde1cc7378be65b4b23e1488e9bd279">tm_zip_s::tm_hour</a></div><div class="ttdeci">uInt tm_hour</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00104">zip.h:104</a></div></div>
<div class="ttc" id="zip_8h_html_adf073cb37484b209d7f7f0e23275a52d"><div class="ttname"><a href="zip_8h.html#adf073cb37484b209d7f7f0e23275a52d">tm_zip_s::tm_sec</a></div><div class="ttdeci">uInt tm_sec</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00102">zip.h:102</a></div></div>
<div class="ttc" id="zip_8h_html_aebc461dd0a4a7b7ebd4e00de5fbf594d"><div class="ttname"><a href="zip_8h.html#aebc461dd0a4a7b7ebd4e00de5fbf594d">tm_zip_s::tm_mday</a></div><div class="ttdeci">uInt tm_mday</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00105">zip.h:105</a></div></div>
<div class="ttc" id="zip_8h_html_ae98d11f7e2b2330b3a83efe97ffef574"><div class="ttname"><a href="zip_8h.html#ae98d11f7e2b2330b3a83efe97ffef574">tm_zip_s::tm_mon</a></div><div class="ttdeci">uInt tm_mon</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00106">zip.h:106</a></div></div>
<div class="ttc" id="zip_8h_html_ad58d60c6a536a0861dec11c6ef270753"><div class="ttname"><a href="zip_8h.html#ad58d60c6a536a0861dec11c6ef270753">tm_zip_s::tm_year</a></div><div class="ttdeci">uInt tm_year</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00107">zip.h:107</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a037626935aca46ac3a5397dd61297783_icgraph.png" border="0" usemap="#zip_8c_a037626935aca46ac3a5397dd61297783_icgraph" alt=""/></div>
<map name="zip_8c_a037626935aca46ac3a5397dd61297783_icgraph" id="zip_8c_a037626935aca46ac3a5397dd61297783_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="262,157,437,184"/><area shape="rect" id="node3" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="496,5,651,32"/><area shape="rect" id="node4" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="496,56,651,83"/><area shape="rect" id="node5" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="486,107,661,133"/><area shape="rect" id="node7" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="496,157,651,184"/><area shape="rect" id="node8" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="486,208,661,235"/><area shape="rect" id="node9" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="493,259,654,285"/><area shape="rect" id="node10" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="500,309,647,336"/><area shape="rect" id="node6" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="710,107,831,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aee7e012c35c9b56e7623f8f7937ac5c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipClearFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l02091">2091</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00188">zip64_internal::flags</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, <a class="el" href="zip_8h_source.html#l00081">ZIP_PARAMERROR</a>, <a class="el" href="zip_8h_source.html#l00087">ZIP_SEQUENTIAL</a>, and <a class="el" href="zip_8h_source.html#l00085">ZIP_WRITE_DATA_DESCRIPTOR</a>.</p>

<p>Referenced by <a class="el" href="quazipfile_8cpp_source.html#l00275">QuaZipFile::open()</a>.</p>
<div class="fragment"><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;{</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>* zi;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    zi = (<a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>*)file;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp;= ~flags;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <span class="comment">// If the data descriptor is not written, we can&#39;t use a non-seekable output.</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a5db4ac23b76ba0210b4e6d83c40ef830">ZIP_WRITE_DATA_DESCRIPTOR</a>) == 0) {</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp;= ~<a class="code" href="zip_8h.html#a270111b3810ccd2d4e17bbf4f56f1adf">ZIP_SEQUENTIAL</a>;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    }</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8h_html_a5db4ac23b76ba0210b4e6d83c40ef830"><div class="ttname"><a href="zip_8h.html#a5db4ac23b76ba0210b4e6d83c40ef830">ZIP_WRITE_DATA_DESCRIPTOR</a></div><div class="ttdeci">#define ZIP_WRITE_DATA_DESCRIPTOR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00085">zip.h:85</a></div></div>
<div class="ttc" id="zip_8c_html_a388120a043a52c734276c24c47dbc1fa"><div class="ttname"><a href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">zip64_internal::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00188">zip.c:188</a></div></div>
<div class="ttc" id="zip_8c_html_structzip64__internal"><div class="ttname"><a href="zip_8c.html#structzip64__internal">zip64_internal</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00172">zip.c:172</a></div></div>
<div class="ttc" id="zip_8h_html_a292dcf8769c6dd30324cae5abea8784e"><div class="ttname"><a href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a></div><div class="ttdeci">#define ZIP_PARAMERROR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00081">zip.h:81</a></div></div>
<div class="ttc" id="zip_8h_html_a270111b3810ccd2d4e17bbf4f56f1adf"><div class="ttname"><a href="zip_8h.html#a270111b3810ccd2d4e17bbf4f56f1adf">ZIP_SEQUENTIAL</a></div><div class="ttdeci">#define ZIP_SEQUENTIAL</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00087">zip.h:87</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_aee7e012c35c9b56e7623f8f7937ac5c1_icgraph.png" border="0" usemap="#zip_8c_aee7e012c35c9b56e7623f8f7937ac5c1_icgraph" alt=""/></div>
<map name="zip_8c_aee7e012c35c9b56e7623f8f7937ac5c1_icgraph" id="zip_8c_aee7e012c35c9b56e7623f8f7937ac5c1_icgraph">
<area shape="rect" id="node2" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="158,5,279,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4fda7a41fa2f57d105ffc7d1cbcf53cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>global_comment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01942">1942</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00181">zip64_internal::add_position_when_writting_offset</a>, <a class="el" href="zip_8c_source.html#l00176">zip64_internal::central_dir</a>, <a class="el" href="zip_8c_source.html#l00127">linkedlist_datablock_internal_s::data</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00125">linkedlist_datablock_internal_s::filled_in_this_block</a>, <a class="el" href="zip_8c_source.html#l00132">linkedlist_data_s::first_block</a>, <a class="el" href="zip_8c_source.html#l00188">zip64_internal::flags</a>, <a class="el" href="zip_8c_source.html#l00227">free_linkedlist()</a>, <a class="el" href="zip_8c_source.html#l00185">zip64_internal::globalcomment</a>, <a class="el" href="zip_8c_source.html#l00177">zip64_internal::in_opened_file_inzip</a>, <a class="el" href="zip_8c_source.html#l00123">linkedlist_datablock_internal_s::next_datablock</a>, <a class="el" href="zip_8c_source.html#l00182">zip64_internal::number_entry</a>, <a class="el" href="zip_8c_source.html#l00071">TRYFREE</a>, <a class="el" href="zip_8c_source.html#l01876">Write_EndOfCentralDirectoryRecord()</a>, <a class="el" href="zip_8c_source.html#l01924">Write_GlobalComment()</a>, <a class="el" href="zip_8c_source.html#l01815">Write_Zip64EndOfCentralDirectoryLocator()</a>, <a class="el" href="zip_8c_source.html#l01837">Write_Zip64EndOfCentralDirectoryRecord()</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="ioapi_8h_source.html#l00189">ZCLOSE64</a>, <a class="el" href="ioapi_8h_source.html#l00190">ZFAKECLOSE64</a>, <a class="el" href="zip_8h_source.html#l00086">ZIP_AUTO_CLOSE</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, <a class="el" href="zip_8h_source.html#l00081">ZIP_PARAMERROR</a>, <a class="el" href="zip_8c_source.html#l01810">zipCloseFileInZip()</a>, <a class="el" href="ioapi_8h_source.html#l00200">ZTELL64</a>, and <a class="el" href="ioapi_8h_source.html#l00186">ZWRITE64</a>.</p>

<p>Referenced by <a class="el" href="quazip_8cpp_source.html#l00324">QuaZip::close()</a>, and <a class="el" href="quazip_8cpp_source.html#l00215">QuaZip::open()</a>.</p>
<div class="fragment"><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;{</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>* zi;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordtype">int</span> err = 0;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    uLong size_centraldir = 0;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> centraldir_pos_inzip;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> pos;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    zi = (<a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>*)file;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">in_opened_file_inzip</a> == 1)</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    {</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        err = <a class="code" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1">zipCloseFileInZip</a> (file);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    }</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="preprocessor">#ifndef NO_ADDFILEINEXISTINGZIP</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (global_comment==NULL)</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        global_comment = zi-&gt;<a class="code" href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">globalcomment</a>;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    centraldir_pos_inzip = <a class="code" href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    {</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <a class="code" href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal</a>* ldi = zi-&gt;<a class="code" href="zip_8c.html#a869144921e51ec758f1b60dba2f1a2af">central_dir</a>.<a class="code" href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">first_block</a>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        <span class="keywordflow">while</span> (ldi!=NULL)</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        {</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            <span class="keywordflow">if</span> ((err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) &amp;&amp; (ldi-&gt;<a class="code" href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">filled_in_this_block</a>&gt;0))</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, ldi-&gt;<a class="code" href="zip_8c.html#aefd2c4c9e00d76a031bc3c37f7731d44">data</a>, ldi-&gt;<a class="code" href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">filled_in_this_block</a>) != ldi-&gt;<a class="code" href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">filled_in_this_block</a>)</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                    err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;            size_centraldir += ldi-&gt;<a class="code" href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">filled_in_this_block</a>;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            ldi = ldi-&gt;<a class="code" href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">next_datablock</a>;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    }</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <a class="code" href="zip_8c.html#afdf0486190c480fc1cc3b194ec0c0956">free_linkedlist</a>(&amp;(zi-&gt;<a class="code" href="zip_8c.html#a869144921e51ec758f1b60dba2f1a2af">central_dir</a>));</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    pos = centraldir_pos_inzip - zi-&gt;<a class="code" href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">add_position_when_writting_offset</a>;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">if</span>(pos &gt;= 0xffffffff || zi-&gt;<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a> &gt; 0xFFFF)</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;      <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> Zip64EOCDpos = <a class="code" href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      <a class="code" href="zip_8c.html#a3e803b9de3378b55508de949f9725480">Write_Zip64EndOfCentralDirectoryRecord</a>(zi, size_centraldir, centraldir_pos_inzip);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <a class="code" href="zip_8c.html#a9c440209ccea3275591d82ef1170caec">Write_Zip64EndOfCentralDirectoryLocator</a>(zi, Zip64EOCDpos);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    }</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      err = <a class="code" href="zip_8c.html#a26acf4764f6b8c19f0feb18ac5315438">Write_EndOfCentralDirectoryRecord</a>(zi, size_centraldir, centraldir_pos_inzip);</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">if</span>(err == <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;      err = <a class="code" href="zip_8c.html#afe52628c128fa6397329f43e60420142">Write_GlobalComment</a>(zi, global_comment);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a1e2c5afcf10fe30d6ad820a10b17ab94">ZIP_AUTO_CLOSE</a>) != 0) {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ac4ed0148a82154111eb1671549b50c38">ZCLOSE64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>) != 0) {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            <span class="keywordflow">if</span> (err == <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a1034b671423055a010cdd0b08fd61e83">ZFAKECLOSE64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>) != 0) {</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            <span class="keywordflow">if</span> (err == <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;<span class="preprocessor">#ifndef NO_ADDFILEINEXISTINGZIP</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<span class="preprocessor"></span>    <a class="code" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(zi-&gt;<a class="code" href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">globalcomment</a>);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="preprocessor"></span>    <a class="code" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(zi);</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_aefd2c4c9e00d76a031bc3c37f7731d44"><div class="ttname"><a href="zip_8c.html#aefd2c4c9e00d76a031bc3c37f7731d44">linkedlist_datablock_internal_s::data</a></div><div class="ttdeci">unsigned char data[(4096-(4 *4))]</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00127">zip.c:127</a></div></div>
<div class="ttc" id="zip_8c_html_a997ca8e9d08081a280e32b7c4280f090"><div class="ttname"><a href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">zip64_internal::globalcomment</a></div><div class="ttdeci">char * globalcomment</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00185">zip.c:185</a></div></div>
<div class="ttc" id="zip_8c_html_a26acf4764f6b8c19f0feb18ac5315438"><div class="ttname"><a href="zip_8c.html#a26acf4764f6b8c19f0feb18ac5315438">Write_EndOfCentralDirectoryRecord</a></div><div class="ttdeci">int Write_EndOfCentralDirectoryRecord(zip64_internal *zi, uLong size_centraldir, ZPOS64_T centraldir_pos_inzip)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01876">zip.c:1876</a></div></div>
<div class="ttc" id="zip_8c_html_aa24353ae49bce7e6d6aa3f5994782be7"><div class="ttname"><a href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">zip64_internal::in_opened_file_inzip</a></div><div class="ttdeci">int in_opened_file_inzip</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00177">zip.c:177</a></div></div>
<div class="ttc" id="zip_8c_html_a76ae854b6029e6617c7544d2eb311f77"><div class="ttname"><a href="zip_8c.html#a76ae854b6029e6617c7544d2eb311f77">linkedlist_datablock_internal_s::filled_in_this_block</a></div><div class="ttdeci">uLong filled_in_this_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00125">zip.c:125</a></div></div>
<div class="ttc" id="zip_8c_html_afdf0486190c480fc1cc3b194ec0c0956"><div class="ttname"><a href="zip_8c.html#afdf0486190c480fc1cc3b194ec0c0956">free_linkedlist</a></div><div class="ttdeci">static void free_linkedlist(linkedlist_data *ll)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00227">zip.c:227</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="zip_8c_html_a388120a043a52c734276c24c47dbc1fa"><div class="ttname"><a href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">zip64_internal::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00188">zip.c:188</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac4ed0148a82154111eb1671549b50c38"><div class="ttname"><a href="ioapi_8h.html#ac4ed0148a82154111eb1671549b50c38">ZCLOSE64</a></div><div class="ttdeci">#define ZCLOSE64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00189">ioapi.h:189</a></div></div>
<div class="ttc" id="ioapi_8h_html_a1034b671423055a010cdd0b08fd61e83"><div class="ttname"><a href="ioapi_8h.html#a1034b671423055a010cdd0b08fd61e83">ZFAKECLOSE64</a></div><div class="ttdeci">#define ZFAKECLOSE64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00190">ioapi.h:190</a></div></div>
<div class="ttc" id="zip_8c_html_a74984ae4b2cdc5b5eade871ee61b2261"><div class="ttname"><a href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">zip64_internal::add_position_when_writting_offset</a></div><div class="ttdeci">ZPOS64_T add_position_when_writting_offset</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00181">zip.c:181</a></div></div>
<div class="ttc" id="zip_8c_html_a869144921e51ec758f1b60dba2f1a2af"><div class="ttname"><a href="zip_8c.html#a869144921e51ec758f1b60dba2f1a2af">zip64_internal::central_dir</a></div><div class="ttdeci">linkedlist_data central_dir</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00176">zip.c:176</a></div></div>
<div class="ttc" id="zip_8c_html_a5fb23c00a00f3856832e660edc2ab03d"><div class="ttname"><a href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a></div><div class="ttdeci">#define TRYFREE(p)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00071">zip.c:71</a></div></div>
<div class="ttc" id="zip_8h_html_a1e2c5afcf10fe30d6ad820a10b17ab94"><div class="ttname"><a href="zip_8h.html#a1e2c5afcf10fe30d6ad820a10b17ab94">ZIP_AUTO_CLOSE</a></div><div class="ttdeci">#define ZIP_AUTO_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00086">zip.h:86</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac849fcd066ac44109dfb95a1c5fd494c"><div class="ttname"><a href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a></div><div class="ttdeci">#define ZTELL64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00200">ioapi.h:200</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="zip_8c_html_a3e803b9de3378b55508de949f9725480"><div class="ttname"><a href="zip_8c.html#a3e803b9de3378b55508de949f9725480">Write_Zip64EndOfCentralDirectoryRecord</a></div><div class="ttdeci">int Write_Zip64EndOfCentralDirectoryRecord(zip64_internal *zi, uLong size_centraldir, ZPOS64_T centraldir_pos_inzip)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01837">zip.c:1837</a></div></div>
<div class="ttc" id="zip_8c_html_a2d8ae560933ed00ee61052446288f4a8"><div class="ttname"><a href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">zip64_internal::number_entry</a></div><div class="ttdeci">ZPOS64_T number_entry</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00182">zip.c:182</a></div></div>
<div class="ttc" id="zip_8c_html_structlinkedlist__datablock__internal__s"><div class="ttname"><a href="zip_8c.html#structlinkedlist__datablock__internal__s">linkedlist_datablock_internal_s</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00121">zip.c:121</a></div></div>
<div class="ttc" id="zip_8c_html_afe52628c128fa6397329f43e60420142"><div class="ttname"><a href="zip_8c.html#afe52628c128fa6397329f43e60420142">Write_GlobalComment</a></div><div class="ttdeci">int Write_GlobalComment(zip64_internal *zi, const char *global_comment)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01924">zip.c:1924</a></div></div>
<div class="ttc" id="zip_8c_html_structzip64__internal"><div class="ttname"><a href="zip_8c.html#structzip64__internal">zip64_internal</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00172">zip.c:172</a></div></div>
<div class="ttc" id="zip_8h_html_a292dcf8769c6dd30324cae5abea8784e"><div class="ttname"><a href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a></div><div class="ttdeci">#define ZIP_PARAMERROR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00081">zip.h:81</a></div></div>
<div class="ttc" id="zip_8c_html_a9c440209ccea3275591d82ef1170caec"><div class="ttname"><a href="zip_8c.html#a9c440209ccea3275591d82ef1170caec">Write_Zip64EndOfCentralDirectoryLocator</a></div><div class="ttdeci">int Write_Zip64EndOfCentralDirectoryLocator(zip64_internal *zi, ZPOS64_T zip64eocd_pos_inzip)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01815">zip.c:1815</a></div></div>
<div class="ttc" id="zip_8c_html_ae470f753aef4cffe4f77a5ec2bcfbde1"><div class="ttname"><a href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1">zipCloseFileInZip</a></div><div class="ttdeci">int ZEXPORT zipCloseFileInZip(zipFile file)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01810">zip.c:1810</a></div></div>
<div class="ttc" id="zip_8c_html_a1f5abadbf41d82b8724a048a33c4c153"><div class="ttname"><a href="zip_8c.html#a1f5abadbf41d82b8724a048a33c4c153">linkedlist_datablock_internal_s::next_datablock</a></div><div class="ttdeci">struct linkedlist_datablock_internal_s * next_datablock</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00123">zip.c:123</a></div></div>
<div class="ttc" id="zip_8c_html_aa0a9c876ad4a05aa5969d8888fb57cdb"><div class="ttname"><a href="zip_8c.html#aa0a9c876ad4a05aa5969d8888fb57cdb">linkedlist_data_s::first_block</a></div><div class="ttdeci">linkedlist_datablock_internal * first_block</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00132">zip.c:132</a></div></div>
<div class="ttc" id="ioapi_8h_html_ada98b2bb422c21c8c22b1cc6e305e7d3"><div class="ttname"><a href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a></div><div class="ttdeci">#define ZWRITE64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00186">ioapi.h:186</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a4fda7a41fa2f57d105ffc7d1cbcf53cc_cgraph.png" border="0" usemap="#zip_8c_a4fda7a41fa2f57d105ffc7d1cbcf53cc_cgraph" alt=""/></div>
<map name="zip_8c_a4fda7a41fa2f57d105ffc7d1cbcf53cc_cgraph" id="zip_8c_a4fda7a41fa2f57d105ffc7d1cbcf53cc_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#afdf0486190c480fc1cc3b194ec0c0956" title="free_linkedlist" alt="" coords="189,5,291,32"/><area shape="rect" id="node4" href="zip_8c.html#a26acf4764f6b8c19f0feb18ac5315438" title="Write_EndOfCentralDirectory\lRecord" alt="" coords="619,41,811,82"/><area shape="rect" id="node6" href="zip_8c.html#afe52628c128fa6397329f43e60420142" title="Write_GlobalComment" alt="" coords="400,107,555,133"/><area shape="rect" id="node7" href="zip_8c.html#a9c440209ccea3275591d82ef1170caec" title="Write_Zip64EndOfCentralDirectory\lLocator" alt="" coords="603,158,827,199"/><area shape="rect" id="node8" href="zip_8c.html#a3e803b9de3378b55508de949f9725480" title="Write_Zip64EndOfCentralDirectory\lRecord" alt="" coords="128,209,352,250"/><area shape="rect" id="node9" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="179,275,301,301"/><area shape="rect" id="node3" href="zip_8c.html#ae1880c519f87166d1e881d8c774836d7" title="free_datablock" alt="" coords="424,5,531,32"/><area shape="rect" id="node5" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="883,165,1021,192"/><area shape="rect" id="node10" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="402,275,553,301"/><area shape="rect" id="node11" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="633,275,797,301"/><area shape="rect" id="node12" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="877,216,1027,243"/><area shape="rect" id="node13" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="883,267,1021,309"/><area shape="rect" id="node14" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="875,333,1029,360"/><area shape="rect" id="node15" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="1078,333,1239,360"/></map>
</div>
</p>

<p><div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a4fda7a41fa2f57d105ffc7d1cbcf53cc_icgraph.png" border="0" usemap="#zip_8c_a4fda7a41fa2f57d105ffc7d1cbcf53cc_icgraph" alt=""/></div>
<map name="zip_8c_a4fda7a41fa2f57d105ffc7d1cbcf53cc_icgraph" id="zip_8c_a4fda7a41fa2f57d105ffc7d1cbcf53cc_icgraph">
<area shape="rect" id="node2" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="129,352,231,379"/><area shape="rect" id="node17" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="493,555,593,581"/><area shape="rect" id="node3" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="689,149,868,176"/><area shape="rect" id="node4" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="686,200,871,227"/><area shape="rect" id="node5" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="927,251,1102,277"/><area shape="rect" id="node6" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="698,352,859,379"/><area shape="rect" id="node7" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="695,403,863,429"/><area shape="rect" id="node8" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="700,453,857,480"/><area shape="rect" id="node9" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="699,605,859,632"/><area shape="rect" id="node10" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="281,149,404,176"/><area shape="rect" id="node11" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="718,656,839,683"/><area shape="rect" id="node12" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="281,301,405,328"/><area shape="rect" id="node13" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="453,200,632,227"/><area shape="rect" id="node14" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="680,251,877,277"/><area shape="rect" id="node15" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="462,403,623,429"/><area shape="rect" id="node16" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="461,301,625,328"/><area shape="rect" id="node18" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="690,555,867,581"/><area shape="rect" id="node19" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="925,555,1104,581"/><area shape="rect" id="node20" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1152,555,1315,581"/><area shape="rect" id="node21" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1363,547,1547,589"/><area shape="rect" id="node22" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1595,555,1773,581"/><area shape="rect" id="node23" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="1822,547,2018,589"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae470f753aef4cffe4f77a5ec2bcfbde1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipCloseFileInZip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01810">1810</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l01549">zipCloseFileInZipRaw()</a>.</p>

<p>Referenced by <a class="el" href="quazipfile_8cpp_source.html#l00432">QuaZipFile::close()</a>, <a class="el" href="zip_8c_source.html#l01942">zipClose()</a>, and <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;{</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87">zipCloseFileInZipRaw</a> (file,0,0);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;}</div>
<div class="ttc" id="zip_8c_html_a43fe6f36cef62c7f34c0fdb4c8288b87"><div class="ttname"><a href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87">zipCloseFileInZipRaw</a></div><div class="ttdeci">int ZEXPORT zipCloseFileInZipRaw(zipFile file, uLong uncompressed_size, uLong crc32)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01549">zip.c:1549</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_ae470f753aef4cffe4f77a5ec2bcfbde1_cgraph.png" border="0" usemap="#zip_8c_ae470f753aef4cffe4f77a5ec2bcfbde1_cgraph" alt=""/></div>
<map name="zip_8c_ae470f753aef4cffe4f77a5ec2bcfbde1_cgraph" id="zip_8c_ae470f753aef4cffe4f77a5ec2bcfbde1_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="177,93,327,120"/><area shape="rect" id="node3" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="377,93,541,120"/><area shape="rect" id="node4" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="591,5,742,32"/><area shape="rect" id="node5" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="597,57,736,98"/><area shape="rect" id="node6" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="589,123,744,149"/><area shape="rect" id="node8" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="597,173,736,200"/><area shape="rect" id="node7" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="793,123,954,149"/></map>
</div>
</p>

<p><div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_ae470f753aef4cffe4f77a5ec2bcfbde1_icgraph.png" border="0" usemap="#zip_8c_ae470f753aef4cffe4f77a5ec2bcfbde1_icgraph" alt=""/></div>
<map name="zip_8c_ae470f753aef4cffe4f77a5ec2bcfbde1_icgraph" id="zip_8c_ae470f753aef4cffe4f77a5ec2bcfbde1_icgraph">
<area shape="rect" id="node2" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="625,56,749,83"/><area shape="rect" id="node13" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="227,259,301,285"/><area shape="rect" id="node25" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="177,689,351,716"/><area shape="rect" id="node3" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="797,107,976,133"/><area shape="rect" id="node4" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="1024,81,1221,108"/><area shape="rect" id="node8" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="806,360,967,387"/><area shape="rect" id="node12" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="805,5,969,32"/><area shape="rect" id="node6" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1033,132,1212,159"/><area shape="rect" id="node7" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1030,183,1215,209"/><area shape="rect" id="node5" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1271,233,1446,260"/><area shape="rect" id="node9" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1042,335,1203,361"/><area shape="rect" id="node10" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1039,385,1207,412"/><area shape="rect" id="node11" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1044,436,1201,463"/><area shape="rect" id="node14" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="437,411,539,437"/><area shape="rect" id="node18" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="837,259,937,285"/><area shape="rect" id="node15" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1043,500,1203,527"/><area shape="rect" id="node16" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="625,563,748,589"/><area shape="rect" id="node17" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1062,639,1183,665"/><area shape="rect" id="node19" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1034,284,1211,311"/><area shape="rect" id="node20" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1269,284,1448,311"/><area shape="rect" id="node21" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1496,284,1659,311"/><area shape="rect" id="node22" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1707,277,1891,318"/><area shape="rect" id="node23" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1939,284,2117,311"/><area shape="rect" id="node24" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2166,277,2362,318"/><area shape="rect" id="node26" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="411,867,565,893"/><area shape="rect" id="node27" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="411,563,565,589"/><area shape="rect" id="node28" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="401,613,575,640"/><area shape="rect" id="node30" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="411,664,565,691"/><area shape="rect" id="node31" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="401,715,575,741"/><area shape="rect" id="node32" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="407,765,569,792"/><area shape="rect" id="node33" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="415,816,561,843"/><area shape="rect" id="node29" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="626,715,747,741"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a43fe6f36cef62c7f34c0fdb4c8288b87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipCloseFileInZipRaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>uncompressed_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>crc32</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01549">1549</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l01554">zipCloseFileInZipRaw64()</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01810">zipCloseFileInZip()</a>.</p>
<div class="fragment"><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;{</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436">zipCloseFileInZipRaw64</a> (file, uncompressed_size, crc32);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;}</div>
<div class="ttc" id="zip_8c_html_a3bed1cfe7ae981d2a433a1dbdb2cc436"><div class="ttname"><a href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436">zipCloseFileInZipRaw64</a></div><div class="ttdeci">int ZEXPORT zipCloseFileInZipRaw64(zipFile file, ZPOS64_T uncompressed_size, uLong crc32)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01554">zip.c:1554</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a43fe6f36cef62c7f34c0fdb4c8288b87_cgraph.png" border="0" usemap="#zip_8c_a43fe6f36cef62c7f34c0fdb4c8288b87_cgraph" alt=""/></div>
<map name="zip_8c_a43fe6f36cef62c7f34c0fdb4c8288b87_cgraph" id="zip_8c_a43fe6f36cef62c7f34c0fdb4c8288b87_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="206,93,370,120"/><area shape="rect" id="node3" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="421,5,571,32"/><area shape="rect" id="node4" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="427,57,565,98"/><area shape="rect" id="node5" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="419,123,573,149"/><area shape="rect" id="node7" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="427,173,565,200"/><area shape="rect" id="node6" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="622,123,783,149"/></map>
</div>
</p>

<p><div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a43fe6f36cef62c7f34c0fdb4c8288b87_icgraph.png" border="0" usemap="#zip_8c_a43fe6f36cef62c7f34c0fdb4c8288b87_icgraph" alt=""/></div>
<map name="zip_8c_a43fe6f36cef62c7f34c0fdb4c8288b87_icgraph" id="zip_8c_a43fe6f36cef62c7f34c0fdb4c8288b87_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="205,259,328,285"/><area shape="rect" id="node3" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="825,56,949,83"/><area shape="rect" id="node14" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="427,259,501,285"/><area shape="rect" id="node26" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="377,689,551,716"/><area shape="rect" id="node4" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="997,107,1176,133"/><area shape="rect" id="node5" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="1224,81,1421,108"/><area shape="rect" id="node9" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="1006,360,1167,387"/><area shape="rect" id="node13" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="1005,5,1169,32"/><area shape="rect" id="node7" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1233,132,1412,159"/><area shape="rect" id="node8" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1230,183,1415,209"/><area shape="rect" id="node6" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1471,233,1646,260"/><area shape="rect" id="node10" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1242,335,1403,361"/><area shape="rect" id="node11" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1239,385,1407,412"/><area shape="rect" id="node12" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1244,436,1401,463"/><area shape="rect" id="node15" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="637,411,739,437"/><area shape="rect" id="node19" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="1037,259,1137,285"/><area shape="rect" id="node16" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1243,500,1403,527"/><area shape="rect" id="node17" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="825,563,948,589"/><area shape="rect" id="node18" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1262,639,1383,665"/><area shape="rect" id="node20" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1234,284,1411,311"/><area shape="rect" id="node21" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1469,284,1648,311"/><area shape="rect" id="node22" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1696,284,1859,311"/><area shape="rect" id="node23" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1907,277,2091,318"/><area shape="rect" id="node24" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="2139,284,2317,311"/><area shape="rect" id="node25" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2366,277,2562,318"/><area shape="rect" id="node27" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="611,867,765,893"/><area shape="rect" id="node28" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="611,563,765,589"/><area shape="rect" id="node29" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="601,613,775,640"/><area shape="rect" id="node31" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="611,664,765,691"/><area shape="rect" id="node32" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="601,715,775,741"/><area shape="rect" id="node33" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="607,765,769,792"/><area shape="rect" id="node34" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="615,816,761,843"/><area shape="rect" id="node30" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="826,715,947,741"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3bed1cfe7ae981d2a433a1dbdb2cc436"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipCloseFileInZipRaw64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a>&#160;</td>
          <td class="paramname"><em>uncompressed_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>crc32</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01554">1554</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00234">add_data_in_datablock()</a>, <a class="el" href="zip_8c_source.html#l00157">curfile64_info::buffered_data</a>, <a class="el" href="zip_8c_source.html#l00176">zip64_internal::central_dir</a>, <a class="el" href="zip_8c_source.html#l00149">curfile64_info::central_header</a>, <a class="el" href="zip_8c_source.html#l00178">zip64_internal::ci</a>, <a class="el" href="zip_8c_source.html#l00159">curfile64_info::crc32</a>, <a class="el" href="zip_8c_source.html#l00168">curfile64_info::crypt_header_size</a>, <a class="el" href="zip_8c_source.html#l00110">DESCRIPTORHEADERMAGIC</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00153">curfile64_info::flag</a>, <a class="el" href="zip_8c_source.html#l00188">zip64_internal::flags</a>, <a class="el" href="zip_8c_source.html#l00177">zip64_internal::in_opened_file_inzip</a>, <a class="el" href="zip_8c_source.html#l00155">curfile64_info::method</a>, <a class="el" href="zip_8c_source.html#l00182">zip64_internal::number_entry</a>, <a class="el" href="zip_8c_source.html#l00145">curfile64_info::pos_in_buffered_data</a>, <a class="el" href="zip_8c_source.html#l00147">curfile64_info::pos_local_header</a>, <a class="el" href="zip_8c_source.html#l00162">curfile64_info::pos_zip64extrainfo</a>, <a class="el" href="zip_8c_source.html#l00156">curfile64_info::raw</a>, <a class="el" href="zip_8c_source.html#l00150">curfile64_info::size_centralExtra</a>, <a class="el" href="zip_8c_source.html#l00152">curfile64_info::size_centralExtraFree</a>, <a class="el" href="zip_8c_source.html#l00151">curfile64_info::size_centralheader</a>, <a class="el" href="zip_8c_source.html#l00139">curfile64_info::stream</a>, <a class="el" href="zip_8c_source.html#l00144">curfile64_info::stream_initialised</a>, <a class="el" href="zip_8c_source.html#l00163">curfile64_info::totalCompressedData</a>, <a class="el" href="zip_8c_source.html#l00164">curfile64_info::totalUncompressedData</a>, <a class="el" href="zip_8c_source.html#l00060">Z_BUFSIZE</a>, <a class="el" href="unzip_8h_source.html#l00067">Z_BZIP2ED</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="zip_8c_source.html#l00161">curfile64_info::zip64</a>, <a class="el" href="zip_8c_source.html#l01403">zip64FlushWriteBuffer()</a>, <a class="el" href="zip_8c_source.html#l00296">zip64local_putValue()</a>, <a class="el" href="zip_8c_source.html#l00320">zip64local_putValue_inmemory()</a>, <a class="el" href="zip_8h_source.html#l00082">ZIP_BADZIPFILE</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, <a class="el" href="zip_8h_source.html#l00081">ZIP_PARAMERROR</a>, <a class="el" href="zip_8h_source.html#l00087">ZIP_SEQUENTIAL</a>, <a class="el" href="ioapi_8h_source.html#l00111">ZLIB_FILEFUNC_SEEK_SET</a>, <a class="el" href="ioapi_8h_source.html#l00201">ZSEEK64</a>, and <a class="el" href="ioapi_8h_source.html#l00200">ZTELL64</a>.</p>

<p>Referenced by <a class="el" href="quazipfile_8cpp_source.html#l00432">QuaZipFile::close()</a>, and <a class="el" href="zip_8c_source.html#l01549">zipCloseFileInZipRaw()</a>.</p>
<div class="fragment"><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;{</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>* zi;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> compressed_size;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    uLong invalidValue = 0xffffffff;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <span class="keywordtype">short</span> datasize = 0;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordtype">int</span> err=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    zi = (<a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>*)file;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">in_opened_file_inzip</a> == 0)</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_in = 0;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == Z_DEFLATED) &amp;&amp; (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>))</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                        <span class="keywordflow">while</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                        {</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                                uLong uTotalOutBefore;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                                <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_out == 0)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                                {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                                        <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659">zip64FlushWriteBuffer</a>(zi) == <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>)</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                                                err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                                        zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_out = (uInt)<a class="code" href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                                        zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.next_out = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">buffered_data</a>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                                }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                                uTotalOutBefore = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_out;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                                err=deflate(&amp;zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>,  Z_FINISH);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                                zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a> += (uInt)(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_out - uTotalOutBefore) ;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                        }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == <a class="code" href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a>) &amp;&amp; (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>))</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="preprocessor">#ifdef HAVE_BZIP2</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="preprocessor"></span>      err = BZ_FINISH_OK;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <span class="keywordflow">while</span> (err==BZ_FINISH_OK)</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      {</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        uLong uTotalOutBefore;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.avail_out == 0)</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659">zip64FlushWriteBuffer</a>(zi) == <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>)</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.avail_out = (uInt)<a class="code" href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a>;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.next_out = (<span class="keywordtype">char</span>*)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">buffered_data</a>;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        }</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        uTotalOutBefore = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_out_lo32;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        err=BZ2_bzCompress(&amp;zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream,  BZ_FINISH);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        <span class="keywordflow">if</span>(err == BZ_STREAM_END)</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;          err = Z_STREAM_END;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a> += (uInt)(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_out_lo32 - uTotalOutBefore);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      <span class="keywordflow">if</span>(err == BZ_FINISH_OK)</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        err = <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <span class="keywordflow">if</span> (err==Z_STREAM_END)</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        err=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>; <span class="comment">/* this is normal */</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a>&gt;0) &amp;&amp; (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>))</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659">zip64FlushWriteBuffer</a>(zi)==<a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>)</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == Z_DEFLATED) &amp;&amp; (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>))</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        <span class="keywordtype">int</span> tmp_err = deflateEnd(&amp;zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <span class="keywordflow">if</span> (err == <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            err = tmp_err;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a43c3fdea776df57014ea61d952972b94">stream_initialised</a> = 0;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="preprocessor">#ifdef HAVE_BZIP2</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>((zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == <a class="code" href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a>) &amp;&amp; (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>))</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    {</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      <span class="keywordtype">int</span> tmperr = BZ2_bzCompressEnd(&amp;zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                        <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                                err = tmperr;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                        zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a43c3fdea776df57014ea61d952972b94">stream_initialised</a> = 0;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    }</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">if</span> (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>)</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        crc32 = (uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa15643650c3d8564776ea87873134364">crc32</a>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        uncompressed_size = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aeb933f725cb47e023135657e22173c1d">totalUncompressedData</a>;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    }</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    compressed_size = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aadb153e7bdc293b685396e92830ed51e">totalCompressedData</a>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="preprocessor">#    ifndef NOCRYPT</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="preprocessor"></span>    compressed_size += zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a17e9931ff5683fded26eb3d99d80bf0e">crypt_header_size</a>;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="preprocessor">#    endif</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="comment">/* update Current Item crc and sizes, */</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="keywordflow">if</span>(compressed_size &gt;= 0xffffffff || uncompressed_size &gt;= 0xffffffff || zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a6225decff0849b90f09a63addab95c64">pos_local_header</a> &gt;= 0xffffffff)</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <span class="comment">/*version Made by*/</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+4,(uLong)45,2);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <span class="comment">/*version needed*/</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+6,(uLong)45,2);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    }</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+16,crc32,4); <span class="comment">/*crc*/</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">if</span>(compressed_size &gt;= 0xffffffff)</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+20, invalidValue,4); <span class="comment">/*compr size*/</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+20, compressed_size,4); <span class="comment">/*compr size*/</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="comment">/* set internal file attributes field */</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.data_type == Z_ASCII)</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+36,(uLong)Z_ASCII,2);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">if</span>(uncompressed_size &gt;= 0xffffffff)</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+24, invalidValue,4); <span class="comment">/*uncompr size*/</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+24, uncompressed_size,4); <span class="comment">/*uncompr size*/</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="comment">/* Add ZIP64 extra info field for uncompressed size */</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">if</span>(uncompressed_size &gt;= 0xffffffff)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      datasize += 8;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="comment">/* Add ZIP64 extra info field for compressed size */</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span>(compressed_size &gt;= 0xffffffff)</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      datasize += 8;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="comment">/* Add ZIP64 extra info field for relative offset to local file header of current file */</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a6225decff0849b90f09a63addab95c64">pos_local_header</a> &gt;= 0xffffffff)</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      datasize += 8;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">if</span>(datasize &gt; 0)</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <span class="keywordtype">char</span>* p = NULL;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keywordflow">if</span>((uLong)(datasize + 4) &gt; zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a885ce2d7f41cbac1a2ef990643e62069">size_centralExtraFree</a>)</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <span class="comment">/* we can not write more data to the buffer that we have room for. */</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#ac2eb83690692851093eb62ebb3744a64">ZIP_BADZIPFILE</a>;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      p = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a> + zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a17de1df264e0e162f777f2ae7cef0d55">size_centralheader</a>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="comment">/* Add Extra Information Header for &#39;ZIP64 information&#39; */</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(p, 0x0001, 2); <span class="comment">/* HeaderID */</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      p += 2;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(p, datasize, 2); <span class="comment">/* DataSize */</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      p += 2;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <span class="keywordflow">if</span>(uncompressed_size &gt;= 0xffffffff)</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(p, uncompressed_size, 8);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        p += 8;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <span class="keywordflow">if</span>(compressed_size &gt;= 0xffffffff)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(p, compressed_size, 8);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        p += 8;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      }</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a6225decff0849b90f09a63addab95c64">pos_local_header</a> &gt;= 0xffffffff)</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(p, zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a6225decff0849b90f09a63addab95c64">pos_local_header</a>, 8);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        p += 8;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      <span class="comment">/* Update how much extra free space we got in the memory buffer */</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <span class="comment">/* and increase the centralheader size so the new ZIP64 fields are included */</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      <span class="comment">/* ( 4 below is the size of HeaderID and DataSize field ) */</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a885ce2d7f41cbac1a2ef990643e62069">size_centralExtraFree</a> -= datasize + 4;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a17de1df264e0e162f777f2ae7cef0d55">size_centralheader</a> += datasize + 4;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      <span class="comment">/* Update the extra info size field */</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ab4c965d0fe696204fe23e4efd0cc2edb">size_centralExtra</a> += datasize + 4;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+30,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ab4c965d0fe696204fe23e4efd0cc2edb">size_centralExtra</a>,2);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        err = <a class="code" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede">add_data_in_datablock</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#a869144921e51ec758f1b60dba2f1a2af">central_dir</a>, zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>, (uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a17de1df264e0e162f777f2ae7cef0d55">size_centralheader</a>);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    free(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a270111b3810ccd2d4e17bbf4f56f1adf">ZIP_SEQUENTIAL</a>) == 0) {</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            <span class="comment">/* Update the LocalFileHeader with the new values. */</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;            <a class="code" href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a> cur_pos_inzip = <a class="code" href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a6225decff0849b90f09a63addab95c64">pos_local_header</a> + 14,<a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>)!=0)</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,crc32,4); <span class="comment">/* crc 32, unknown */</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            <span class="keywordflow">if</span>(uncompressed_size &gt;= 0xffffffff || compressed_size &gt;= 0xffffffff)</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            {</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a45dfe9b2562314f29f7df1bad71da528">pos_zip64extrainfo</a> &gt; 0)</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                    <span class="comment">/* Update the size in the ZIP64 extended field. */</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a45dfe9b2562314f29f7df1bad71da528">pos_zip64extrainfo</a> + 4,<a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>)!=0)</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                        err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* compressed size, unknown */</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                        err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, uncompressed_size, 8);</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                    <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* uncompressed size, unknown */</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                        err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>, zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, compressed_size, 8);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                }</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* compressed size, unknown */</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,compressed_size,4);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* uncompressed size, unknown */</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,uncompressed_size,4);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>, cur_pos_inzip,<a class="code" href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a>)!=0)</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        }</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">flag</a> &amp; 8) != 0) {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            <span class="comment">/* Write local Descriptor after file data */</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,(uLong)<a class="code" href="zip_8c.html#afc838f5b502bdf59ae254ae09c2e0d36">DESCRIPTORHEADERMAGIC</a>,4);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,crc32,4); <span class="comment">/* crc 32, unknown */</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">zip64</a>) {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* compressed size, unknown */</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,compressed_size,8);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* uncompressed size, unknown */</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,uncompressed_size,8);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* compressed size, unknown */</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,compressed_size,4);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                <span class="keywordflow">if</span> (err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) <span class="comment">/* uncompressed size, unknown */</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                    err = <a class="code" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a>(&amp;zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,uncompressed_size,4);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;            }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        }</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a> ++;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">in_opened_file_inzip</a> = 0;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a7487c44c33a7aa8d29c640619575a144"><div class="ttname"><a href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a></div><div class="ttdeci">static void zip64local_putValue_inmemory(void *dest, ZPOS64_T x, int nbByte)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00320">zip.c:320</a></div></div>
<div class="ttc" id="zip_8c_html_a944e71daf341a3379fdcc58fb8f68bd9"><div class="ttname"><a href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">curfile64_info::buffered_data</a></div><div class="ttdeci">Byte buffered_data[(64 *1024)]</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00157">zip.c:157</a></div></div>
<div class="ttc" id="zip_8c_html_ad86ea5e726a03803f04c05b405af370a"><div class="ttname"><a href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">curfile64_info::raw</a></div><div class="ttdeci">int raw</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00156">zip.c:156</a></div></div>
<div class="ttc" id="zip_8c_html_a45dfe9b2562314f29f7df1bad71da528"><div class="ttname"><a href="zip_8c.html#a45dfe9b2562314f29f7df1bad71da528">curfile64_info::pos_zip64extrainfo</a></div><div class="ttdeci">ZPOS64_T pos_zip64extrainfo</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00162">zip.c:162</a></div></div>
<div class="ttc" id="zip_8c_html_aadb153e7bdc293b685396e92830ed51e"><div class="ttname"><a href="zip_8c.html#aadb153e7bdc293b685396e92830ed51e">curfile64_info::totalCompressedData</a></div><div class="ttdeci">ZPOS64_T totalCompressedData</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00163">zip.c:163</a></div></div>
<div class="ttc" id="zip_8c_html_a43c3fdea776df57014ea61d952972b94"><div class="ttname"><a href="zip_8c.html#a43c3fdea776df57014ea61d952972b94">curfile64_info::stream_initialised</a></div><div class="ttdeci">int stream_initialised</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00144">zip.c:144</a></div></div>
<div class="ttc" id="zip_8c_html_a17e9931ff5683fded26eb3d99d80bf0e"><div class="ttname"><a href="zip_8c.html#a17e9931ff5683fded26eb3d99d80bf0e">curfile64_info::crypt_header_size</a></div><div class="ttdeci">int crypt_header_size</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00168">zip.c:168</a></div></div>
<div class="ttc" id="zip_8c_html_a885ce2d7f41cbac1a2ef990643e62069"><div class="ttname"><a href="zip_8c.html#a885ce2d7f41cbac1a2ef990643e62069">curfile64_info::size_centralExtraFree</a></div><div class="ttdeci">uLong size_centralExtraFree</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00152">zip.c:152</a></div></div>
<div class="ttc" id="zip_8c_html_aa24353ae49bce7e6d6aa3f5994782be7"><div class="ttname"><a href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">zip64_internal::in_opened_file_inzip</a></div><div class="ttdeci">int in_opened_file_inzip</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00177">zip.c:177</a></div></div>
<div class="ttc" id="zip_8h_html_ac2eb83690692851093eb62ebb3744a64"><div class="ttname"><a href="zip_8h.html#ac2eb83690692851093eb62ebb3744a64">ZIP_BADZIPFILE</a></div><div class="ttdeci">#define ZIP_BADZIPFILE</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00082">zip.h:82</a></div></div>
<div class="ttc" id="zip_8c_html_a208198f19c7d165203225903455478fd"><div class="ttname"><a href="zip_8c.html#a208198f19c7d165203225903455478fd">curfile64_info::pos_in_buffered_data</a></div><div class="ttdeci">uInt pos_in_buffered_data</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00145">zip.c:145</a></div></div>
<div class="ttc" id="zip_8c_html_afc838f5b502bdf59ae254ae09c2e0d36"><div class="ttname"><a href="zip_8c.html#afc838f5b502bdf59ae254ae09c2e0d36">DESCRIPTORHEADERMAGIC</a></div><div class="ttdeci">#define DESCRIPTORHEADERMAGIC</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00110">zip.c:110</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="unzip_8h_html_ada7b1ad37b9026b52c9f7b10daf448d1"><div class="ttname"><a href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a></div><div class="ttdeci">#define Z_BZIP2ED</div><div class="ttdef"><b>Definition:</b> <a href="unzip_8h_source.html#l00067">unzip.h:67</a></div></div>
<div class="ttc" id="zip_8c_html_a388120a043a52c734276c24c47dbc1fa"><div class="ttname"><a href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">zip64_internal::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00188">zip.c:188</a></div></div>
<div class="ttc" id="zip_8c_html_aa15643650c3d8564776ea87873134364"><div class="ttname"><a href="zip_8c.html#aa15643650c3d8564776ea87873134364">curfile64_info::crc32</a></div><div class="ttdeci">uLong crc32</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00159">zip.c:159</a></div></div>
<div class="ttc" id="zip_8c_html_a1491823e6cf52e751120f367bdc68a00"><div class="ttname"><a href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a></div><div class="ttdeci">#define Z_BUFSIZE</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00060">zip.c:60</a></div></div>
<div class="ttc" id="zip_8c_html_a869144921e51ec758f1b60dba2f1a2af"><div class="ttname"><a href="zip_8c.html#a869144921e51ec758f1b60dba2f1a2af">zip64_internal::central_dir</a></div><div class="ttdeci">linkedlist_data central_dir</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00176">zip.c:176</a></div></div>
<div class="ttc" id="zip_8c_html_ab4c965d0fe696204fe23e4efd0cc2edb"><div class="ttname"><a href="zip_8c.html#ab4c965d0fe696204fe23e4efd0cc2edb">curfile64_info::size_centralExtra</a></div><div class="ttdeci">uLong size_centralExtra</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00150">zip.c:150</a></div></div>
<div class="ttc" id="zip_8c_html_a765936b069e6e2be6d85589614af8583"><div class="ttname"><a href="zip_8c.html#a765936b069e6e2be6d85589614af8583">curfile64_info::stream</a></div><div class="ttdeci">z_stream stream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00139">zip.c:139</a></div></div>
<div class="ttc" id="ioapi_8h_html_afffed08ed7f2413fa38e12a223ae0e72"><div class="ttname"><a href="ioapi_8h.html#afffed08ed7f2413fa38e12a223ae0e72">ZPOS64_T</a></div><div class="ttdeci">unsigned long long int ZPOS64_T</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00094">ioapi.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_aa090dd081d0cf805614041c6a5a4438f"><div class="ttname"><a href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">curfile64_info::central_header</a></div><div class="ttdeci">char * central_header</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00149">zip.c:149</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac849fcd066ac44109dfb95a1c5fd494c"><div class="ttname"><a href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a></div><div class="ttdeci">#define ZTELL64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00200">ioapi.h:200</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="zip_8c_html_a2d8ae560933ed00ee61052446288f4a8"><div class="ttname"><a href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">zip64_internal::number_entry</a></div><div class="ttdeci">ZPOS64_T number_entry</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00182">zip.c:182</a></div></div>
<div class="ttc" id="zip_8c_html_a9c5b2c3f96ae2bf9006a86beb31eb659"><div class="ttname"><a href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659">zip64FlushWriteBuffer</a></div><div class="ttdeci">static int zip64FlushWriteBuffer(zip64_internal *zi)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01403">zip.c:1403</a></div></div>
<div class="ttc" id="zip_8c_html_structzip64__internal"><div class="ttname"><a href="zip_8c.html#structzip64__internal">zip64_internal</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00172">zip.c:172</a></div></div>
<div class="ttc" id="zip_8h_html_a292dcf8769c6dd30324cae5abea8784e"><div class="ttname"><a href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a></div><div class="ttdeci">#define ZIP_PARAMERROR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00081">zip.h:81</a></div></div>
<div class="ttc" id="zip_8c_html_a9d4baf5968e4cb192060bcba2d039282"><div class="ttname"><a href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">curfile64_info::flag</a></div><div class="ttdeci">uLong flag</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00153">zip.c:153</a></div></div>
<div class="ttc" id="zip_8c_html_a05bf290332d456dbecee6d870a3b6559"><div class="ttname"><a href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">zip64_internal::ci</a></div><div class="ttdeci">curfile64_info ci</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00178">zip.c:178</a></div></div>
<div class="ttc" id="zip_8h_html_a270111b3810ccd2d4e17bbf4f56f1adf"><div class="ttname"><a href="zip_8h.html#a270111b3810ccd2d4e17bbf4f56f1adf">ZIP_SEQUENTIAL</a></div><div class="ttdeci">#define ZIP_SEQUENTIAL</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00087">zip.h:87</a></div></div>
<div class="ttc" id="ioapi_8h_html_a8ccaa5cb8fc7b04e6139c610cd31ce26"><div class="ttname"><a href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a></div><div class="ttdeci">#define ZSEEK64(filefunc, filestream, pos, mode)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00201">ioapi.h:201</a></div></div>
<div class="ttc" id="zip_8c_html_a17de1df264e0e162f777f2ae7cef0d55"><div class="ttname"><a href="zip_8c.html#a17de1df264e0e162f777f2ae7cef0d55">curfile64_info::size_centralheader</a></div><div class="ttdeci">uLong size_centralheader</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00151">zip.c:151</a></div></div>
<div class="ttc" id="zip_8c_html_af027310aec51b70ed53bc0bda4392ede"><div class="ttname"><a href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede">add_data_in_datablock</a></div><div class="ttdeci">static int add_data_in_datablock(linkedlist_data *ll, const void *buf, uLong len)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00234">zip.c:234</a></div></div>
<div class="ttc" id="zip_8c_html_aeb933f725cb47e023135657e22173c1d"><div class="ttname"><a href="zip_8c.html#aeb933f725cb47e023135657e22173c1d">curfile64_info::totalUncompressedData</a></div><div class="ttdeci">ZPOS64_T totalUncompressedData</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00164">zip.c:164</a></div></div>
<div class="ttc" id="ioapi_8h_html_a962e25bd3652f31479b855be08836c16"><div class="ttname"><a href="ioapi_8h.html#a962e25bd3652f31479b855be08836c16">ZLIB_FILEFUNC_SEEK_SET</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_SEEK_SET</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00111">ioapi.h:111</a></div></div>
<div class="ttc" id="zip_8c_html_ad8f4cd023ee61e46aac147d266be0538"><div class="ttname"><a href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">curfile64_info::zip64</a></div><div class="ttdeci">int zip64</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00161">zip.c:161</a></div></div>
<div class="ttc" id="zip_8c_html_afc121266093b2d0e27f309dc4dc8cd2f"><div class="ttname"><a href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">curfile64_info::method</a></div><div class="ttdeci">int method</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00155">zip.c:155</a></div></div>
<div class="ttc" id="zip_8c_html_aed1106d32873a7959b923bbb5d444f8b"><div class="ttname"><a href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b">zip64local_putValue</a></div><div class="ttdeci">static int zip64local_putValue(const zlib_filefunc64_32_def *pzlib_filefunc_def, voidpf filestream, ZPOS64_T x, int nbByte)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00296">zip.c:296</a></div></div>
<div class="ttc" id="zip_8c_html_a6225decff0849b90f09a63addab95c64"><div class="ttname"><a href="zip_8c.html#a6225decff0849b90f09a63addab95c64">curfile64_info::pos_local_header</a></div><div class="ttdeci">ZPOS64_T pos_local_header</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00147">zip.c:147</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a3bed1cfe7ae981d2a433a1dbdb2cc436_cgraph.png" border="0" usemap="#zip_8c_a3bed1cfe7ae981d2a433a1dbdb2cc436_cgraph" alt=""/></div>
<map name="zip_8c_a3bed1cfe7ae981d2a433a1dbdb2cc436_cgraph" id="zip_8c_a3bed1cfe7ae981d2a433a1dbdb2cc436_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="219,5,373,32"/><area shape="rect" id="node4" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="221,56,371,83"/><area shape="rect" id="node5" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="227,107,365,133"/><area shape="rect" id="node6" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="227,158,365,199"/><area shape="rect" id="node3" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="422,5,583,32"/></map>
</div>
</p>

<p><div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a3bed1cfe7ae981d2a433a1dbdb2cc436_icgraph.png" border="0" usemap="#zip_8c_a3bed1cfe7ae981d2a433a1dbdb2cc436_icgraph" alt=""/></div>
<map name="zip_8c_a3bed1cfe7ae981d2a433a1dbdb2cc436_icgraph" id="zip_8c_a3bed1cfe7ae981d2a433a1dbdb2cc436_icgraph">
<area shape="rect" id="node2" href="classQuaZipFile.html#a42a39b12619bccd3d419ee60bbb3fcf6" title="Closes the file. " alt="" coords="1038,360,1162,387"/><area shape="rect" id="node13" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="219,360,370,387"/><area shape="rect" id="node3" href="classJlCompress.html#a78c6f547384208cfa4fc7079c677522d" title="Compress a single file. " alt="" coords="1211,309,1389,336"/><area shape="rect" id="node4" href="classJlCompress.html#a8c581f5f8a692fc598ea98cb5fa53d37" title="Compress a subdirectory. " alt="" coords="1437,309,1635,336"/><area shape="rect" id="node8" href="classJlCompress.html#a522739a65b382a9838ed69812340dd40" title="Extract a single file. " alt="" coords="1219,715,1381,741"/><area shape="rect" id="node12" href="classQuaZipFile.html#aa1e5a0cf491bafae6cc73e649caa97fc" title="Destroys a QuaZipFile instance. " alt="" coords="1218,360,1382,387"/><area shape="rect" id="node6" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="1447,411,1625,437"/><area shape="rect" id="node7" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="1443,360,1629,387"/><area shape="rect" id="node5" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="1685,512,1859,539"/><area shape="rect" id="node9" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="1455,664,1617,691"/><area shape="rect" id="node10" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="1452,715,1620,741"/><area shape="rect" id="node11" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="1457,765,1615,792"/><area shape="rect" id="node14" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="419,360,541,387"/><area shape="rect" id="node15" href="zip_8c.html#a4fda7a41fa2f57d105ffc7d1cbcf53cc" title="zipClose" alt="" coords="641,461,714,488"/><area shape="rect" id="node27" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="590,183,765,209"/><area shape="rect" id="node16" href="classQuaZip.html#a7a4323b73e12f3b4470109f200728f9f" title="Closes ZIP file. " alt="" coords="850,613,953,640"/><area shape="rect" id="node20" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="1250,512,1350,539"/><area shape="rect" id="node17" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="1456,613,1616,640"/><area shape="rect" id="node18" href="classQuaZip.html#af60a2d3930b90f3b25a3148baecad81e" title="Destroys QuaZip object. " alt="" coords="1039,867,1161,893"/><area shape="rect" id="node19" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="1475,563,1597,589"/><area shape="rect" id="node21" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="1447,461,1625,488"/><area shape="rect" id="node22" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="1683,461,1861,488"/><area shape="rect" id="node23" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="1909,461,2072,488"/><area shape="rect" id="node24" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="2120,454,2304,495"/><area shape="rect" id="node25" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="2352,461,2531,488"/><area shape="rect" id="node26" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="2579,454,2775,495"/><area shape="rect" id="node28" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="824,259,979,285"/><area shape="rect" id="node29" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="824,309,979,336"/><area shape="rect" id="node30" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="814,5,989,32"/><area shape="rect" id="node32" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="824,56,979,83"/><area shape="rect" id="node33" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="814,107,989,133"/><area shape="rect" id="node34" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="821,157,982,184"/><area shape="rect" id="node35" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="828,208,975,235"/><area shape="rect" id="node31" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="1039,5,1161,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a20f498af9fd0d6dae2293917822f17c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT zipOpen </td>
          <td>(</td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>append</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00967">967</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8h_source.html#l00088">ZIP_DEFAULT_FLAGS</a>, and <a class="el" href="zip_8c_source.html#l00862">zipOpen3()</a>.</p>
<div class="fragment"><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;{</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a>(file,append,NULL,NULL, <a class="code" href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a>);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_ae618a7f9c2fa89087b0eb8176266f774"><div class="ttname"><a href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a></div><div class="ttdeci">#define ZIP_DEFAULT_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00088">zip.h:88</a></div></div>
<div class="ttc" id="zip_8c_html_a6cb26503b56121bf3b5779b4df561b24"><div class="ttname"><a href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a></div><div class="ttdeci">zipFile ZEXPORT zipOpen3(voidpf file, int append, zipcharpc *globalcomment, zlib_filefunc64_32_def *pzlib_filefunc64_32_def, unsigned flags)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00862">zip.c:862</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a20f498af9fd0d6dae2293917822f17c8_cgraph.png" border="0" usemap="#zip_8c_a20f498af9fd0d6dae2293917822f17c8_cgraph" alt=""/></div>
<map name="zip_8c_a20f498af9fd0d6dae2293917822f17c8_cgraph" id="zip_8c_a20f498af9fd0d6dae2293917822f17c8_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="125,376,203,403"/><area shape="rect" id="node3" href="qioapi_8cpp.html#a791fffcedf2d2c9dabd67232dafe447b" title="fill_qiodevice64_filefunc" alt="" coords="264,224,424,251"/><area shape="rect" id="node12" href="zip_8c.html#a6c2a1e974d3ab6f326b743af32e53794" title="init_linkedlist" alt="" coords="295,376,393,403"/><area shape="rect" id="node13" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="251,528,437,555"/><area shape="rect" id="node4" href="qioapi_8cpp.html#ab64e25237ce8d0748a8e63552c811a6c" title="qiodevice64_seek_file_func" alt="" coords="487,325,670,352"/><area shape="rect" id="node5" href="qioapi_8cpp.html#ab23e0bdd92f6df922a97e865ca5e9030" title="qiodevice64_tell_file_func" alt="" coords="493,376,664,403"/><area shape="rect" id="node6" href="qioapi_8cpp.html#a5c1872cbc73a6107a59983cf68a7eb71" title="qiodevice_close_file_func" alt="" coords="493,5,664,32"/><area shape="rect" id="node7" href="qioapi_8cpp.html#aa28e993bb89e141777695b5ed3908e5f" title="qiodevice_error_file_func" alt="" coords="495,56,662,83"/><area shape="rect" id="node8" href="qioapi_8cpp.html#af65a39ff0265a40151e9c15bead60db8" title="qiodevice_fakeclose\l_file_func" alt="" coords="509,107,649,149"/><area shape="rect" id="node9" href="qioapi_8cpp.html#a32af99f13f6baf9617565716780ae818" title="qiodevice_open_file_func" alt="" coords="495,173,663,200"/><area shape="rect" id="node10" href="qioapi_8cpp.html#ae865403be09e32051ca7a36fc6b0da3d" title="qiodevice_read_file_func" alt="" coords="496,224,661,251"/><area shape="rect" id="node11" href="qioapi_8cpp.html#aa7c1be5bc23d2d6730884f16b1cbe991" title="qiodevice_write_file_func" alt="" coords="495,275,663,301"/><area shape="rect" id="node14" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="501,477,656,504"/><area shape="rect" id="node16" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66" title="zip64local_getLong" alt="" coords="735,587,868,613"/><area shape="rect" id="node18" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81" title="zip64local_getLong64" alt="" coords="728,641,875,668"/><area shape="rect" id="node19" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b" title="zip64local_getShort" alt="" coords="733,693,869,720"/><area shape="rect" id="node20" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea" title="zip64local_SearchCentralDir" alt="" coords="485,427,672,453"/><area shape="rect" id="node21" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5" title="zip64local_SearchCentral\lDir64" alt="" coords="493,579,664,621"/><area shape="rect" id="node15" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="721,477,882,504"/><area shape="rect" id="node17" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="931,641,1063,668"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a67ab4da81787241b90623ab2dfb5f64a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT zipOpen2 </td>
          <td>(</td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>append</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zip_8h.html#a3fb78711550861eb5b72cff21f1b1a84">zipcharpc</a> *&#160;</td>
          <td class="paramname"><em>globalcomment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#a269f2bded66a7ee4052a60025afebd7e">zlib_filefunc_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc32_def</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00939">939</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="qioapi_8cpp_source.html#l00346">fill_zlib_filefunc64_32_def_from_filefunc32()</a>, <a class="el" href="zip_8h_source.html#l00088">ZIP_DEFAULT_FLAGS</a>, and <a class="el" href="zip_8c_source.html#l00862">zipOpen3()</a>.</p>

<p>Referenced by <a class="el" href="quazip_8cpp_source.html#l00215">QuaZip::open()</a>.</p>
<div class="fragment"><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;{</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">if</span> (pzlib_filefunc32_def != NULL)</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="ioapi_8h.html#structzlib__filefunc64__32__def__s">zlib_filefunc64_32_def</a> zlib_filefunc64_32_def_fill;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="ioapi_8h.html#a0c90747a8b732158bc3666411776affe">fill_zlib_filefunc64_32_def_from_filefunc32</a>(&amp;zlib_filefunc64_32_def_fill,pzlib_filefunc32_def);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a>(file, append, globalcomment, &amp;zlib_filefunc64_32_def_fill, <a class="code" href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a>(file, append, globalcomment, NULL, <a class="code" href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a>);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_ae618a7f9c2fa89087b0eb8176266f774"><div class="ttname"><a href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a></div><div class="ttdeci">#define ZIP_DEFAULT_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00088">zip.h:88</a></div></div>
<div class="ttc" id="ioapi_8h_html_a0c90747a8b732158bc3666411776affe"><div class="ttname"><a href="ioapi_8h.html#a0c90747a8b732158bc3666411776affe">fill_zlib_filefunc64_32_def_from_filefunc32</a></div><div class="ttdeci">void fill_zlib_filefunc64_32_def_from_filefunc32(zlib_filefunc64_32_def *p_filefunc64_32, const zlib_filefunc_def *p_filefunc32)</div><div class="ttdef"><b>Definition:</b> <a href="qioapi_8cpp_source.html#l00346">qioapi.cpp:346</a></div></div>
<div class="ttc" id="zip_8c_html_a6cb26503b56121bf3b5779b4df561b24"><div class="ttname"><a href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a></div><div class="ttdeci">zipFile ZEXPORT zipOpen3(voidpf file, int append, zipcharpc *globalcomment, zlib_filefunc64_32_def *pzlib_filefunc64_32_def, unsigned flags)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00862">zip.c:862</a></div></div>
<div class="ttc" id="ioapi_8h_html_structzlib__filefunc64__32__def__s"><div class="ttname"><a href="ioapi_8h.html#structzlib__filefunc64__32__def__s">zlib_filefunc64_32_def_s</a></div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00176">ioapi.h:176</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a67ab4da81787241b90623ab2dfb5f64a_cgraph.png" border="0" usemap="#zip_8c_a67ab4da81787241b90623ab2dfb5f64a_cgraph" alt=""/></div>
<map name="zip_8c_a67ab4da81787241b90623ab2dfb5f64a_cgraph" id="zip_8c_a67ab4da81787241b90623ab2dfb5f64a_cgraph">
<area shape="rect" id="node2" href="ioapi_8h.html#a0c90747a8b732158bc3666411776affe" title="fill_zlib_filefunc64\l_32_def_from_filefunc32" alt="" coords="131,310,295,351"/><area shape="rect" id="node3" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="175,376,252,403"/><area shape="rect" id="node4" href="qioapi_8cpp.html#a791fffcedf2d2c9dabd67232dafe447b" title="fill_qiodevice64_filefunc" alt="" coords="357,224,517,251"/><area shape="rect" id="node13" href="zip_8c.html#a6c2a1e974d3ab6f326b743af32e53794" title="init_linkedlist" alt="" coords="389,376,486,403"/><area shape="rect" id="node14" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="344,528,531,555"/><area shape="rect" id="node5" href="qioapi_8cpp.html#ab64e25237ce8d0748a8e63552c811a6c" title="qiodevice64_seek_file_func" alt="" coords="581,325,763,352"/><area shape="rect" id="node6" href="qioapi_8cpp.html#ab23e0bdd92f6df922a97e865ca5e9030" title="qiodevice64_tell_file_func" alt="" coords="587,376,757,403"/><area shape="rect" id="node7" href="qioapi_8cpp.html#a5c1872cbc73a6107a59983cf68a7eb71" title="qiodevice_close_file_func" alt="" coords="587,5,757,32"/><area shape="rect" id="node8" href="qioapi_8cpp.html#aa28e993bb89e141777695b5ed3908e5f" title="qiodevice_error_file_func" alt="" coords="589,56,755,83"/><area shape="rect" id="node9" href="qioapi_8cpp.html#af65a39ff0265a40151e9c15bead60db8" title="qiodevice_fakeclose\l_file_func" alt="" coords="602,107,742,149"/><area shape="rect" id="node10" href="qioapi_8cpp.html#a32af99f13f6baf9617565716780ae818" title="qiodevice_open_file_func" alt="" coords="588,173,756,200"/><area shape="rect" id="node11" href="qioapi_8cpp.html#ae865403be09e32051ca7a36fc6b0da3d" title="qiodevice_read_file_func" alt="" coords="589,224,755,251"/><area shape="rect" id="node12" href="qioapi_8cpp.html#aa7c1be5bc23d2d6730884f16b1cbe991" title="qiodevice_write_file_func" alt="" coords="588,275,756,301"/><area shape="rect" id="node15" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="595,477,749,504"/><area shape="rect" id="node17" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66" title="zip64local_getLong" alt="" coords="828,587,961,613"/><area shape="rect" id="node19" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81" title="zip64local_getLong64" alt="" coords="821,641,968,668"/><area shape="rect" id="node20" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b" title="zip64local_getShort" alt="" coords="827,693,963,720"/><area shape="rect" id="node21" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea" title="zip64local_SearchCentralDir" alt="" coords="579,427,765,453"/><area shape="rect" id="node22" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5" title="zip64local_SearchCentral\lDir64" alt="" coords="587,579,757,621"/><area shape="rect" id="node16" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="814,477,975,504"/><area shape="rect" id="node18" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="1025,641,1157,668"/></map>
</div>
</p>

<p><div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a67ab4da81787241b90623ab2dfb5f64a_icgraph.png" border="0" usemap="#zip_8c_a67ab4da81787241b90623ab2dfb5f64a_icgraph" alt=""/></div>
<map name="zip_8c_a67ab4da81787241b90623ab2dfb5f64a_icgraph" id="zip_8c_a67ab4da81787241b90623ab2dfb5f64a_icgraph">
<area shape="rect" id="node2" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="131,215,231,241"/><area shape="rect" id="node3" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="285,12,462,39"/><area shape="rect" id="node9" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="284,63,463,89"/><area shape="rect" id="node10" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="281,113,466,140"/><area shape="rect" id="node11" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="286,164,461,191"/><area shape="rect" id="node12" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="293,215,454,241"/><area shape="rect" id="node13" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="289,265,457,292"/><area shape="rect" id="node14" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="295,316,452,343"/><area shape="rect" id="node15" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="293,367,453,393"/><area shape="rect" id="node16" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="313,417,434,444"/><area shape="rect" id="node4" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="515,12,693,39"/><area shape="rect" id="node5" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="741,12,904,39"/><area shape="rect" id="node6" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="952,5,1136,46"/><area shape="rect" id="node7" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1184,12,1363,39"/><area shape="rect" id="node8" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="1411,5,1607,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af5902bca5d94f10555ebc03e83e10256"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT zipOpen2_64 </td>
          <td>(</td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>append</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zip_8h.html#a3fb78711550861eb5b72cff21f1b1a84">zipcharpc</a> *&#160;</td>
          <td class="paramname"><em>globalcomment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#a6be8577ecdaf6c1f57fb75006aa2b56c">zlib_filefunc64_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc_def</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00951">951</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="ioapi_8h_source.html#l00178">zlib_filefunc64_32_def_s::zfile_func64</a>, <a class="el" href="zip_8h_source.html#l00088">ZIP_DEFAULT_FLAGS</a>, <a class="el" href="zip_8c_source.html#l00862">zipOpen3()</a>, <a class="el" href="ioapi_8h_source.html#l00181">zlib_filefunc64_32_def_s::zseek32_file</a>, and <a class="el" href="ioapi_8h_source.html#l00180">zlib_filefunc64_32_def_s::ztell32_file</a>.</p>
<div class="fragment"><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;{</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">if</span> (pzlib_filefunc_def != NULL)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <a class="code" href="ioapi_8h.html#structzlib__filefunc64__32__def__s">zlib_filefunc64_32_def</a> zlib_filefunc64_32_def_fill;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        zlib_filefunc64_32_def_fill.<a class="code" href="ioapi_8h.html#a5b05687723a1a8cd310a73ab62fc31f5">zfile_func64</a> = *pzlib_filefunc_def;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        zlib_filefunc64_32_def_fill.<a class="code" href="ioapi_8h.html#a8ef46da9e69697b4f13cd611523761a8">ztell32_file</a> = NULL;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        zlib_filefunc64_32_def_fill.<a class="code" href="ioapi_8h.html#a2c6e18405ec9c8b2d482055e9bf06766">zseek32_file</a> = NULL;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a>(file, append, globalcomment, &amp;zlib_filefunc64_32_def_fill, <a class="code" href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a>(file, append, globalcomment, NULL, <a class="code" href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a>);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_ae618a7f9c2fa89087b0eb8176266f774"><div class="ttname"><a href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a></div><div class="ttdeci">#define ZIP_DEFAULT_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00088">zip.h:88</a></div></div>
<div class="ttc" id="ioapi_8h_html_a5b05687723a1a8cd310a73ab62fc31f5"><div class="ttname"><a href="ioapi_8h.html#a5b05687723a1a8cd310a73ab62fc31f5">zlib_filefunc64_32_def_s::zfile_func64</a></div><div class="ttdeci">zlib_filefunc64_def zfile_func64</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00178">ioapi.h:178</a></div></div>
<div class="ttc" id="ioapi_8h_html_a8ef46da9e69697b4f13cd611523761a8"><div class="ttname"><a href="ioapi_8h.html#a8ef46da9e69697b4f13cd611523761a8">zlib_filefunc64_32_def_s::ztell32_file</a></div><div class="ttdeci">tell_file_func ztell32_file</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00180">ioapi.h:180</a></div></div>
<div class="ttc" id="zip_8c_html_a6cb26503b56121bf3b5779b4df561b24"><div class="ttname"><a href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a></div><div class="ttdeci">zipFile ZEXPORT zipOpen3(voidpf file, int append, zipcharpc *globalcomment, zlib_filefunc64_32_def *pzlib_filefunc64_32_def, unsigned flags)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00862">zip.c:862</a></div></div>
<div class="ttc" id="ioapi_8h_html_structzlib__filefunc64__32__def__s"><div class="ttname"><a href="ioapi_8h.html#structzlib__filefunc64__32__def__s">zlib_filefunc64_32_def_s</a></div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00176">ioapi.h:176</a></div></div>
<div class="ttc" id="ioapi_8h_html_a2c6e18405ec9c8b2d482055e9bf06766"><div class="ttname"><a href="ioapi_8h.html#a2c6e18405ec9c8b2d482055e9bf06766">zlib_filefunc64_32_def_s::zseek32_file</a></div><div class="ttdeci">seek_file_func zseek32_file</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00181">ioapi.h:181</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_af5902bca5d94f10555ebc03e83e10256_cgraph.png" border="0" usemap="#zip_8c_af5902bca5d94f10555ebc03e83e10256_cgraph" alt=""/></div>
<map name="zip_8c_af5902bca5d94f10555ebc03e83e10256_cgraph" id="zip_8c_af5902bca5d94f10555ebc03e83e10256_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="152,376,229,403"/><area shape="rect" id="node3" href="qioapi_8cpp.html#a791fffcedf2d2c9dabd67232dafe447b" title="fill_qiodevice64_filefunc" alt="" coords="291,224,451,251"/><area shape="rect" id="node12" href="zip_8c.html#a6c2a1e974d3ab6f326b743af32e53794" title="init_linkedlist" alt="" coords="322,376,419,403"/><area shape="rect" id="node13" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="277,528,464,555"/><area shape="rect" id="node4" href="qioapi_8cpp.html#ab64e25237ce8d0748a8e63552c811a6c" title="qiodevice64_seek_file_func" alt="" coords="514,325,697,352"/><area shape="rect" id="node5" href="qioapi_8cpp.html#ab23e0bdd92f6df922a97e865ca5e9030" title="qiodevice64_tell_file_func" alt="" coords="520,376,691,403"/><area shape="rect" id="node6" href="qioapi_8cpp.html#a5c1872cbc73a6107a59983cf68a7eb71" title="qiodevice_close_file_func" alt="" coords="520,5,691,32"/><area shape="rect" id="node7" href="qioapi_8cpp.html#aa28e993bb89e141777695b5ed3908e5f" title="qiodevice_error_file_func" alt="" coords="522,56,689,83"/><area shape="rect" id="node8" href="qioapi_8cpp.html#af65a39ff0265a40151e9c15bead60db8" title="qiodevice_fakeclose\l_file_func" alt="" coords="535,107,675,149"/><area shape="rect" id="node9" href="qioapi_8cpp.html#a32af99f13f6baf9617565716780ae818" title="qiodevice_open_file_func" alt="" coords="521,173,689,200"/><area shape="rect" id="node10" href="qioapi_8cpp.html#ae865403be09e32051ca7a36fc6b0da3d" title="qiodevice_read_file_func" alt="" coords="523,224,688,251"/><area shape="rect" id="node11" href="qioapi_8cpp.html#aa7c1be5bc23d2d6730884f16b1cbe991" title="qiodevice_write_file_func" alt="" coords="521,275,689,301"/><area shape="rect" id="node14" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="528,477,683,504"/><area shape="rect" id="node16" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66" title="zip64local_getLong" alt="" coords="761,587,895,613"/><area shape="rect" id="node18" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81" title="zip64local_getLong64" alt="" coords="755,641,901,668"/><area shape="rect" id="node19" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b" title="zip64local_getShort" alt="" coords="760,693,896,720"/><area shape="rect" id="node20" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea" title="zip64local_SearchCentralDir" alt="" coords="512,427,699,453"/><area shape="rect" id="node21" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5" title="zip64local_SearchCentral\lDir64" alt="" coords="520,579,691,621"/><area shape="rect" id="node15" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="747,477,909,504"/><area shape="rect" id="node17" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="958,641,1090,668"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6cb26503b56121bf3b5779b4df561b24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT zipOpen3 </td>
          <td>(</td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>append</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zip_8h.html#a3fb78711550861eb5b72cff21f1b1a84">zipcharpc</a> *&#160;</td>
          <td class="paramname"><em>globalcomment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ioapi_8h.html#a8c8220262859e65c0b52c93669a089b2">zlib_filefunc64_32_def</a> *&#160;</td>
          <td class="paramname"><em>pzlib_filefunc64_32_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00862">862</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00181">zip64_internal::add_position_when_writting_offset</a>, <a class="el" href="zip_8c_source.html#l00068">ALLOC</a>, <a class="el" href="zip_8h_source.html#l00125">APPEND_STATUS_ADDINZIP</a>, <a class="el" href="zip_8h_source.html#l00123">APPEND_STATUS_CREATE</a>, <a class="el" href="zip_8h_source.html#l00124">APPEND_STATUS_CREATEAFTER</a>, <a class="el" href="zip_8c_source.html#l00180">zip64_internal::begin_pos</a>, <a class="el" href="zip_8c_source.html#l00176">zip64_internal::central_dir</a>, <a class="el" href="zip_8c_source.html#l00178">zip64_internal::ci</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="qioapi_8cpp_source.html#l00331">fill_qiodevice64_filefunc()</a>, <a class="el" href="zip_8c_source.html#l00188">zip64_internal::flags</a>, <a class="el" href="zip_8c_source.html#l00185">zip64_internal::globalcomment</a>, <a class="el" href="zip_8c_source.html#l00177">zip64_internal::in_opened_file_inzip</a>, <a class="el" href="zip_8c_source.html#l00222">init_linkedlist()</a>, <a class="el" href="zip_8c_source.html#l00649">LoadCentralDirectoryRecord()</a>, <a class="el" href="zip_8c_source.html#l00182">zip64_internal::number_entry</a>, <a class="el" href="zip_8c_source.html#l00090">SEEK_END</a>, <a class="el" href="zip_8c_source.html#l00144">curfile64_info::stream_initialised</a>, <a class="el" href="zip_8c_source.html#l00071">TRYFREE</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="ioapi_8h_source.html#l00189">ZCLOSE64</a>, <a class="el" href="ioapi_8h_source.html#l00190">ZFAKECLOSE64</a>, <a class="el" href="ioapi_8h_source.html#l00178">zlib_filefunc64_32_def_s::zfile_func64</a>, <a class="el" href="zip_8h_source.html#l00086">ZIP_AUTO_CLOSE</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, <a class="el" href="ioapi_8h_source.html#l00118">ZLIB_FILEFUNC_MODE_CREATE</a>, <a class="el" href="ioapi_8h_source.html#l00117">ZLIB_FILEFUNC_MODE_EXISTING</a>, <a class="el" href="ioapi_8h_source.html#l00113">ZLIB_FILEFUNC_MODE_READ</a>, <a class="el" href="ioapi_8h_source.html#l00114">ZLIB_FILEFUNC_MODE_WRITE</a>, <a class="el" href="ioapi_8h_source.html#l00199">ZOPEN64</a>, <a class="el" href="ioapi_8h_source.html#l00181">zlib_filefunc64_32_def_s::zseek32_file</a>, <a class="el" href="ioapi_8h_source.html#l00201">ZSEEK64</a>, <a class="el" href="ioapi_8h_source.html#l00180">zlib_filefunc64_32_def_s::ztell32_file</a>, and <a class="el" href="ioapi_8h_source.html#l00200">ZTELL64</a>.</p>

<p>Referenced by <a class="el" href="quazip_8cpp_source.html#l00215">QuaZip::open()</a>, <a class="el" href="zip_8c_source.html#l00967">zipOpen()</a>, <a class="el" href="zip_8c_source.html#l00939">zipOpen2()</a>, <a class="el" href="zip_8c_source.html#l00951">zipOpen2_64()</a>, and <a class="el" href="zip_8c_source.html#l00972">zipOpen64()</a>.</p>
<div class="fragment"><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;{</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a> ziinit;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>* zi;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordtype">int</span> err=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    ziinit.<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> = flags;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    ziinit.<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>.<a class="code" href="ioapi_8h.html#a2c6e18405ec9c8b2d482055e9bf06766">zseek32_file</a> = NULL;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    ziinit.<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>.<a class="code" href="ioapi_8h.html#a8ef46da9e69697b4f13cd611523761a8">ztell32_file</a> = NULL;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (pzlib_filefunc64_32_def==NULL)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <a class="code" href="qioapi_8cpp.html#a791fffcedf2d2c9dabd67232dafe447b">fill_qiodevice64_filefunc</a>(&amp;ziinit.<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>.<a class="code" href="ioapi_8h.html#a5b05687723a1a8cd310a73ab62fc31f5">zfile_func64</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        ziinit.<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a> = *pzlib_filefunc64_32_def;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    ziinit.<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a> = <a class="code" href="ioapi_8h.html#a73e71de7d2bb649346c2709ade661a48">ZOPEN64</a>(ziinit.<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                  file,</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                  (append == <a class="code" href="zip_8h.html#ae90aeab52897f3fd1c867971c946fa87">APPEND_STATUS_CREATE</a>) ?</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                  (<a class="code" href="ioapi_8h.html#ae7bc575ca0cef5d90c7d5d093137d901">ZLIB_FILEFUNC_MODE_READ</a> | <a class="code" href="ioapi_8h.html#acb1ad2741eafcd1541c22553225146c6">ZLIB_FILEFUNC_MODE_WRITE</a> | <a class="code" href="ioapi_8h.html#aca55322d595862ec1c298ec87e8ea225">ZLIB_FILEFUNC_MODE_CREATE</a>) :</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    (<a class="code" href="ioapi_8h.html#ae7bc575ca0cef5d90c7d5d093137d901">ZLIB_FILEFUNC_MODE_READ</a> | <a class="code" href="ioapi_8h.html#acb1ad2741eafcd1541c22553225146c6">ZLIB_FILEFUNC_MODE_WRITE</a> | <a class="code" href="ioapi_8h.html#a726af69b3b72f7485db98fd06352761f">ZLIB_FILEFUNC_MODE_EXISTING</a>));</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">if</span> (ziinit.<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a> == NULL)</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (append == <a class="code" href="zip_8h.html#ab2967f332f8f7172138c4e5e9c51fd64">APPEND_STATUS_CREATEAFTER</a>)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a>(ziinit.<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,ziinit.<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,0,<a class="code" href="zip_8c.html#ad2a2e6c114780c3071efd24f16c7f7d8">SEEK_END</a>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    ziinit.<a class="code" href="zip_8c.html#adff1d5f1509675f5f1c9797c5addc1a7">begin_pos</a> = <a class="code" href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a>(ziinit.<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,ziinit.<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    ziinit.<a class="code" href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">in_opened_file_inzip</a> = 0;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    ziinit.<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a43c3fdea776df57014ea61d952972b94">stream_initialised</a> = 0;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    ziinit.<a class="code" href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">number_entry</a> = 0;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    ziinit.<a class="code" href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">add_position_when_writting_offset</a> = 0;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="zip_8c.html#a6c2a1e974d3ab6f326b743af32e53794">init_linkedlist</a>(&amp;(ziinit.<a class="code" href="zip_8c.html#a869144921e51ec758f1b60dba2f1a2af">central_dir</a>));</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    zi = (<a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>*)<a class="code" href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a>(<span class="keyword">sizeof</span>(<a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>));</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span> (zi==NULL)</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordflow">if</span> ((ziinit.<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a1e2c5afcf10fe30d6ad820a10b17ab94">ZIP_AUTO_CLOSE</a>) != 0) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <a class="code" href="ioapi_8h.html#ac4ed0148a82154111eb1671549b50c38">ZCLOSE64</a>(ziinit.<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,ziinit.<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <a class="code" href="ioapi_8h.html#a1034b671423055a010cdd0b08fd61e83">ZFAKECLOSE64</a>(ziinit.<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,ziinit.<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">/* now we add file in a zipfile */</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="preprocessor">#    ifndef NO_ADDFILEINEXISTINGZIP</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="preprocessor"></span>    ziinit.<a class="code" href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">globalcomment</a> = NULL;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">if</span> (append == <a class="code" href="zip_8h.html#a3192cdd1a42f50096c341c48edb905a5">APPEND_STATUS_ADDINZIP</a>)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="comment">/* Read and Cache Central Directory Records */</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      err = <a class="code" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29">LoadCentralDirectoryRecord</a>(&amp;ziinit);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">if</span> (globalcomment)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      *globalcomment = ziinit.<a class="code" href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">globalcomment</a>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="preprocessor">#    endif </span><span class="comment">/* !NO_ADDFILEINEXISTINGZIP*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">if</span> (err != <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="preprocessor">#    ifndef NO_ADDFILEINEXISTINGZIP</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="preprocessor"></span>        <a class="code" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(ziinit.<a class="code" href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">globalcomment</a>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="preprocessor">#    endif </span><span class="comment">/* !NO_ADDFILEINEXISTINGZIP*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="preprocessor"></span>        <a class="code" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(zi);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        *zi = ziinit;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>)zi;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a997ca8e9d08081a280e32b7c4280f090"><div class="ttname"><a href="zip_8c.html#a997ca8e9d08081a280e32b7c4280f090">zip64_internal::globalcomment</a></div><div class="ttdeci">char * globalcomment</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00185">zip.c:185</a></div></div>
<div class="ttc" id="qioapi_8cpp_html_a791fffcedf2d2c9dabd67232dafe447b"><div class="ttname"><a href="qioapi_8cpp.html#a791fffcedf2d2c9dabd67232dafe447b">fill_qiodevice64_filefunc</a></div><div class="ttdeci">void fill_qiodevice64_filefunc(zlib_filefunc64_def *pzlib_filefunc_def)</div><div class="ttdef"><b>Definition:</b> <a href="qioapi_8cpp_source.html#l00331">qioapi.cpp:331</a></div></div>
<div class="ttc" id="zip_8h_html_ab2967f332f8f7172138c4e5e9c51fd64"><div class="ttname"><a href="zip_8h.html#ab2967f332f8f7172138c4e5e9c51fd64">APPEND_STATUS_CREATEAFTER</a></div><div class="ttdeci">#define APPEND_STATUS_CREATEAFTER</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00124">zip.h:124</a></div></div>
<div class="ttc" id="ioapi_8h_html_ae7bc575ca0cef5d90c7d5d093137d901"><div class="ttname"><a href="ioapi_8h.html#ae7bc575ca0cef5d90c7d5d093137d901">ZLIB_FILEFUNC_MODE_READ</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_MODE_READ</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00113">ioapi.h:113</a></div></div>
<div class="ttc" id="zip_8c_html_a43c3fdea776df57014ea61d952972b94"><div class="ttname"><a href="zip_8c.html#a43c3fdea776df57014ea61d952972b94">curfile64_info::stream_initialised</a></div><div class="ttdeci">int stream_initialised</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00144">zip.c:144</a></div></div>
<div class="ttc" id="ioapi_8h_html_a5b05687723a1a8cd310a73ab62fc31f5"><div class="ttname"><a href="ioapi_8h.html#a5b05687723a1a8cd310a73ab62fc31f5">zlib_filefunc64_32_def_s::zfile_func64</a></div><div class="ttdeci">zlib_filefunc64_def zfile_func64</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00178">ioapi.h:178</a></div></div>
<div class="ttc" id="ioapi_8h_html_a8ef46da9e69697b4f13cd611523761a8"><div class="ttname"><a href="ioapi_8h.html#a8ef46da9e69697b4f13cd611523761a8">zlib_filefunc64_32_def_s::ztell32_file</a></div><div class="ttdeci">tell_file_func ztell32_file</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00180">ioapi.h:180</a></div></div>
<div class="ttc" id="zip_8c_html_aa24353ae49bce7e6d6aa3f5994782be7"><div class="ttname"><a href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">zip64_internal::in_opened_file_inzip</a></div><div class="ttdeci">int in_opened_file_inzip</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00177">zip.c:177</a></div></div>
<div class="ttc" id="zip_8h_html_af69b9a5ea9aaf8e8f0b7681e451b224c"><div class="ttname"><a href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a></div><div class="ttdeci">voidp zipFile</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00075">zip.h:75</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="zip_8c_html_a388120a043a52c734276c24c47dbc1fa"><div class="ttname"><a href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">zip64_internal::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00188">zip.c:188</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac4ed0148a82154111eb1671549b50c38"><div class="ttname"><a href="ioapi_8h.html#ac4ed0148a82154111eb1671549b50c38">ZCLOSE64</a></div><div class="ttdeci">#define ZCLOSE64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00189">ioapi.h:189</a></div></div>
<div class="ttc" id="ioapi_8h_html_a1034b671423055a010cdd0b08fd61e83"><div class="ttname"><a href="ioapi_8h.html#a1034b671423055a010cdd0b08fd61e83">ZFAKECLOSE64</a></div><div class="ttdeci">#define ZFAKECLOSE64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00190">ioapi.h:190</a></div></div>
<div class="ttc" id="zip_8c_html_ad2a2e6c114780c3071efd24f16c7f7d8"><div class="ttname"><a href="zip_8c.html#ad2a2e6c114780c3071efd24f16c7f7d8">SEEK_END</a></div><div class="ttdeci">#define SEEK_END</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00090">zip.c:90</a></div></div>
<div class="ttc" id="ioapi_8h_html_a73e71de7d2bb649346c2709ade661a48"><div class="ttname"><a href="ioapi_8h.html#a73e71de7d2bb649346c2709ade661a48">ZOPEN64</a></div><div class="ttdeci">#define ZOPEN64(filefunc, filename, mode)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00199">ioapi.h:199</a></div></div>
<div class="ttc" id="zip_8c_html_a74984ae4b2cdc5b5eade871ee61b2261"><div class="ttname"><a href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">zip64_internal::add_position_when_writting_offset</a></div><div class="ttdeci">ZPOS64_T add_position_when_writting_offset</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00181">zip.c:181</a></div></div>
<div class="ttc" id="zip_8c_html_a44da2707a5a0031b9c263f9373918f29"><div class="ttname"><a href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29">LoadCentralDirectoryRecord</a></div><div class="ttdeci">int LoadCentralDirectoryRecord(zip64_internal *pziinit)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00649">zip.c:649</a></div></div>
<div class="ttc" id="zip_8c_html_a869144921e51ec758f1b60dba2f1a2af"><div class="ttname"><a href="zip_8c.html#a869144921e51ec758f1b60dba2f1a2af">zip64_internal::central_dir</a></div><div class="ttdeci">linkedlist_data central_dir</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00176">zip.c:176</a></div></div>
<div class="ttc" id="zip_8c_html_a5fb23c00a00f3856832e660edc2ab03d"><div class="ttname"><a href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a></div><div class="ttdeci">#define TRYFREE(p)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00071">zip.c:71</a></div></div>
<div class="ttc" id="zip_8h_html_a1e2c5afcf10fe30d6ad820a10b17ab94"><div class="ttname"><a href="zip_8h.html#a1e2c5afcf10fe30d6ad820a10b17ab94">ZIP_AUTO_CLOSE</a></div><div class="ttdeci">#define ZIP_AUTO_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00086">zip.h:86</a></div></div>
<div class="ttc" id="ioapi_8h_html_aca55322d595862ec1c298ec87e8ea225"><div class="ttname"><a href="ioapi_8h.html#aca55322d595862ec1c298ec87e8ea225">ZLIB_FILEFUNC_MODE_CREATE</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_MODE_CREATE</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00118">ioapi.h:118</a></div></div>
<div class="ttc" id="ioapi_8h_html_a726af69b3b72f7485db98fd06352761f"><div class="ttname"><a href="ioapi_8h.html#a726af69b3b72f7485db98fd06352761f">ZLIB_FILEFUNC_MODE_EXISTING</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_MODE_EXISTING</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00117">ioapi.h:117</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac849fcd066ac44109dfb95a1c5fd494c"><div class="ttname"><a href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a></div><div class="ttdeci">#define ZTELL64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00200">ioapi.h:200</a></div></div>
<div class="ttc" id="zip_8c_html_a6c2a1e974d3ab6f326b743af32e53794"><div class="ttname"><a href="zip_8c.html#a6c2a1e974d3ab6f326b743af32e53794">init_linkedlist</a></div><div class="ttdeci">static void init_linkedlist(linkedlist_data *ll)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00222">zip.c:222</a></div></div>
<div class="ttc" id="zip_8c_html_a2d8ae560933ed00ee61052446288f4a8"><div class="ttname"><a href="zip_8c.html#a2d8ae560933ed00ee61052446288f4a8">zip64_internal::number_entry</a></div><div class="ttdeci">ZPOS64_T number_entry</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00182">zip.c:182</a></div></div>
<div class="ttc" id="zip_8c_html_structzip64__internal"><div class="ttname"><a href="zip_8c.html#structzip64__internal">zip64_internal</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00172">zip.c:172</a></div></div>
<div class="ttc" id="ioapi_8h_html_a2c6e18405ec9c8b2d482055e9bf06766"><div class="ttname"><a href="ioapi_8h.html#a2c6e18405ec9c8b2d482055e9bf06766">zlib_filefunc64_32_def_s::zseek32_file</a></div><div class="ttdeci">seek_file_func zseek32_file</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00181">ioapi.h:181</a></div></div>
<div class="ttc" id="zip_8c_html_ac5c822e3692a95451e8f70a5916f05a3"><div class="ttname"><a href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a></div><div class="ttdeci">#define ALLOC(size)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00068">zip.c:68</a></div></div>
<div class="ttc" id="zip_8c_html_a05bf290332d456dbecee6d870a3b6559"><div class="ttname"><a href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">zip64_internal::ci</a></div><div class="ttdeci">curfile64_info ci</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00178">zip.c:178</a></div></div>
<div class="ttc" id="ioapi_8h_html_acb1ad2741eafcd1541c22553225146c6"><div class="ttname"><a href="ioapi_8h.html#acb1ad2741eafcd1541c22553225146c6">ZLIB_FILEFUNC_MODE_WRITE</a></div><div class="ttdeci">#define ZLIB_FILEFUNC_MODE_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00114">ioapi.h:114</a></div></div>
<div class="ttc" id="ioapi_8h_html_a8ccaa5cb8fc7b04e6139c610cd31ce26"><div class="ttname"><a href="ioapi_8h.html#a8ccaa5cb8fc7b04e6139c610cd31ce26">ZSEEK64</a></div><div class="ttdeci">#define ZSEEK64(filefunc, filestream, pos, mode)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00201">ioapi.h:201</a></div></div>
<div class="ttc" id="zip_8c_html_adff1d5f1509675f5f1c9797c5addc1a7"><div class="ttname"><a href="zip_8c.html#adff1d5f1509675f5f1c9797c5addc1a7">zip64_internal::begin_pos</a></div><div class="ttdeci">ZPOS64_T begin_pos</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00180">zip.c:180</a></div></div>
<div class="ttc" id="zip_8h_html_a3192cdd1a42f50096c341c48edb905a5"><div class="ttname"><a href="zip_8h.html#a3192cdd1a42f50096c341c48edb905a5">APPEND_STATUS_ADDINZIP</a></div><div class="ttdeci">#define APPEND_STATUS_ADDINZIP</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00125">zip.h:125</a></div></div>
<div class="ttc" id="zip_8h_html_ae90aeab52897f3fd1c867971c946fa87"><div class="ttname"><a href="zip_8h.html#ae90aeab52897f3fd1c867971c946fa87">APPEND_STATUS_CREATE</a></div><div class="ttdeci">#define APPEND_STATUS_CREATE</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00123">zip.h:123</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a6cb26503b56121bf3b5779b4df561b24_cgraph.png" border="0" usemap="#zip_8c_a6cb26503b56121bf3b5779b4df561b24_cgraph" alt=""/></div>
<map name="zip_8c_a6cb26503b56121bf3b5779b4df561b24_cgraph" id="zip_8c_a6cb26503b56121bf3b5779b4df561b24_cgraph">
<area shape="rect" id="node2" href="qioapi_8cpp.html#a791fffcedf2d2c9dabd67232dafe447b" title="fill_qiodevice64_filefunc" alt="" coords="144,224,304,251"/><area shape="rect" id="node11" href="zip_8c.html#a6c2a1e974d3ab6f326b743af32e53794" title="init_linkedlist" alt="" coords="175,376,273,403"/><area shape="rect" id="node12" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="131,528,317,555"/><area shape="rect" id="node3" href="qioapi_8cpp.html#ab64e25237ce8d0748a8e63552c811a6c" title="qiodevice64_seek_file_func" alt="" coords="367,325,550,352"/><area shape="rect" id="node4" href="qioapi_8cpp.html#ab23e0bdd92f6df922a97e865ca5e9030" title="qiodevice64_tell_file_func" alt="" coords="373,376,544,403"/><area shape="rect" id="node5" href="qioapi_8cpp.html#a5c1872cbc73a6107a59983cf68a7eb71" title="qiodevice_close_file_func" alt="" coords="373,5,544,32"/><area shape="rect" id="node6" href="qioapi_8cpp.html#aa28e993bb89e141777695b5ed3908e5f" title="qiodevice_error_file_func" alt="" coords="375,56,542,83"/><area shape="rect" id="node7" href="qioapi_8cpp.html#af65a39ff0265a40151e9c15bead60db8" title="qiodevice_fakeclose\l_file_func" alt="" coords="389,107,529,149"/><area shape="rect" id="node8" href="qioapi_8cpp.html#a32af99f13f6baf9617565716780ae818" title="qiodevice_open_file_func" alt="" coords="375,173,543,200"/><area shape="rect" id="node9" href="qioapi_8cpp.html#ae865403be09e32051ca7a36fc6b0da3d" title="qiodevice_read_file_func" alt="" coords="376,224,541,251"/><area shape="rect" id="node10" href="qioapi_8cpp.html#aa7c1be5bc23d2d6730884f16b1cbe991" title="qiodevice_write_file_func" alt="" coords="375,275,543,301"/><area shape="rect" id="node13" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="381,477,536,504"/><area shape="rect" id="node15" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66" title="zip64local_getLong" alt="" coords="615,587,748,613"/><area shape="rect" id="node17" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81" title="zip64local_getLong64" alt="" coords="608,641,755,668"/><area shape="rect" id="node18" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b" title="zip64local_getShort" alt="" coords="613,693,749,720"/><area shape="rect" id="node19" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea" title="zip64local_SearchCentralDir" alt="" coords="365,427,552,453"/><area shape="rect" id="node20" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5" title="zip64local_SearchCentral\lDir64" alt="" coords="373,579,544,621"/><area shape="rect" id="node14" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="601,477,762,504"/><area shape="rect" id="node16" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="811,641,943,668"/></map>
</div>
</p>

<p><div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a6cb26503b56121bf3b5779b4df561b24_icgraph.png" border="0" usemap="#zip_8c_a6cb26503b56121bf3b5779b4df561b24_icgraph" alt=""/></div>
<map name="zip_8c_a6cb26503b56121bf3b5779b4df561b24_icgraph" id="zip_8c_a6cb26503b56121bf3b5779b4df561b24_icgraph">
<area shape="rect" id="node2" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="278,216,378,243"/><area shape="rect" id="node17" href="zip_8c.html#a20f498af9fd0d6dae2293917822f17c8" title="zipOpen" alt="" coords="145,216,215,243"/><area shape="rect" id="node18" href="zip_8c.html#a67ab4da81787241b90623ab2dfb5f64a" title="zipOpen2" alt="" coords="141,267,219,293"/><area shape="rect" id="node19" href="zip_8c.html#af5902bca5d94f10555ebc03e83e10256" title="zipOpen2_64" alt="" coords="131,317,229,344"/><area shape="rect" id="node20" href="zip_8c.html#abab85905a76f7b4cf2001b71a561ee0e" title="zipOpen64" alt="" coords="138,368,222,395"/><area shape="rect" id="node3" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="431,13,609,40"/><area shape="rect" id="node9" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="431,64,609,91"/><area shape="rect" id="node10" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="427,115,613,141"/><area shape="rect" id="node11" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="433,165,607,192"/><area shape="rect" id="node12" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="439,216,601,243"/><area shape="rect" id="node13" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="436,267,604,293"/><area shape="rect" id="node14" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="441,317,599,344"/><area shape="rect" id="node15" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="440,368,600,395"/><area shape="rect" id="node16" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="459,419,581,445"/><area shape="rect" id="node4" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="661,13,840,40"/><area shape="rect" id="node5" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="888,13,1051,40"/><area shape="rect" id="node6" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="1099,6,1283,47"/><area shape="rect" id="node7" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1331,13,1509,40"/><area shape="rect" id="node8" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="1558,6,1754,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abab85905a76f7b4cf2001b71a561ee0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a> ZEXPORT zipOpen64 </td>
          <td>(</td>
          <td class="paramtype">voidpf&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>append</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00972">972</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8h_source.html#l00088">ZIP_DEFAULT_FLAGS</a>, and <a class="el" href="zip_8c_source.html#l00862">zipOpen3()</a>.</p>
<div class="fragment"><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;{</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a>(file,append,NULL,NULL, <a class="code" href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a>);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_ae618a7f9c2fa89087b0eb8176266f774"><div class="ttname"><a href="zip_8h.html#ae618a7f9c2fa89087b0eb8176266f774">ZIP_DEFAULT_FLAGS</a></div><div class="ttdeci">#define ZIP_DEFAULT_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00088">zip.h:88</a></div></div>
<div class="ttc" id="zip_8c_html_a6cb26503b56121bf3b5779b4df561b24"><div class="ttname"><a href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24">zipOpen3</a></div><div class="ttdeci">zipFile ZEXPORT zipOpen3(voidpf file, int append, zipcharpc *globalcomment, zlib_filefunc64_32_def *pzlib_filefunc64_32_def, unsigned flags)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00862">zip.c:862</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_abab85905a76f7b4cf2001b71a561ee0e_cgraph.png" border="0" usemap="#zip_8c_abab85905a76f7b4cf2001b71a561ee0e_cgraph" alt=""/></div>
<map name="zip_8c_abab85905a76f7b4cf2001b71a561ee0e_cgraph" id="zip_8c_abab85905a76f7b4cf2001b71a561ee0e_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a6cb26503b56121bf3b5779b4df561b24" title="zipOpen3" alt="" coords="139,376,216,403"/><area shape="rect" id="node3" href="qioapi_8cpp.html#a791fffcedf2d2c9dabd67232dafe447b" title="fill_qiodevice64_filefunc" alt="" coords="277,224,437,251"/><area shape="rect" id="node12" href="zip_8c.html#a6c2a1e974d3ab6f326b743af32e53794" title="init_linkedlist" alt="" coords="309,376,406,403"/><area shape="rect" id="node13" href="zip_8c.html#a44da2707a5a0031b9c263f9373918f29" title="LoadCentralDirectoryRecord" alt="" coords="264,528,451,555"/><area shape="rect" id="node4" href="qioapi_8cpp.html#ab64e25237ce8d0748a8e63552c811a6c" title="qiodevice64_seek_file_func" alt="" coords="501,325,683,352"/><area shape="rect" id="node5" href="qioapi_8cpp.html#ab23e0bdd92f6df922a97e865ca5e9030" title="qiodevice64_tell_file_func" alt="" coords="507,376,677,403"/><area shape="rect" id="node6" href="qioapi_8cpp.html#a5c1872cbc73a6107a59983cf68a7eb71" title="qiodevice_close_file_func" alt="" coords="507,5,677,32"/><area shape="rect" id="node7" href="qioapi_8cpp.html#aa28e993bb89e141777695b5ed3908e5f" title="qiodevice_error_file_func" alt="" coords="509,56,675,83"/><area shape="rect" id="node8" href="qioapi_8cpp.html#af65a39ff0265a40151e9c15bead60db8" title="qiodevice_fakeclose\l_file_func" alt="" coords="522,107,662,149"/><area shape="rect" id="node9" href="qioapi_8cpp.html#a32af99f13f6baf9617565716780ae818" title="qiodevice_open_file_func" alt="" coords="508,173,676,200"/><area shape="rect" id="node10" href="qioapi_8cpp.html#ae865403be09e32051ca7a36fc6b0da3d" title="qiodevice_read_file_func" alt="" coords="509,224,675,251"/><area shape="rect" id="node11" href="qioapi_8cpp.html#aa7c1be5bc23d2d6730884f16b1cbe991" title="qiodevice_write_file_func" alt="" coords="508,275,676,301"/><area shape="rect" id="node14" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="515,477,669,504"/><area shape="rect" id="node16" href="zip_8c.html#af9e4ecae0dd3d2e2a749f83c48e78d66" title="zip64local_getLong" alt="" coords="748,587,881,613"/><area shape="rect" id="node18" href="zip_8c.html#a7d544970649a6e4e7e423a29b29dba81" title="zip64local_getLong64" alt="" coords="741,641,888,668"/><area shape="rect" id="node19" href="zip_8c.html#a49d52d3592e65398e57bb52850c3f18b" title="zip64local_getShort" alt="" coords="747,693,883,720"/><area shape="rect" id="node20" href="zip_8c.html#a7235a2cfdd684a93a58a36a7dab3ecea" title="zip64local_SearchCentralDir" alt="" coords="499,427,685,453"/><area shape="rect" id="node21" href="zip_8c.html#ac4b5c3b2aeca1bd92799ba00f0cc8fe5" title="zip64local_SearchCentral\lDir64" alt="" coords="507,579,677,621"/><area shape="rect" id="node15" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="734,477,895,504"/><area shape="rect" id="node17" href="zip_8c.html#ad60b20a868ebdbd3d314d277faa9b096" title="zip64local_getByte" alt="" coords="945,641,1077,668"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14cf664b19f00f41f6865a7c3173e973"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipOpenNewFileInZip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *&#160;</td>
          <td class="paramname"><em>zipfi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01390">1390</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8h_source.html#l00094">DEF_MEM_LEVEL</a>, <a class="el" href="zip_8c_source.html#l00056">VERSIONMADEBY</a>, and <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;{</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a> (file, filename, zipfi,</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                                 extrafield_local, size_extrafield_local,</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                                 extrafield_global, size_extrafield_global,</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                                 comment, method, level, 0,</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                                 -MAX_WBITS, <a class="code" href="zip_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a>, Z_DEFAULT_STRATEGY,</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                                 NULL, 0, <a class="code" href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a>, 0, 0);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a19c8e60fa32d4ddf303ce988ba97af61"><div class="ttname"><a href="zip_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a></div><div class="ttdeci">#define DEF_MEM_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00094">zip.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_a0887c08f255f7a753b460e30ed14a3cf"><div class="ttname"><a href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a></div><div class="ttdeci">#define VERSIONMADEBY</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00056">zip.c:56</a></div></div>
<div class="ttc" id="zip_8c_html_a638e4d5a7305f25e1ef6c2f6f14e2861"><div class="ttname"><a href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a></div><div class="ttdeci">int ZEXPORT zipOpenNewFileInZip4_64(zipFile file, const char *filename, const zip_fileinfo *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, uLong versionMadeBy, uLong flagBase, int zip64)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01077">zip.c:1077</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a14cf664b19f00f41f6865a7c3173e973_cgraph.png" border="0" usemap="#zip_8c_a14cf664b19f00f41f6865a7c3173e973_cgraph" alt=""/></div>
<map name="zip_8c_a14cf664b19f00f41f6865a7c3173e973_cgraph" id="zip_8c_a14cf664b19f00f41f6865a7c3173e973_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="201,136,375,163"/><area shape="rect" id="node3" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="467,60,589,87"/><area shape="rect" id="node10" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="1104,158,1243,199"/><area shape="rect" id="node11" href="zip_8c.html#a037626935aca46ac3a5397dd61297783" title="zip64local_TmzDateToDosDate" alt="" coords="424,212,632,239"/><area shape="rect" id="node12" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f" title="Write_LocalFileHeader" alt="" coords="680,111,835,137"/><area shape="rect" id="node4" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="682,60,833,87"/><area shape="rect" id="node5" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="883,60,1047,87"/><area shape="rect" id="node6" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="1096,5,1251,32"/><area shape="rect" id="node8" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="1098,56,1249,83"/><area shape="rect" id="node9" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="1104,107,1243,133"/><area shape="rect" id="node7" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="1299,5,1461,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae3c822f7ddf7c351e7a6c633ed1590d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipOpenNewFileInZip2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *&#160;</td>
          <td class="paramname"><em>zipfi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01351">1351</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8h_source.html#l00094">DEF_MEM_LEVEL</a>, <a class="el" href="zip_8c_source.html#l00056">VERSIONMADEBY</a>, and <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;{</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a> (file, filename, zipfi,</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                                 extrafield_local, size_extrafield_local,</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                                 extrafield_global, size_extrafield_global,</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                                 comment, method, level, raw,</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                                 -MAX_WBITS, <a class="code" href="zip_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a>, Z_DEFAULT_STRATEGY,</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                                 NULL, 0, <a class="code" href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a>, 0, 0);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a19c8e60fa32d4ddf303ce988ba97af61"><div class="ttname"><a href="zip_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a></div><div class="ttdeci">#define DEF_MEM_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00094">zip.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_a0887c08f255f7a753b460e30ed14a3cf"><div class="ttname"><a href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a></div><div class="ttdeci">#define VERSIONMADEBY</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00056">zip.c:56</a></div></div>
<div class="ttc" id="zip_8c_html_a638e4d5a7305f25e1ef6c2f6f14e2861"><div class="ttname"><a href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a></div><div class="ttdeci">int ZEXPORT zipOpenNewFileInZip4_64(zipFile file, const char *filename, const zip_fileinfo *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, uLong versionMadeBy, uLong flagBase, int zip64)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01077">zip.c:1077</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_ae3c822f7ddf7c351e7a6c633ed1590d4_cgraph.png" border="0" usemap="#zip_8c_ae3c822f7ddf7c351e7a6c633ed1590d4_cgraph" alt=""/></div>
<map name="zip_8c_ae3c822f7ddf7c351e7a6c633ed1590d4_cgraph" id="zip_8c_ae3c822f7ddf7c351e7a6c633ed1590d4_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="209,136,383,163"/><area shape="rect" id="node3" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="475,60,597,87"/><area shape="rect" id="node10" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="1112,158,1251,199"/><area shape="rect" id="node11" href="zip_8c.html#a037626935aca46ac3a5397dd61297783" title="zip64local_TmzDateToDosDate" alt="" coords="432,212,640,239"/><area shape="rect" id="node12" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f" title="Write_LocalFileHeader" alt="" coords="688,111,843,137"/><area shape="rect" id="node4" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="690,60,841,87"/><area shape="rect" id="node5" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="891,60,1055,87"/><area shape="rect" id="node6" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="1104,5,1259,32"/><area shape="rect" id="node8" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="1106,56,1257,83"/><area shape="rect" id="node9" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="1112,107,1251,133"/><area shape="rect" id="node7" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="1307,5,1469,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad975ed2489784c4ae4847d75bc3fc7bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipOpenNewFileInZip2_64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *&#160;</td>
          <td class="paramname"><em>zipfi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>zip64</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01364">1364</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8h_source.html#l00094">DEF_MEM_LEVEL</a>, <a class="el" href="zip_8c_source.html#l00056">VERSIONMADEBY</a>, and <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;{</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a> (file, filename, zipfi,</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                                 extrafield_local, size_extrafield_local,</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                                 extrafield_global, size_extrafield_global,</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                                 comment, method, level, raw,</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                                 -MAX_WBITS, <a class="code" href="zip_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a>, Z_DEFAULT_STRATEGY,</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                                 NULL, 0, <a class="code" href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a>, 0, zip64);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a19c8e60fa32d4ddf303ce988ba97af61"><div class="ttname"><a href="zip_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a></div><div class="ttdeci">#define DEF_MEM_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00094">zip.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_a0887c08f255f7a753b460e30ed14a3cf"><div class="ttname"><a href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a></div><div class="ttdeci">#define VERSIONMADEBY</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00056">zip.c:56</a></div></div>
<div class="ttc" id="zip_8c_html_a638e4d5a7305f25e1ef6c2f6f14e2861"><div class="ttname"><a href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a></div><div class="ttdeci">int ZEXPORT zipOpenNewFileInZip4_64(zipFile file, const char *filename, const zip_fileinfo *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, uLong versionMadeBy, uLong flagBase, int zip64)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01077">zip.c:1077</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_ad975ed2489784c4ae4847d75bc3fc7bc_cgraph.png" border="0" usemap="#zip_8c_ad975ed2489784c4ae4847d75bc3fc7bc_cgraph" alt=""/></div>
<map name="zip_8c_ad975ed2489784c4ae4847d75bc3fc7bc_cgraph" id="zip_8c_ad975ed2489784c4ae4847d75bc3fc7bc_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="230,136,405,163"/><area shape="rect" id="node3" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="496,60,619,87"/><area shape="rect" id="node10" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="1133,158,1272,199"/><area shape="rect" id="node11" href="zip_8c.html#a037626935aca46ac3a5397dd61297783" title="zip64local_TmzDateToDosDate" alt="" coords="453,212,661,239"/><area shape="rect" id="node12" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f" title="Write_LocalFileHeader" alt="" coords="709,111,864,137"/><area shape="rect" id="node4" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="711,60,862,87"/><area shape="rect" id="node5" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="913,60,1077,87"/><area shape="rect" id="node6" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="1125,5,1280,32"/><area shape="rect" id="node8" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="1127,56,1278,83"/><area shape="rect" id="node9" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="1133,107,1272,133"/><area shape="rect" id="node7" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="1329,5,1490,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6b17cc2fa173054a156218befe2b31f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipOpenNewFileInZip3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *&#160;</td>
          <td class="paramname"><em>zipfi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>windowBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>memLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>crcForCrypting</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01321">1321</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00056">VERSIONMADEBY</a>, and <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;{</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a> (file, filename, zipfi,</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                                 extrafield_local, size_extrafield_local,</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                                 extrafield_global, size_extrafield_global,</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                                 comment, method, level, raw,</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                                 windowBits, memLevel, strategy,</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                                 password, crcForCrypting, <a class="code" href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a>, 0, 0);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;}</div>
<div class="ttc" id="zip_8c_html_a0887c08f255f7a753b460e30ed14a3cf"><div class="ttname"><a href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a></div><div class="ttdeci">#define VERSIONMADEBY</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00056">zip.c:56</a></div></div>
<div class="ttc" id="zip_8c_html_a638e4d5a7305f25e1ef6c2f6f14e2861"><div class="ttname"><a href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a></div><div class="ttdeci">int ZEXPORT zipOpenNewFileInZip4_64(zipFile file, const char *filename, const zip_fileinfo *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, uLong versionMadeBy, uLong flagBase, int zip64)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01077">zip.c:1077</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a6b17cc2fa173054a156218befe2b31f5_cgraph.png" border="0" usemap="#zip_8c_a6b17cc2fa173054a156218befe2b31f5_cgraph" alt=""/></div>
<map name="zip_8c_a6b17cc2fa173054a156218befe2b31f5_cgraph" id="zip_8c_a6b17cc2fa173054a156218befe2b31f5_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="209,136,383,163"/><area shape="rect" id="node3" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="475,60,597,87"/><area shape="rect" id="node10" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="1112,158,1251,199"/><area shape="rect" id="node11" href="zip_8c.html#a037626935aca46ac3a5397dd61297783" title="zip64local_TmzDateToDosDate" alt="" coords="432,212,640,239"/><area shape="rect" id="node12" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f" title="Write_LocalFileHeader" alt="" coords="688,111,843,137"/><area shape="rect" id="node4" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="690,60,841,87"/><area shape="rect" id="node5" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="891,60,1055,87"/><area shape="rect" id="node6" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="1104,5,1259,32"/><area shape="rect" id="node8" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="1106,56,1257,83"/><area shape="rect" id="node9" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="1112,107,1251,133"/><area shape="rect" id="node7" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="1307,5,1469,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adef753bf5ddc5752d6069a2d4f3ca0e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipOpenNewFileInZip3_64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *&#160;</td>
          <td class="paramname"><em>zipfi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>windowBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>memLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>crcForCrypting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>zip64</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01336">1336</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00056">VERSIONMADEBY</a>, and <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>

<p>Referenced by <a class="el" href="quazipfile_8cpp_source.html#l00275">QuaZipFile::open()</a>.</p>
<div class="fragment"><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;{</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a> (file, filename, zipfi,</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                 extrafield_local, size_extrafield_local,</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                                 extrafield_global, size_extrafield_global,</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                                 comment, method, level, raw,</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                                 windowBits, memLevel, strategy,</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                                 password, crcForCrypting, <a class="code" href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a>, 0, zip64);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;}</div>
<div class="ttc" id="zip_8c_html_a0887c08f255f7a753b460e30ed14a3cf"><div class="ttname"><a href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a></div><div class="ttdeci">#define VERSIONMADEBY</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00056">zip.c:56</a></div></div>
<div class="ttc" id="zip_8c_html_a638e4d5a7305f25e1ef6c2f6f14e2861"><div class="ttname"><a href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a></div><div class="ttdeci">int ZEXPORT zipOpenNewFileInZip4_64(zipFile file, const char *filename, const zip_fileinfo *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, uLong versionMadeBy, uLong flagBase, int zip64)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01077">zip.c:1077</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_adef753bf5ddc5752d6069a2d4f3ca0e9_cgraph.png" border="0" usemap="#zip_8c_adef753bf5ddc5752d6069a2d4f3ca0e9_cgraph" alt=""/></div>
<map name="zip_8c_adef753bf5ddc5752d6069a2d4f3ca0e9_cgraph" id="zip_8c_adef753bf5ddc5752d6069a2d4f3ca0e9_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="230,136,405,163"/><area shape="rect" id="node3" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="496,60,619,87"/><area shape="rect" id="node10" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="1133,158,1272,199"/><area shape="rect" id="node11" href="zip_8c.html#a037626935aca46ac3a5397dd61297783" title="zip64local_TmzDateToDosDate" alt="" coords="453,212,661,239"/><area shape="rect" id="node12" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f" title="Write_LocalFileHeader" alt="" coords="709,111,864,137"/><area shape="rect" id="node4" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="711,60,862,87"/><area shape="rect" id="node5" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="913,60,1077,87"/><area shape="rect" id="node6" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="1125,5,1280,32"/><area shape="rect" id="node8" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="1127,56,1278,83"/><area shape="rect" id="node9" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="1133,107,1272,133"/><area shape="rect" id="node7" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="1329,5,1490,32"/></map>
</div>
</p>

<p><div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_adef753bf5ddc5752d6069a2d4f3ca0e9_icgraph.png" border="0" usemap="#zip_8c_adef753bf5ddc5752d6069a2d4f3ca0e9_icgraph" alt=""/></div>
<map name="zip_8c_adef753bf5ddc5752d6069a2d4f3ca0e9_icgraph" id="zip_8c_adef753bf5ddc5752d6069a2d4f3ca0e9_icgraph">
<area shape="rect" id="node2" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="230,5,351,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a18b74c0699d8c456b405a0fa43a322e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipOpenNewFileInZip4 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *&#160;</td>
          <td class="paramname"><em>zipfi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>windowBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>memLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>crcForCrypting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>versionMadeBy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>flagBase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01305">1305</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;{</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a> (file, filename, zipfi,</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                                 extrafield_local, size_extrafield_local,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                                 extrafield_global, size_extrafield_global,</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                                 comment, method, level, raw,</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                                 windowBits, memLevel, strategy,</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                                 password, crcForCrypting, versionMadeBy, flagBase, 0);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;}</div>
<div class="ttc" id="zip_8c_html_a638e4d5a7305f25e1ef6c2f6f14e2861"><div class="ttname"><a href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a></div><div class="ttdeci">int ZEXPORT zipOpenNewFileInZip4_64(zipFile file, const char *filename, const zip_fileinfo *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, uLong versionMadeBy, uLong flagBase, int zip64)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01077">zip.c:1077</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-60" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a18b74c0699d8c456b405a0fa43a322e8_cgraph.png" border="0" usemap="#zip_8c_a18b74c0699d8c456b405a0fa43a322e8_cgraph" alt=""/></div>
<map name="zip_8c_a18b74c0699d8c456b405a0fa43a322e8_cgraph" id="zip_8c_a18b74c0699d8c456b405a0fa43a322e8_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="209,136,383,163"/><area shape="rect" id="node3" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="475,60,597,87"/><area shape="rect" id="node10" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="1112,158,1251,199"/><area shape="rect" id="node11" href="zip_8c.html#a037626935aca46ac3a5397dd61297783" title="zip64local_TmzDateToDosDate" alt="" coords="432,212,640,239"/><area shape="rect" id="node12" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f" title="Write_LocalFileHeader" alt="" coords="688,111,843,137"/><area shape="rect" id="node4" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="690,60,841,87"/><area shape="rect" id="node5" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="891,60,1055,87"/><area shape="rect" id="node6" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="1104,5,1259,32"/><area shape="rect" id="node8" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="1106,56,1257,83"/><area shape="rect" id="node9" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="1112,107,1251,133"/><area shape="rect" id="node7" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="1307,5,1469,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a638e4d5a7305f25e1ef6c2f6f14e2861"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipOpenNewFileInZip4_64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *&#160;</td>
          <td class="paramname"><em>zipfi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>windowBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>memLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>crcForCrypting</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>versionMadeBy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uLong&#160;</td>
          <td class="paramname"><em>flagBase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>zip64</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01077">1077</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00181">zip64_internal::add_position_when_writting_offset</a>, <a class="el" href="zip_8c_source.html#l00068">ALLOC</a>, <a class="el" href="zip_8c_source.html#l00157">curfile64_info::buffered_data</a>, <a class="el" href="zip_8c_source.html#l00149">curfile64_info::central_header</a>, <a class="el" href="zip_8c_source.html#l00111">CENTRALHEADERMAGIC</a>, <a class="el" href="zip_8c_source.html#l00178">zip64_internal::ci</a>, <a class="el" href="zip_8c_source.html#l00159">curfile64_info::crc32</a>, <a class="el" href="zip_8c_source.html#l00168">curfile64_info::crypt_header_size</a>, <a class="el" href="zip_8h_source.html#l00113">zip_fileinfo::dosDate</a>, <a class="el" href="zip_8c_source.html#l00158">curfile64_info::dosDate</a>, <a class="el" href="zip_8c_source.html#l00160">curfile64_info::encrypt</a>, <a class="el" href="zip_8h_source.html#l00117">zip_fileinfo::external_fa</a>, <a class="el" href="zip_8c_source.html#l00175">zip64_internal::filestream</a>, <a class="el" href="zip_8c_source.html#l00153">curfile64_info::flag</a>, <a class="el" href="zip_8c_source.html#l00188">zip64_internal::flags</a>, <a class="el" href="zip_8c_source.html#l00177">zip64_internal::in_opened_file_inzip</a>, <a class="el" href="zip_8h_source.html#l00116">zip_fileinfo::internal_fa</a>, <a class="el" href="zip_8c_source.html#l00166">curfile64_info::keys</a>, <a class="el" href="zip_8c_source.html#l00155">curfile64_info::method</a>, <a class="el" href="zip_8c_source.html#l00167">curfile64_info::pcrc_32_tab</a>, <a class="el" href="zip_8c_source.html#l00145">curfile64_info::pos_in_buffered_data</a>, <a class="el" href="zip_8c_source.html#l00147">curfile64_info::pos_local_header</a>, <a class="el" href="zip_8c_source.html#l00162">curfile64_info::pos_zip64extrainfo</a>, <a class="el" href="zip_8c_source.html#l00156">curfile64_info::raw</a>, <a class="el" href="zip_8c_source.html#l00150">curfile64_info::size_centralExtra</a>, <a class="el" href="zip_8c_source.html#l00152">curfile64_info::size_centralExtraFree</a>, <a class="el" href="zip_8c_source.html#l00151">curfile64_info::size_centralheader</a>, <a class="el" href="zip_8c_source.html#l00119">SIZECENTRALHEADER</a>, <a class="el" href="zip_8c_source.html#l00139">curfile64_info::stream</a>, <a class="el" href="zip_8c_source.html#l00144">curfile64_info::stream_initialised</a>, <a class="el" href="zip_8h_source.html#l00112">zip_fileinfo::tmz_date</a>, <a class="el" href="zip_8c_source.html#l00163">curfile64_info::totalCompressedData</a>, <a class="el" href="zip_8c_source.html#l00164">curfile64_info::totalUncompressedData</a>, <a class="el" href="zip_8c_source.html#l00977">Write_LocalFileHeader()</a>, <a class="el" href="zip_8c_source.html#l00060">Z_BUFSIZE</a>, <a class="el" href="unzip_8h_source.html#l00067">Z_BZIP2ED</a>, <a class="el" href="zip_8c_source.html#l00174">zip64_internal::z_filefunc</a>, <a class="el" href="zip_8c_source.html#l00161">curfile64_info::zip64</a>, <a class="el" href="zip_8c_source.html#l00320">zip64local_putValue_inmemory()</a>, <a class="el" href="zip_8c_source.html#l00341">zip64local_TmzDateToDosDate()</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00083">ZIP_INTERNALERROR</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, <a class="el" href="zip_8h_source.html#l00081">ZIP_PARAMERROR</a>, <a class="el" href="zip_8h_source.html#l00087">ZIP_SEQUENTIAL</a>, <a class="el" href="zip_8h_source.html#l00085">ZIP_WRITE_DATA_DESCRIPTOR</a>, <a class="el" href="zip_8c_source.html#l01810">zipCloseFileInZip()</a>, <a class="el" href="ioapi_8h_source.html#l00200">ZTELL64</a>, and <a class="el" href="ioapi_8h_source.html#l00186">ZWRITE64</a>.</p>

<p>Referenced by <a class="el" href="zip_8c_source.html#l01390">zipOpenNewFileInZip()</a>, <a class="el" href="zip_8c_source.html#l01351">zipOpenNewFileInZip2()</a>, <a class="el" href="zip_8c_source.html#l01364">zipOpenNewFileInZip2_64()</a>, <a class="el" href="zip_8c_source.html#l01321">zipOpenNewFileInZip3()</a>, <a class="el" href="zip_8c_source.html#l01336">zipOpenNewFileInZip3_64()</a>, <a class="el" href="zip_8c_source.html#l01305">zipOpenNewFileInZip4()</a>, and <a class="el" href="zip_8c_source.html#l01377">zipOpenNewFileInZip64()</a>.</p>
<div class="fragment"><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;{</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>* zi;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    uInt size_filename;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    uInt size_comment;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    uInt i;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    uLong version_to_extract;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="preprocessor">#    ifdef NOCRYPT</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (password != NULL)</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="preprocessor">#    endif</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="preprocessor">#ifdef HAVE_BZIP2</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> ((method!=0) &amp;&amp; (method!=Z_DEFLATED) &amp;&amp; (method!=<a class="code" href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a>))</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> ((method!=0) &amp;&amp; (method!=Z_DEFLATED))</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    zi = (<a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>*)file;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">in_opened_file_inzip</a> == 1)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        err = <a class="code" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1">zipCloseFileInZip</a> (file);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keywordflow">if</span> (err != <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">if</span> (method == 0</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            &amp;&amp; (level == 0 || (zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a5db4ac23b76ba0210b4e6d83c40ef830">ZIP_WRITE_DATA_DESCRIPTOR</a>) == 0)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            &amp;&amp; (zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a270111b3810ccd2d4e17bbf4f56f1adf">ZIP_SEQUENTIAL</a>) == 0)</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        version_to_extract = 10;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        version_to_extract = 20;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    }</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">if</span> (filename==NULL)</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        filename=<span class="stringliteral">&quot;-&quot;</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">if</span> (comment==NULL)</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        size_comment = 0;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        size_comment = (uInt)strlen(comment);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    size_filename = (uInt)strlen(filename);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (zipfi == NULL)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa1f0ca7db2e2129524953a29fa822933">dosDate</a> = 0;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="keywordflow">if</span> (zipfi-&gt;<a class="code" href="zip_8h.html#a0541c57e59450fbc17b2f898ca4bc9e8">dosDate</a> != 0)</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa1f0ca7db2e2129524953a29fa822933">dosDate</a> = zipfi-&gt;<a class="code" href="zip_8h.html#a0541c57e59450fbc17b2f898ca4bc9e8">dosDate</a>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa1f0ca7db2e2129524953a29fa822933">dosDate</a> = <a class="code" href="zip_8c.html#a037626935aca46ac3a5397dd61297783">zip64local_TmzDateToDosDate</a>(&amp;zipfi-&gt;<a class="code" href="zip_8h.html#ae09a694a598b7507d23705764c9e46fb">tmz_date</a>);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">flag</a> = flagBase;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">if</span> ((level==8) || (level==9))</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">flag</a> |= 2;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">if</span> (level==2)</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">flag</a> |= 4;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">if</span> (level==1)</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">flag</a> |= 6;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">if</span> (password != NULL)</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">flag</a> |= 1;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">if</span> (version_to_extract &gt;= 20</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            &amp;&amp; ((zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a5db4ac23b76ba0210b4e6d83c40ef830">ZIP_WRITE_DATA_DESCRIPTOR</a>) != 0</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                || (zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a270111b3810ccd2d4e17bbf4f56f1adf">ZIP_SEQUENTIAL</a>) != 0))</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">flag</a> |= 8;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa15643650c3d8564776ea87873134364">crc32</a> = 0;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> = method;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ae25bb2a6b1e0b04f60011089db7fa123">encrypt</a> = 0;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a43c3fdea776df57014ea61d952972b94">stream_initialised</a> = 0;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a> = 0;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a> = raw;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a6225decff0849b90f09a63addab95c64">pos_local_header</a> = <a class="code" href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a17de1df264e0e162f777f2ae7cef0d55">size_centralheader</a> = <a class="code" href="zip_8c.html#a1d462da8349d0e3e53ecbaf284336066">SIZECENTRALHEADER</a> + size_filename + size_extrafield_global + size_comment;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a885ce2d7f41cbac1a2ef990643e62069">size_centralExtraFree</a> = 32; <span class="comment">/* Extra space we have reserved in case we need to add ZIP64 extra info data */</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a> = (<span class="keywordtype">char</span>*)<a class="code" href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a>((uInt)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a17de1df264e0e162f777f2ae7cef0d55">size_centralheader</a> + zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a885ce2d7f41cbac1a2ef990643e62069">size_centralExtraFree</a>);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ab4c965d0fe696204fe23e4efd0cc2edb">size_centralExtra</a> = size_extrafield_global;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>,(uLong)<a class="code" href="zip_8c.html#a693b6919a7002d5d8f2030ea38bdb745">CENTRALHEADERMAGIC</a>,4);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="comment">/* version info */</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+4,(uLong)versionMadeBy,2);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+6,(uLong)version_to_extract,2);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+8,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">flag</a>,2);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+10,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a>,2);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+12,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa1f0ca7db2e2129524953a29fa822933">dosDate</a>,4);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+16,(uLong)0,4); <span class="comment">/*crc*/</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+20,(uLong)0,4); <span class="comment">/*compr size*/</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+24,(uLong)0,4); <span class="comment">/*uncompr size*/</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+28,(uLong)size_filename,2);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+30,(uLong)size_extrafield_global,2);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+32,(uLong)size_comment,2);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+34,(uLong)0,2); <span class="comment">/*disk nm start*/</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">if</span> (zipfi==NULL)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+36,(uLong)0,2);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+36,(uLong)zipfi-&gt;<a class="code" href="zip_8h.html#a396175a434b86115ce5600ab1dbb1644">internal_fa</a>,2);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">if</span> (zipfi==NULL)</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+38,(uLong)0,4);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+38,(uLong)zipfi-&gt;<a class="code" href="zip_8h.html#ac0be78ded330ffd46815bafc5b6b37bb">external_fa</a>,4);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a6225decff0849b90f09a63addab95c64">pos_local_header</a> &gt;= 0xffffffff)</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+42,(uLong)0xffffffff,4);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <a class="code" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+42,(uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a6225decff0849b90f09a63addab95c64">pos_local_header</a> - zi-&gt;<a class="code" href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">add_position_when_writting_offset</a>,4);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">for</span> (i=0;i&lt;size_filename;i++)</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        *(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+<a class="code" href="zip_8c.html#a1d462da8349d0e3e53ecbaf284336066">SIZECENTRALHEADER</a>+i) = *(filename+i);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">for</span> (i=0;i&lt;size_extrafield_global;i++)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        *(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+<a class="code" href="zip_8c.html#a1d462da8349d0e3e53ecbaf284336066">SIZECENTRALHEADER</a>+size_filename+i) =</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;              *(((<span class="keyword">const</span> <span class="keywordtype">char</span>*)extrafield_global)+i);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">for</span> (i=0;i&lt;size_comment;i++)</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        *(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a>+<a class="code" href="zip_8c.html#a1d462da8349d0e3e53ecbaf284336066">SIZECENTRALHEADER</a>+size_filename+</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;              size_extrafield_global+i) = *(comment+i);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">central_header</a> == NULL)</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a7a86a2252db1151ec7ec91593e38f379">ZIP_INTERNALERROR</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">zip64</a> = zip64;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aadb153e7bdc293b685396e92830ed51e">totalCompressedData</a> = 0;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aeb933f725cb47e023135657e22173c1d">totalUncompressedData</a> = 0;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a45dfe9b2562314f29f7df1bad71da528">pos_zip64extrainfo</a> = 0;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    err = <a class="code" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f">Write_LocalFileHeader</a>(zi, filename, size_extrafield_local,</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                extrafield_local, version_to_extract);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="preprocessor">#ifdef HAVE_BZIP2</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="preprocessor"></span>    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.avail_in = (uInt)0;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.avail_out = (uInt)<a class="code" href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a>;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.next_out = (<span class="keywordtype">char</span>*)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">buffered_data</a>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_in_hi32 = 0;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_in_lo32 = 0;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_out_hi32 = 0;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_out_lo32 = 0;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;#endif</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_in = (uInt)0;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_out = (uInt)<a class="code" href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.next_out = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">buffered_data</a>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_in = 0;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_out = 0;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.data_type = Z_BINARY;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="preprocessor">#ifdef HAVE_BZIP2</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> ((err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) &amp;&amp; (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == Z_DEFLATED || zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == <a class="code" href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a>) &amp;&amp; (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>))</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;#<span class="keywordflow">else</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">if</span> ((err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) &amp;&amp; (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == Z_DEFLATED) &amp;&amp; (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>))</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;#endif</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == Z_DEFLATED)</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.zalloc = (alloc_func)0;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.zfree = (free_func)0;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.opaque = (voidpf)0;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;          <span class="keywordflow">if</span> (windowBits&gt;0)</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;              windowBits = -windowBits;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;          err = deflateInit2(&amp;zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>, level, Z_DEFLATED, windowBits, memLevel, strategy);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;          <span class="keywordflow">if</span> (err==Z_OK)</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;              zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a43c3fdea776df57014ea61d952972b94">stream_initialised</a> = Z_DEFLATED;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == <a class="code" href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a>)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="preprocessor">#ifdef HAVE_BZIP2</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="preprocessor"></span>            <span class="comment">/* Init BZip stuff here */</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.bzalloc = 0;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.bzfree = 0;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.opaque = (voidpf)0;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;          err = BZ2_bzCompressInit(&amp;zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream, level, 0,35);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;          <span class="keywordflow">if</span>(err == BZ_OK)</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a43c3fdea776df57014ea61d952972b94">stream_initialised</a> = <a class="code" href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="preprocessor">#    ifndef NOCRYPT</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="preprocessor"></span>    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a17e9931ff5683fded26eb3d99d80bf0e">crypt_header_size</a> = 0;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">if</span> ((err==Z_OK) &amp;&amp; (password != NULL))</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> bufHead[RAND_HEAD_LEN];</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sizeHead;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ae25bb2a6b1e0b04f60011089db7fa123">encrypt</a> = 1;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a16813802061410c5c34cbd1f441739d8">pcrc_32_tab</a> = get_crc_table();</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="comment">/*init_keys(password,zi-&gt;ci.keys,zi-&gt;ci.pcrc_32_tab);*/</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <span class="keywordflow">if</span> (crcForCrypting == 0) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            crcForCrypting = (uLong)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa1f0ca7db2e2129524953a29fa822933">dosDate</a> &lt;&lt; 16; <span class="comment">/* ATTANTION! Without this row, you don&#39;t unpack your password protected archive in other app. */</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        sizeHead=crypthead(password,bufHead,RAND_HEAD_LEN,zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a1c4fff54045c80444eb155d42f6e58de">keys</a>,zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a16813802061410c5c34cbd1f441739d8">pcrc_32_tab</a>,crcForCrypting);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a17e9931ff5683fded26eb3d99d80bf0e">crypt_header_size</a> = sizeHead;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a>(zi-&gt;<a class="code" href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">z_filefunc</a>,zi-&gt;<a class="code" href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">filestream</a>,bufHead,sizeHead) != sizeHead)</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="preprocessor">#    endif</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">if</span> (err==Z_OK)</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        zi-&gt;<a class="code" href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">in_opened_file_inzip</a> = 1;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a7487c44c33a7aa8d29c640619575a144"><div class="ttname"><a href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144">zip64local_putValue_inmemory</a></div><div class="ttdeci">static void zip64local_putValue_inmemory(void *dest, ZPOS64_T x, int nbByte)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00320">zip.c:320</a></div></div>
<div class="ttc" id="zip_8h_html_ae09a694a598b7507d23705764c9e46fb"><div class="ttname"><a href="zip_8h.html#ae09a694a598b7507d23705764c9e46fb">zip_fileinfo::tmz_date</a></div><div class="ttdeci">tm_zip tmz_date</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00112">zip.h:112</a></div></div>
<div class="ttc" id="zip_8c_html_a944e71daf341a3379fdcc58fb8f68bd9"><div class="ttname"><a href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">curfile64_info::buffered_data</a></div><div class="ttdeci">Byte buffered_data[(64 *1024)]</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00157">zip.c:157</a></div></div>
<div class="ttc" id="zip_8h_html_a5db4ac23b76ba0210b4e6d83c40ef830"><div class="ttname"><a href="zip_8h.html#a5db4ac23b76ba0210b4e6d83c40ef830">ZIP_WRITE_DATA_DESCRIPTOR</a></div><div class="ttdeci">#define ZIP_WRITE_DATA_DESCRIPTOR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00085">zip.h:85</a></div></div>
<div class="ttc" id="zip_8h_html_a7a86a2252db1151ec7ec91593e38f379"><div class="ttname"><a href="zip_8h.html#a7a86a2252db1151ec7ec91593e38f379">ZIP_INTERNALERROR</a></div><div class="ttdeci">#define ZIP_INTERNALERROR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00083">zip.h:83</a></div></div>
<div class="ttc" id="zip_8h_html_ac0be78ded330ffd46815bafc5b6b37bb"><div class="ttname"><a href="zip_8h.html#ac0be78ded330ffd46815bafc5b6b37bb">zip_fileinfo::external_fa</a></div><div class="ttdeci">uLong external_fa</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00117">zip.h:117</a></div></div>
<div class="ttc" id="zip_8c_html_ad86ea5e726a03803f04c05b405af370a"><div class="ttname"><a href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">curfile64_info::raw</a></div><div class="ttdeci">int raw</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00156">zip.c:156</a></div></div>
<div class="ttc" id="zip_8c_html_a1d462da8349d0e3e53ecbaf284336066"><div class="ttname"><a href="zip_8c.html#a1d462da8349d0e3e53ecbaf284336066">SIZECENTRALHEADER</a></div><div class="ttdeci">#define SIZECENTRALHEADER</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00119">zip.c:119</a></div></div>
<div class="ttc" id="zip_8c_html_a1c4fff54045c80444eb155d42f6e58de"><div class="ttname"><a href="zip_8c.html#a1c4fff54045c80444eb155d42f6e58de">curfile64_info::keys</a></div><div class="ttdeci">unsigned long keys[3]</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00166">zip.c:166</a></div></div>
<div class="ttc" id="zip_8c_html_a45dfe9b2562314f29f7df1bad71da528"><div class="ttname"><a href="zip_8c.html#a45dfe9b2562314f29f7df1bad71da528">curfile64_info::pos_zip64extrainfo</a></div><div class="ttdeci">ZPOS64_T pos_zip64extrainfo</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00162">zip.c:162</a></div></div>
<div class="ttc" id="zip_8c_html_aadb153e7bdc293b685396e92830ed51e"><div class="ttname"><a href="zip_8c.html#aadb153e7bdc293b685396e92830ed51e">curfile64_info::totalCompressedData</a></div><div class="ttdeci">ZPOS64_T totalCompressedData</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00163">zip.c:163</a></div></div>
<div class="ttc" id="zip_8c_html_a43c3fdea776df57014ea61d952972b94"><div class="ttname"><a href="zip_8c.html#a43c3fdea776df57014ea61d952972b94">curfile64_info::stream_initialised</a></div><div class="ttdeci">int stream_initialised</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00144">zip.c:144</a></div></div>
<div class="ttc" id="zip_8c_html_a17e9931ff5683fded26eb3d99d80bf0e"><div class="ttname"><a href="zip_8c.html#a17e9931ff5683fded26eb3d99d80bf0e">curfile64_info::crypt_header_size</a></div><div class="ttdeci">int crypt_header_size</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00168">zip.c:168</a></div></div>
<div class="ttc" id="zip_8c_html_a885ce2d7f41cbac1a2ef990643e62069"><div class="ttname"><a href="zip_8c.html#a885ce2d7f41cbac1a2ef990643e62069">curfile64_info::size_centralExtraFree</a></div><div class="ttdeci">uLong size_centralExtraFree</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00152">zip.c:152</a></div></div>
<div class="ttc" id="zip_8c_html_aa24353ae49bce7e6d6aa3f5994782be7"><div class="ttname"><a href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">zip64_internal::in_opened_file_inzip</a></div><div class="ttdeci">int in_opened_file_inzip</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00177">zip.c:177</a></div></div>
<div class="ttc" id="zip_8c_html_a208198f19c7d165203225903455478fd"><div class="ttname"><a href="zip_8c.html#a208198f19c7d165203225903455478fd">curfile64_info::pos_in_buffered_data</a></div><div class="ttdeci">uInt pos_in_buffered_data</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00145">zip.c:145</a></div></div>
<div class="ttc" id="zip_8c_html_a5b451e00303fe5192adf7c1d6740d754"><div class="ttname"><a href="zip_8c.html#a5b451e00303fe5192adf7c1d6740d754">zip64_internal::filestream</a></div><div class="ttdeci">voidpf filestream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00175">zip.c:175</a></div></div>
<div class="ttc" id="unzip_8h_html_ada7b1ad37b9026b52c9f7b10daf448d1"><div class="ttname"><a href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a></div><div class="ttdeci">#define Z_BZIP2ED</div><div class="ttdef"><b>Definition:</b> <a href="unzip_8h_source.html#l00067">unzip.h:67</a></div></div>
<div class="ttc" id="zip_8c_html_a388120a043a52c734276c24c47dbc1fa"><div class="ttname"><a href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">zip64_internal::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00188">zip.c:188</a></div></div>
<div class="ttc" id="zip_8c_html_a16813802061410c5c34cbd1f441739d8"><div class="ttname"><a href="zip_8c.html#a16813802061410c5c34cbd1f441739d8">curfile64_info::pcrc_32_tab</a></div><div class="ttdeci">const z_crc_t FAR * pcrc_32_tab</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00167">zip.c:167</a></div></div>
<div class="ttc" id="zip_8c_html_ae25bb2a6b1e0b04f60011089db7fa123"><div class="ttname"><a href="zip_8c.html#ae25bb2a6b1e0b04f60011089db7fa123">curfile64_info::encrypt</a></div><div class="ttdeci">int encrypt</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00160">zip.c:160</a></div></div>
<div class="ttc" id="zip_8c_html_a74984ae4b2cdc5b5eade871ee61b2261"><div class="ttname"><a href="zip_8c.html#a74984ae4b2cdc5b5eade871ee61b2261">zip64_internal::add_position_when_writting_offset</a></div><div class="ttdeci">ZPOS64_T add_position_when_writting_offset</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00181">zip.c:181</a></div></div>
<div class="ttc" id="zip_8h_html_a0541c57e59450fbc17b2f898ca4bc9e8"><div class="ttname"><a href="zip_8h.html#a0541c57e59450fbc17b2f898ca4bc9e8">zip_fileinfo::dosDate</a></div><div class="ttdeci">uLong dosDate</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00113">zip.h:113</a></div></div>
<div class="ttc" id="zip_8c_html_a037626935aca46ac3a5397dd61297783"><div class="ttname"><a href="zip_8c.html#a037626935aca46ac3a5397dd61297783">zip64local_TmzDateToDosDate</a></div><div class="ttdeci">static uLong zip64local_TmzDateToDosDate(const tm_zip *ptm)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00341">zip.c:341</a></div></div>
<div class="ttc" id="zip_8c_html_aa15643650c3d8564776ea87873134364"><div class="ttname"><a href="zip_8c.html#aa15643650c3d8564776ea87873134364">curfile64_info::crc32</a></div><div class="ttdeci">uLong crc32</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00159">zip.c:159</a></div></div>
<div class="ttc" id="zip_8c_html_a1c9fb1f116f655bd474a19d383f9b89f"><div class="ttname"><a href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f">Write_LocalFileHeader</a></div><div class="ttdeci">int Write_LocalFileHeader(zip64_internal *zi, const char *filename, uInt size_extrafield_local, const void *extrafield_local, uLong version_to_extract)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00977">zip.c:977</a></div></div>
<div class="ttc" id="zip_8c_html_a1491823e6cf52e751120f367bdc68a00"><div class="ttname"><a href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a></div><div class="ttdeci">#define Z_BUFSIZE</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00060">zip.c:60</a></div></div>
<div class="ttc" id="zip_8c_html_ab4c965d0fe696204fe23e4efd0cc2edb"><div class="ttname"><a href="zip_8c.html#ab4c965d0fe696204fe23e4efd0cc2edb">curfile64_info::size_centralExtra</a></div><div class="ttdeci">uLong size_centralExtra</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00150">zip.c:150</a></div></div>
<div class="ttc" id="zip_8c_html_a765936b069e6e2be6d85589614af8583"><div class="ttname"><a href="zip_8c.html#a765936b069e6e2be6d85589614af8583">curfile64_info::stream</a></div><div class="ttdeci">z_stream stream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00139">zip.c:139</a></div></div>
<div class="ttc" id="zip_8c_html_aa090dd081d0cf805614041c6a5a4438f"><div class="ttname"><a href="zip_8c.html#aa090dd081d0cf805614041c6a5a4438f">curfile64_info::central_header</a></div><div class="ttdeci">char * central_header</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00149">zip.c:149</a></div></div>
<div class="ttc" id="zip_8c_html_ac4ccb50738cbefbd40e075b297c65548"><div class="ttname"><a href="zip_8c.html#ac4ccb50738cbefbd40e075b297c65548">zip64_internal::z_filefunc</a></div><div class="ttdeci">zlib_filefunc64_32_def z_filefunc</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00174">zip.c:174</a></div></div>
<div class="ttc" id="ioapi_8h_html_ac849fcd066ac44109dfb95a1c5fd494c"><div class="ttname"><a href="ioapi_8h.html#ac849fcd066ac44109dfb95a1c5fd494c">ZTELL64</a></div><div class="ttdeci">#define ZTELL64(filefunc, filestream)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00200">ioapi.h:200</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="zip_8c_html_aa1f0ca7db2e2129524953a29fa822933"><div class="ttname"><a href="zip_8c.html#aa1f0ca7db2e2129524953a29fa822933">curfile64_info::dosDate</a></div><div class="ttdeci">uLong dosDate</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00158">zip.c:158</a></div></div>
<div class="ttc" id="zip_8c_html_structzip64__internal"><div class="ttname"><a href="zip_8c.html#structzip64__internal">zip64_internal</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00172">zip.c:172</a></div></div>
<div class="ttc" id="zip_8h_html_a292dcf8769c6dd30324cae5abea8784e"><div class="ttname"><a href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a></div><div class="ttdeci">#define ZIP_PARAMERROR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00081">zip.h:81</a></div></div>
<div class="ttc" id="zip_8c_html_ac5c822e3692a95451e8f70a5916f05a3"><div class="ttname"><a href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a></div><div class="ttdeci">#define ALLOC(size)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00068">zip.c:68</a></div></div>
<div class="ttc" id="zip_8c_html_a9d4baf5968e4cb192060bcba2d039282"><div class="ttname"><a href="zip_8c.html#a9d4baf5968e4cb192060bcba2d039282">curfile64_info::flag</a></div><div class="ttdeci">uLong flag</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00153">zip.c:153</a></div></div>
<div class="ttc" id="zip_8c_html_a05bf290332d456dbecee6d870a3b6559"><div class="ttname"><a href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">zip64_internal::ci</a></div><div class="ttdeci">curfile64_info ci</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00178">zip.c:178</a></div></div>
<div class="ttc" id="zip_8h_html_a270111b3810ccd2d4e17bbf4f56f1adf"><div class="ttname"><a href="zip_8h.html#a270111b3810ccd2d4e17bbf4f56f1adf">ZIP_SEQUENTIAL</a></div><div class="ttdeci">#define ZIP_SEQUENTIAL</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00087">zip.h:87</a></div></div>
<div class="ttc" id="zip_8h_html_a396175a434b86115ce5600ab1dbb1644"><div class="ttname"><a href="zip_8h.html#a396175a434b86115ce5600ab1dbb1644">zip_fileinfo::internal_fa</a></div><div class="ttdeci">uLong internal_fa</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00116">zip.h:116</a></div></div>
<div class="ttc" id="zip_8c_html_ae470f753aef4cffe4f77a5ec2bcfbde1"><div class="ttname"><a href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1">zipCloseFileInZip</a></div><div class="ttdeci">int ZEXPORT zipCloseFileInZip(zipFile file)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01810">zip.c:1810</a></div></div>
<div class="ttc" id="zip_8c_html_a17de1df264e0e162f777f2ae7cef0d55"><div class="ttname"><a href="zip_8c.html#a17de1df264e0e162f777f2ae7cef0d55">curfile64_info::size_centralheader</a></div><div class="ttdeci">uLong size_centralheader</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00151">zip.c:151</a></div></div>
<div class="ttc" id="zip_8c_html_aeb933f725cb47e023135657e22173c1d"><div class="ttname"><a href="zip_8c.html#aeb933f725cb47e023135657e22173c1d">curfile64_info::totalUncompressedData</a></div><div class="ttdeci">ZPOS64_T totalUncompressedData</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00164">zip.c:164</a></div></div>
<div class="ttc" id="zip_8c_html_ad8f4cd023ee61e46aac147d266be0538"><div class="ttname"><a href="zip_8c.html#ad8f4cd023ee61e46aac147d266be0538">curfile64_info::zip64</a></div><div class="ttdeci">int zip64</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00161">zip.c:161</a></div></div>
<div class="ttc" id="zip_8c_html_afc121266093b2d0e27f309dc4dc8cd2f"><div class="ttname"><a href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">curfile64_info::method</a></div><div class="ttdeci">int method</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00155">zip.c:155</a></div></div>
<div class="ttc" id="ioapi_8h_html_ada98b2bb422c21c8c22b1cc6e305e7d3"><div class="ttname"><a href="ioapi_8h.html#ada98b2bb422c21c8c22b1cc6e305e7d3">ZWRITE64</a></div><div class="ttdeci">#define ZWRITE64(filefunc, filestream, buf, size)</div><div class="ttdef"><b>Definition:</b> <a href="ioapi_8h_source.html#l00186">ioapi.h:186</a></div></div>
<div class="ttc" id="zip_8c_html_a693b6919a7002d5d8f2030ea38bdb745"><div class="ttname"><a href="zip_8c.html#a693b6919a7002d5d8f2030ea38bdb745">CENTRALHEADERMAGIC</a></div><div class="ttdeci">#define CENTRALHEADERMAGIC</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00111">zip.c:111</a></div></div>
<div class="ttc" id="zip_8c_html_a6225decff0849b90f09a63addab95c64"><div class="ttname"><a href="zip_8c.html#a6225decff0849b90f09a63addab95c64">curfile64_info::pos_local_header</a></div><div class="ttdeci">ZPOS64_T pos_local_header</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00147">zip.c:147</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-61" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a638e4d5a7305f25e1ef6c2f6f14e2861_cgraph.png" border="0" usemap="#zip_8c_a638e4d5a7305f25e1ef6c2f6f14e2861_cgraph" alt=""/></div>
<map name="zip_8c_a638e4d5a7305f25e1ef6c2f6f14e2861_cgraph" id="zip_8c_a638e4d5a7305f25e1ef6c2f6f14e2861_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f" title="Write_LocalFileHeader" alt="" coords="485,31,640,57"/><area shape="rect" id="node4" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="909,158,1048,199"/><area shape="rect" id="node5" href="zip_8c.html#a037626935aca46ac3a5397dd61297783" title="zip64local_TmzDateToDosDate" alt="" coords="229,183,437,209"/><area shape="rect" id="node6" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="272,81,395,108"/><area shape="rect" id="node3" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="909,5,1048,32"/><area shape="rect" id="node7" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="487,81,638,108"/><area shape="rect" id="node8" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="689,81,853,108"/><area shape="rect" id="node9" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="901,56,1056,83"/><area shape="rect" id="node11" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="903,107,1054,133"/><area shape="rect" id="node10" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="1105,56,1266,83"/></map>
</div>
</p>

<p><div id="dynsection-62" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-62-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-62-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-62-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a638e4d5a7305f25e1ef6c2f6f14e2861_icgraph.png" border="0" usemap="#zip_8c_a638e4d5a7305f25e1ef6c2f6f14e2861_icgraph" alt=""/></div>
<map name="zip_8c_a638e4d5a7305f25e1ef6c2f6f14e2861_icgraph" id="zip_8c_a638e4d5a7305f25e1ef6c2f6f14e2861_icgraph">
<area shape="rect" id="node2" href="zip_8c.html#a14cf664b19f00f41f6865a7c3173e973" title="zipOpenNewFileInZip" alt="" coords="244,5,391,32"/><area shape="rect" id="node3" href="zip_8c.html#ae3c822f7ddf7c351e7a6c633ed1590d4" title="zipOpenNewFileInZip2" alt="" coords="240,56,395,83"/><area shape="rect" id="node4" href="zip_8c.html#ad975ed2489784c4ae4847d75bc3fc7bc" title="zipOpenNewFileInZip2_64" alt="" coords="230,107,405,133"/><area shape="rect" id="node5" href="zip_8c.html#a6b17cc2fa173054a156218befe2b31f5" title="zipOpenNewFileInZip3" alt="" coords="240,157,395,184"/><area shape="rect" id="node6" href="zip_8c.html#adef753bf5ddc5752d6069a2d4f3ca0e9" title="zipOpenNewFileInZip3_64" alt="" coords="230,208,405,235"/><area shape="rect" id="node8" href="zip_8c.html#a18b74c0699d8c456b405a0fa43a322e8" title="zipOpenNewFileInZip4" alt="" coords="240,259,395,285"/><area shape="rect" id="node9" href="zip_8c.html#a180a6d99515153ada3b58349fcee6a4c" title="zipOpenNewFileInZip64" alt="" coords="237,309,398,336"/><area shape="rect" id="node7" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="454,208,575,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a180a6d99515153ada3b58349fcee6a4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipOpenNewFileInZip64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="zip_8h.html#structzip__fileinfo">zip_fileinfo</a> *&#160;</td>
          <td class="paramname"><em>zipfi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uInt&#160;</td>
          <td class="paramname"><em>size_extrafield_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>comment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>zip64</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01377">1377</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8h_source.html#l00094">DEF_MEM_LEVEL</a>, <a class="el" href="zip_8c_source.html#l00056">VERSIONMADEBY</a>, and <a class="el" href="zip_8c_source.html#l01077">zipOpenNewFileInZip4_64()</a>.</p>
<div class="fragment"><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;{</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a> (file, filename, zipfi,</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                 extrafield_local, size_extrafield_local,</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                                 extrafield_global, size_extrafield_global,</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                                 comment, method, level, 0,</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                                 -MAX_WBITS, <a class="code" href="zip_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a>, Z_DEFAULT_STRATEGY,</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                 NULL, 0, <a class="code" href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a>, 0, zip64);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a19c8e60fa32d4ddf303ce988ba97af61"><div class="ttname"><a href="zip_8h.html#a19c8e60fa32d4ddf303ce988ba97af61">DEF_MEM_LEVEL</a></div><div class="ttdeci">#define DEF_MEM_LEVEL</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00094">zip.h:94</a></div></div>
<div class="ttc" id="zip_8c_html_a0887c08f255f7a753b460e30ed14a3cf"><div class="ttname"><a href="zip_8c.html#a0887c08f255f7a753b460e30ed14a3cf">VERSIONMADEBY</a></div><div class="ttdeci">#define VERSIONMADEBY</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00056">zip.c:56</a></div></div>
<div class="ttc" id="zip_8c_html_a638e4d5a7305f25e1ef6c2f6f14e2861"><div class="ttname"><a href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861">zipOpenNewFileInZip4_64</a></div><div class="ttdeci">int ZEXPORT zipOpenNewFileInZip4_64(zipFile file, const char *filename, const zip_fileinfo *zipfi, const void *extrafield_local, uInt size_extrafield_local, const void *extrafield_global, uInt size_extrafield_global, const char *comment, int method, int level, int raw, int windowBits, int memLevel, int strategy, const char *password, uLong crcForCrypting, uLong versionMadeBy, uLong flagBase, int zip64)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01077">zip.c:1077</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-63" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-63-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-63-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-63-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a180a6d99515153ada3b58349fcee6a4c_cgraph.png" border="0" usemap="#zip_8c_a180a6d99515153ada3b58349fcee6a4c_cgraph" alt=""/></div>
<map name="zip_8c_a180a6d99515153ada3b58349fcee6a4c_cgraph" id="zip_8c_a180a6d99515153ada3b58349fcee6a4c_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a638e4d5a7305f25e1ef6c2f6f14e2861" title="zipOpenNewFileInZip4_64" alt="" coords="217,107,391,133"/><area shape="rect" id="node3" href="zip_8c.html#a1c9fb1f116f655bd474a19d383f9b89f" title="Write_LocalFileHeader" alt="" coords="696,31,851,57"/><area shape="rect" id="node5" href="zip_8c.html#a7487c44c33a7aa8d29c640619575a144" title="zip64local_putValue\l_inmemory" alt="" coords="1120,158,1259,199"/><area shape="rect" id="node6" href="zip_8c.html#a037626935aca46ac3a5397dd61297783" title="zip64local_TmzDateToDosDate" alt="" coords="440,183,648,209"/><area shape="rect" id="node7" href="zip_8c.html#ae470f753aef4cffe4f77a5ec2bcfbde1" title="zipCloseFileInZip" alt="" coords="483,81,605,108"/><area shape="rect" id="node4" href="zip_8c.html#aed1106d32873a7959b923bbb5d444f8b" title="zip64local_putValue" alt="" coords="1120,5,1259,32"/><area shape="rect" id="node8" href="zip_8c.html#a43fe6f36cef62c7f34c0fdb4c8288b87" title="zipCloseFileInZipRaw" alt="" coords="698,81,849,108"/><area shape="rect" id="node9" href="zip_8c.html#a3bed1cfe7ae981d2a433a1dbdb2cc436" title="zipCloseFileInZipRaw64" alt="" coords="899,81,1063,108"/><area shape="rect" id="node10" href="zip_8c.html#af027310aec51b70ed53bc0bda4392ede" title="add_data_in_datablock" alt="" coords="1112,56,1267,83"/><area shape="rect" id="node12" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="1114,107,1265,133"/><area shape="rect" id="node11" href="zip_8c.html#a904f85612fbfecc3a5238535e7a34cc6" title="allocate_new_datablock" alt="" coords="1315,56,1477,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3b7ef1d8f1f51aaa417830ded3a39ab7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipRemoveExtraInfoBlock </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>sHeader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l02019">2019</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00068">ALLOC</a>, <a class="el" href="zip_8c_source.html#l00071">TRYFREE</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, and <a class="el" href="zip_8h_source.html#l00081">ZIP_PARAMERROR</a>.</p>
<div class="fragment"><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;{</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="keywordtype">char</span>* p = pData;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  <span class="keywordtype">int</span> size = 0;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  <span class="keywordtype">char</span>* pNewHeader;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="keywordtype">char</span>* pTmp;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <span class="keywordtype">short</span> header;</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  <span class="keywordtype">short</span> dataSize;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="keywordtype">int</span> retVal = <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="keywordflow">if</span>(pData == NULL || *dataLen &lt; 4)</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  pNewHeader = (<span class="keywordtype">char</span>*)<a class="code" href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a>(*dataLen);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  pTmp = pNewHeader;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">while</span>(p &lt; (pData + *dataLen))</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  {</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    header = *(<span class="keywordtype">short</span>*)p;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    dataSize = *(((<span class="keywordtype">short</span>*)p)+1);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">if</span>( header == sHeader ) <span class="comment">/* Header found. */</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      p += dataSize + 4; <span class="comment">/* skip it. do not copy to temp buffer */</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    }</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="comment">/* Extra Info block should not be removed, So copy it to the temp buffer. */</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      memcpy(pTmp, p, dataSize + 4);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      p += dataSize + 4;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      size += dataSize + 4;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    }</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  }</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <span class="keywordflow">if</span>(size &lt; *dataLen)</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="comment">/* clean old extra info block. */</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    memset(pData,0, *dataLen);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="comment">/* copy the new extra info block over the old */</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <span class="keywordflow">if</span>(size &gt; 0)</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      memcpy(pData, pNewHeader, size);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="comment">/* set the new extra info size */</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    *dataLen = size;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    retVal = <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    retVal = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <a class="code" href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a>(pNewHeader);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordflow">return</span> retVal;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a5fb23c00a00f3856832e660edc2ab03d"><div class="ttname"><a href="zip_8c.html#a5fb23c00a00f3856832e660edc2ab03d">TRYFREE</a></div><div class="ttdeci">#define TRYFREE(p)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00071">zip.c:71</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="zip_8h_html_a292dcf8769c6dd30324cae5abea8784e"><div class="ttname"><a href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a></div><div class="ttdeci">#define ZIP_PARAMERROR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00081">zip.h:81</a></div></div>
<div class="ttc" id="zip_8c_html_ac5c822e3692a95451e8f70a5916f05a3"><div class="ttname"><a href="zip_8c.html#ac5c822e3692a95451e8f70a5916f05a3">ALLOC</a></div><div class="ttdeci">#define ALLOC(size)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00068">zip.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a697bb6dde7f8267f764a85a4367d75dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipSetFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l02077">2077</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00188">zip64_internal::flags</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, <a class="el" href="zip_8h_source.html#l00081">ZIP_PARAMERROR</a>, <a class="el" href="zip_8h_source.html#l00087">ZIP_SEQUENTIAL</a>, and <a class="el" href="zip_8h_source.html#l00085">ZIP_WRITE_DATA_DESCRIPTOR</a>.</p>

<p>Referenced by <a class="el" href="quazip_8cpp_source.html#l00215">QuaZip::open()</a>, and <a class="el" href="quazipfile_8cpp_source.html#l00275">QuaZipFile::open()</a>.</p>
<div class="fragment"><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;{</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>* zi;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    zi = (<a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>*)file;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> |= flags;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="comment">// If the output is non-seekable, the data descriptor is needed.</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> &amp; <a class="code" href="zip_8h.html#a270111b3810ccd2d4e17bbf4f56f1adf">ZIP_SEQUENTIAL</a>) != 0) {</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        zi-&gt;<a class="code" href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">flags</a> |= <a class="code" href="zip_8h.html#a5db4ac23b76ba0210b4e6d83c40ef830">ZIP_WRITE_DATA_DESCRIPTOR</a>;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    }</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8h_html_a5db4ac23b76ba0210b4e6d83c40ef830"><div class="ttname"><a href="zip_8h.html#a5db4ac23b76ba0210b4e6d83c40ef830">ZIP_WRITE_DATA_DESCRIPTOR</a></div><div class="ttdeci">#define ZIP_WRITE_DATA_DESCRIPTOR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00085">zip.h:85</a></div></div>
<div class="ttc" id="zip_8c_html_a388120a043a52c734276c24c47dbc1fa"><div class="ttname"><a href="zip_8c.html#a388120a043a52c734276c24c47dbc1fa">zip64_internal::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00188">zip.c:188</a></div></div>
<div class="ttc" id="zip_8c_html_structzip64__internal"><div class="ttname"><a href="zip_8c.html#structzip64__internal">zip64_internal</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00172">zip.c:172</a></div></div>
<div class="ttc" id="zip_8h_html_a292dcf8769c6dd30324cae5abea8784e"><div class="ttname"><a href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a></div><div class="ttdeci">#define ZIP_PARAMERROR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00081">zip.h:81</a></div></div>
<div class="ttc" id="zip_8h_html_a270111b3810ccd2d4e17bbf4f56f1adf"><div class="ttname"><a href="zip_8h.html#a270111b3810ccd2d4e17bbf4f56f1adf">ZIP_SEQUENTIAL</a></div><div class="ttdeci">#define ZIP_SEQUENTIAL</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00087">zip.h:87</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-64" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-64-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-64-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-64-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_a697bb6dde7f8267f764a85a4367d75dd_icgraph.png" border="0" usemap="#zip_8c_a697bb6dde7f8267f764a85a4367d75dd_icgraph" alt=""/></div>
<map name="zip_8c_a697bb6dde7f8267f764a85a4367d75dd_icgraph" id="zip_8c_a697bb6dde7f8267f764a85a4367d75dd_icgraph">
<area shape="rect" id="node2" href="classQuaZip.html#abfa4e6018b2964a3d10a4c54e5ab3962" title="Opens ZIP file. " alt="" coords="155,215,255,241"/><area shape="rect" id="node17" href="classQuaZipFile.html#af3c45f6d1963610a60331969fa3fd357" title="Opens a file for writing. " alt="" coords="145,265,266,292"/><area shape="rect" id="node3" href="classKbFirmware.html#ae5f3c91fcf3fe8fe55e2c1e3cea877eb" title="KbFirmware::_fileForBoard" alt="" coords="319,12,497,39"/><area shape="rect" id="node9" href="classJlCompress.html#a4a4de9c62ecf161bb658d4d80495ea97" title="Compress a single file. " alt="" coords="319,63,497,89"/><area shape="rect" id="node10" href="classJlCompress.html#a9cdb92d29a94c6b13a718a3249685846" title="Compress a list of files. " alt="" coords="315,113,501,140"/><area shape="rect" id="node11" href="classJlCompress.html#a8708eafcadc5c192a1d492e784cfc98f" title="Compress a whole directory. " alt="" coords="321,164,495,191"/><area shape="rect" id="node12" href="classJlCompress.html#a38c0d58bfe3bbbcb3cf4e98d126633a3" title="Extract a single file. " alt="" coords="327,215,489,241"/><area shape="rect" id="node13" href="classJlCompress.html#a309e9ee366719a4d8aa28f837fab73ae" title="Extract a list of files. " alt="" coords="324,265,492,292"/><area shape="rect" id="node14" href="classJlCompress.html#a365a153baa4c11812d93cbca60b6a293" title="Extract a whole archive. " alt="" coords="329,316,487,343"/><area shape="rect" id="node15" href="classJlCompress.html#ab42422be913f817d7e04c1b1cd5d0156" title="Get the file list. " alt="" coords="328,367,488,393"/><area shape="rect" id="node16" href="classQuaZipFile.html#aed75bace51f2bb4c3e4f656ab4493aac" title="Opens a file for reading. " alt="" coords="347,417,469,444"/><area shape="rect" id="node4" href="classKbFirmware.html#a1cc600d07217f327a1541a44d353004c" title="KbFirmware::dataForBoard" alt="" coords="549,12,728,39"/><area shape="rect" id="node5" href="classFwUpgradeDialog.html#a1fd1f6f1285ab4998a7c81e2ee118d54" title="FwUpgradeDialog::exec" alt="" coords="776,12,939,39"/><area shape="rect" id="node6" href="classKbWidget.html#a38c9f29a5d8f1edfcb5f8040de3dadb9" title="KbWidget::on_fwUpdButton\l_clicked" alt="" coords="987,5,1171,46"/><area shape="rect" id="node7" href="classKbWidget.html#a428930086336c668e8a1055c21c938d9" title="KbWidget::showFwUpdate" alt="" coords="1219,12,1397,39"/><area shape="rect" id="node8" href="classMainWindow.html#ae50767c4ed6029f63ebacfffde4bc802" title="MainWindow::showFwUpdate\lNotification" alt="" coords="1446,5,1642,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acc932f54d0746b26f428660c92029a9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZEXPORT zipWriteInFileInZip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zip_8h.html#af69b9a5ea9aaf8e8f0b7681e451b224c">zipFile</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l01442">1442</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

<p>References <a class="el" href="zip_8c_source.html#l00157">curfile64_info::buffered_data</a>, <a class="el" href="zip_8c_source.html#l00178">zip64_internal::ci</a>, <a class="el" href="zip_8c_source.html#l00159">curfile64_info::crc32</a>, <a class="el" href="zip_8c_source.html#l00177">zip64_internal::in_opened_file_inzip</a>, <a class="el" href="zip_8c_source.html#l00155">curfile64_info::method</a>, <a class="el" href="zip_8c_source.html#l00145">curfile64_info::pos_in_buffered_data</a>, <a class="el" href="zip_8c_source.html#l00156">curfile64_info::raw</a>, <a class="el" href="zip_8c_source.html#l00139">curfile64_info::stream</a>, <a class="el" href="zip_8c_source.html#l00060">Z_BUFSIZE</a>, <a class="el" href="unzip_8h_source.html#l00067">Z_BZIP2ED</a>, <a class="el" href="zip_8c_source.html#l01403">zip64FlushWriteBuffer()</a>, <a class="el" href="zip_8h_source.html#l00080">ZIP_ERRNO</a>, <a class="el" href="zip_8h_source.html#l00078">ZIP_OK</a>, and <a class="el" href="zip_8h_source.html#l00081">ZIP_PARAMERROR</a>.</p>

<p>Referenced by <a class="el" href="quazipfile_8cpp_source.html#l00468">QuaZipFile::writeData()</a>.</p>
<div class="fragment"><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;{</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>* zi;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordtype">int</span> err=<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">if</span> (file == NULL)</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    zi = (<a class="code" href="zip_8c.html#structzip64__internal">zip64_internal</a>*)file;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">in_opened_file_inzip</a> == 0)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa15643650c3d8564776ea87873134364">crc32</a> = crc32(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#aa15643650c3d8564776ea87873134364">crc32</a>,buf,(uInt)len);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="preprocessor">#ifdef HAVE_BZIP2</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span>(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == <a class="code" href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a> &amp;&amp; (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>))</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.next_in = (<span class="keywordtype">void</span>*)buf;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.avail_in = len;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      err = BZ_RUN_OK;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <span class="keywordflow">while</span> ((err==BZ_RUN_OK) &amp;&amp; (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.avail_in&gt;0))</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.avail_out == 0)</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659">zip64FlushWriteBuffer</a>(zi) == <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>)</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.avail_out = (uInt)<a class="code" href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.next_out = (<span class="keywordtype">char</span>*)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">buffered_data</a>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">if</span>(err != BZ_RUN_OK)</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == <a class="code" href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a>) &amp;&amp; (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>))</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;          uLong uTotalOutBefore_lo = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_out_lo32;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="comment">/*          uLong uTotalOutBefore_hi = zi-&gt;ci.bstream.total_out_hi32; */</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;          err=BZ2_bzCompress(&amp;zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream,  BZ_RUN);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;          zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a> += (uInt)(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.bstream.total_out_lo32 - uTotalOutBefore_lo) ;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        }</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      }</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <span class="keywordflow">if</span>(err == BZ_RUN_OK)</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        err = <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    }</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="preprocessor"></span>    {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.next_in = (Bytef*)buf;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_in = len;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="keywordflow">while</span> ((err==<a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>) &amp;&amp; (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_in&gt;0))</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;          <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_out == 0)</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;          {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659">zip64FlushWriteBuffer</a>(zi) == <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>)</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                  err = <a class="code" href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;              zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_out = (uInt)<a class="code" href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;              zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.next_out = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">buffered_data</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;          }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;          <span class="keywordflow">if</span>(err != <a class="code" href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a>)</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;          <span class="keywordflow">if</span> ((zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">method</a> == Z_DEFLATED) &amp;&amp; (!zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">raw</a>))</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;          {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;              uLong uTotalOutBefore = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_out;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;              err=deflate(&amp;zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>,  Z_NO_FLUSH);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;              <span class="keywordflow">if</span>(uTotalOutBefore &gt; zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_out)</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;              {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                <span class="keywordtype">int</span> bBreak = 0;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                bBreak++;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;              }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;              zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a> += (uInt)(zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_out - uTotalOutBefore) ;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;          }</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;          {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;              uInt copy_this,i;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;              <span class="keywordflow">if</span> (zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_in &lt; zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_out)</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                  copy_this = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_in;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                  copy_this = zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_out;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;              <span class="keywordflow">for</span> (i = 0; i &lt; copy_this; i++)</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                  *(((<span class="keywordtype">char</span>*)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.next_out)+i) =</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                      *(((<span class="keyword">const</span> <span class="keywordtype">char</span>*)zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.next_in)+i);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;              {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                  zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_in -= copy_this;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                  zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.avail_out-= copy_this;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                  zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.next_in+= copy_this;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                  zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.next_out+= copy_this;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                  zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_in+= copy_this;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                  zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a765936b069e6e2be6d85589614af8583">stream</a>.total_out+= copy_this;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                  zi-&gt;<a class="code" href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">ci</a>.<a class="code" href="zip_8c.html#a208198f19c7d165203225903455478fd">pos_in_buffered_data</a> += copy_this;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;              }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;          }</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      }<span class="comment">/* while(...) */</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;}</div>
<div class="ttc" id="zip_8h_html_a394355d595e63f49e769ecd250222336"><div class="ttname"><a href="zip_8h.html#a394355d595e63f49e769ecd250222336">ZIP_OK</a></div><div class="ttdeci">#define ZIP_OK</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00078">zip.h:78</a></div></div>
<div class="ttc" id="zip_8c_html_a944e71daf341a3379fdcc58fb8f68bd9"><div class="ttname"><a href="zip_8c.html#a944e71daf341a3379fdcc58fb8f68bd9">curfile64_info::buffered_data</a></div><div class="ttdeci">Byte buffered_data[(64 *1024)]</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00157">zip.c:157</a></div></div>
<div class="ttc" id="zip_8c_html_ad86ea5e726a03803f04c05b405af370a"><div class="ttname"><a href="zip_8c.html#ad86ea5e726a03803f04c05b405af370a">curfile64_info::raw</a></div><div class="ttdeci">int raw</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00156">zip.c:156</a></div></div>
<div class="ttc" id="zip_8c_html_aa24353ae49bce7e6d6aa3f5994782be7"><div class="ttname"><a href="zip_8c.html#aa24353ae49bce7e6d6aa3f5994782be7">zip64_internal::in_opened_file_inzip</a></div><div class="ttdeci">int in_opened_file_inzip</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00177">zip.c:177</a></div></div>
<div class="ttc" id="zip_8c_html_a208198f19c7d165203225903455478fd"><div class="ttname"><a href="zip_8c.html#a208198f19c7d165203225903455478fd">curfile64_info::pos_in_buffered_data</a></div><div class="ttdeci">uInt pos_in_buffered_data</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00145">zip.c:145</a></div></div>
<div class="ttc" id="unzip_8h_html_ada7b1ad37b9026b52c9f7b10daf448d1"><div class="ttname"><a href="unzip_8h.html#ada7b1ad37b9026b52c9f7b10daf448d1">Z_BZIP2ED</a></div><div class="ttdeci">#define Z_BZIP2ED</div><div class="ttdef"><b>Definition:</b> <a href="unzip_8h_source.html#l00067">unzip.h:67</a></div></div>
<div class="ttc" id="zip_8c_html_aa15643650c3d8564776ea87873134364"><div class="ttname"><a href="zip_8c.html#aa15643650c3d8564776ea87873134364">curfile64_info::crc32</a></div><div class="ttdeci">uLong crc32</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00159">zip.c:159</a></div></div>
<div class="ttc" id="zip_8c_html_a1491823e6cf52e751120f367bdc68a00"><div class="ttname"><a href="zip_8c.html#a1491823e6cf52e751120f367bdc68a00">Z_BUFSIZE</a></div><div class="ttdeci">#define Z_BUFSIZE</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00060">zip.c:60</a></div></div>
<div class="ttc" id="zip_8c_html_a765936b069e6e2be6d85589614af8583"><div class="ttname"><a href="zip_8c.html#a765936b069e6e2be6d85589614af8583">curfile64_info::stream</a></div><div class="ttdeci">z_stream stream</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00139">zip.c:139</a></div></div>
<div class="ttc" id="zip_8h_html_a94d5d490eddae7316ed282729fdc4bf2"><div class="ttname"><a href="zip_8h.html#a94d5d490eddae7316ed282729fdc4bf2">ZIP_ERRNO</a></div><div class="ttdeci">#define ZIP_ERRNO</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00080">zip.h:80</a></div></div>
<div class="ttc" id="zip_8c_html_a9c5b2c3f96ae2bf9006a86beb31eb659"><div class="ttname"><a href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659">zip64FlushWriteBuffer</a></div><div class="ttdeci">static int zip64FlushWriteBuffer(zip64_internal *zi)</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l01403">zip.c:1403</a></div></div>
<div class="ttc" id="zip_8c_html_structzip64__internal"><div class="ttname"><a href="zip_8c.html#structzip64__internal">zip64_internal</a></div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00172">zip.c:172</a></div></div>
<div class="ttc" id="zip_8h_html_a292dcf8769c6dd30324cae5abea8784e"><div class="ttname"><a href="zip_8h.html#a292dcf8769c6dd30324cae5abea8784e">ZIP_PARAMERROR</a></div><div class="ttdeci">#define ZIP_PARAMERROR</div><div class="ttdef"><b>Definition:</b> <a href="zip_8h_source.html#l00081">zip.h:81</a></div></div>
<div class="ttc" id="zip_8c_html_a05bf290332d456dbecee6d870a3b6559"><div class="ttname"><a href="zip_8c.html#a05bf290332d456dbecee6d870a3b6559">zip64_internal::ci</a></div><div class="ttdeci">curfile64_info ci</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00178">zip.c:178</a></div></div>
<div class="ttc" id="zip_8c_html_afc121266093b2d0e27f309dc4dc8cd2f"><div class="ttname"><a href="zip_8c.html#afc121266093b2d0e27f309dc4dc8cd2f">curfile64_info::method</a></div><div class="ttdeci">int method</div><div class="ttdef"><b>Definition:</b> <a href="zip_8c_source.html#l00155">zip.c:155</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-65" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-65-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-65-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-65-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_acc932f54d0746b26f428660c92029a9f_cgraph.png" border="0" usemap="#zip_8c_acc932f54d0746b26f428660c92029a9f_cgraph" alt=""/></div>
<map name="zip_8c_acc932f54d0746b26f428660c92029a9f_cgraph" id="zip_8c_acc932f54d0746b26f428660c92029a9f_cgraph">
<area shape="rect" id="node2" href="zip_8c.html#a9c5b2c3f96ae2bf9006a86beb31eb659" title="zip64FlushWriteBuffer" alt="" coords="185,5,335,32"/></map>
</div>
</p>

<p><div id="dynsection-66" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-66-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-66-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-66-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zip_8c_acc932f54d0746b26f428660c92029a9f_icgraph.png" border="0" usemap="#zip_8c_acc932f54d0746b26f428660c92029a9f_icgraph" alt=""/></div>
<map name="zip_8c_acc932f54d0746b26f428660c92029a9f_icgraph" id="zip_8c_acc932f54d0746b26f428660c92029a9f_icgraph">
<area shape="rect" id="node2" href="classQuaZipFile.html#abd07949a6fcc2ef094d2be5398bc8e7c" title="Implementation of the QIODevice::writeData(). " alt="" coords="184,5,333,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a2f04ce339195ade34f75dcba39524570"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char zip_copyright[] =&quot; zip 1.01 Copyright 1998-2004 Gilles Vollant - http://www.winimage.com/zLibDll&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="zip_8c_source.html#l00104">104</a> of file <a class="el" href="zip_8c_source.html">zip.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_77b5d46a1bc2c75b90444f394c5858ea.html">ckb</a></li><li class="navelem"><a class="el" href="dir_c84aa78dcdc1385f02292b28e4e0a534.html">quazip</a></li><li class="navelem"><a class="el" href="zip_8c.html">zip.c</a></li>
    <li class="footer">Generated on Sat Feb 3 2018 14:44:00 for ckb-next by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
