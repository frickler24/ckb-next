.TH "src/ckb-daemon/structures.h" 3 "Fri Nov 3 2017" "Version v0.2.8 at branch master" "ckb-next" \" -*- nroff -*-
.ad l
.nh
.SH NAME
src/ckb-daemon/structures.h \- 
.SH SYNOPSIS
.br
.PP
\fC#include 'includes\&.h'\fP
.br
\fC#include 'keymap\&.h'\fP
.br

.SS "Data Structures"

.in +1c
.ti -1c
.RI "struct \fBusbid\fP"
.br
.ti -1c
.RI "struct \fBmacroaction\fP"
.br
.ti -1c
.RI "struct \fBkeymacro\fP"
.br
.ti -1c
.RI "struct \fBbinding\fP"
.br
.ti -1c
.RI "struct \fBdpiset\fP"
.br
.ti -1c
.RI "struct \fBlighting\fP"
.br
.ti -1c
.RI "struct \fBusbmode\fP"
.br
.ti -1c
.RI "struct \fBusbprofile\fP"
.br
.ti -1c
.RI "struct \fBhwprofile\fP"
.br
.ti -1c
.RI "struct \fBusbinput\fP"
.br
.ti -1c
.RI "struct \fBusbdevice\fP"
.br
.in -1c
.SS "Macros"

.in +1c
.ti -1c
.RI "#define \fBSET_KEYBIT\fP(array, index)   do { (array)[(index) / 8] |= 1 << ((index) % 8); } while(0)"
.br
.ti -1c
.RI "#define \fBCLEAR_KEYBIT\fP(array, index)   do { (array)[(index) / 8] &= ~(1 << ((index) % 8)); } while(0)"
.br
.ti -1c
.RI "#define \fBI_NUM\fP   1"
.br
.ti -1c
.RI "#define \fBI_CAPS\fP   2"
.br
.ti -1c
.RI "#define \fBI_SCROLL\fP   4"
.br
.ti -1c
.RI "#define \fBOUTFIFO_MAX\fP   10"
.br
.ti -1c
.RI "#define \fBMACRO_MAX\fP   1024"
.br
.ti -1c
.RI "#define \fBDPI_COUNT\fP   6"
.br
.ti -1c
.RI "#define \fBLIFT_MIN\fP   1"
.br
.ti -1c
.RI "#define \fBLIFT_MAX\fP   5"
.br
.ti -1c
.RI "#define \fBMD_NAME_LEN\fP   16"
.br
.ti -1c
.RI "#define \fBPR_NAME_LEN\fP   16"
.br
.ti -1c
.RI "#define \fBMODE_COUNT\fP   6"
.br
.ti -1c
.RI "#define \fBHWMODE_K70\fP   1"
.br
.ti -1c
.RI "#define \fBHWMODE_K95\fP   3"
.br
.ti -1c
.RI "#define \fBHWMODE_MAX\fP   3"
.br
.ti -1c
.RI "#define \fBFEAT_RGB\fP   0x001"
.br
.ti -1c
.RI "#define \fBFEAT_MONOCHROME\fP   0x002"
.br
.ti -1c
.RI "#define \fBFEAT_POLLRATE\fP   0x004"
.br
.ti -1c
.RI "#define \fBFEAT_ADJRATE\fP   0x008"
.br
.ti -1c
.RI "#define \fBFEAT_BIND\fP   0x010"
.br
.ti -1c
.RI "#define \fBFEAT_NOTIFY\fP   0x020"
.br
.ti -1c
.RI "#define \fBFEAT_FWVERSION\fP   0x040"
.br
.ti -1c
.RI "#define \fBFEAT_FWUPDATE\fP   0x080"
.br
.ti -1c
.RI "#define \fBFEAT_HWLOAD\fP   0x100"
.br
.ti -1c
.RI "#define \fBFEAT_ANSI\fP   0x200"
.br
.ti -1c
.RI "#define \fBFEAT_ISO\fP   0x400"
.br
.ti -1c
.RI "#define \fBFEAT_MOUSEACCEL\fP   0x800"
.br
.ti -1c
.RI "#define \fBFEAT_COMMON\fP   (\fBFEAT_BIND\fP | \fBFEAT_NOTIFY\fP | \fBFEAT_FWVERSION\fP | \fBFEAT_MOUSEACCEL\fP | \fBFEAT_HWLOAD\fP)"
.br
.ti -1c
.RI "#define \fBFEAT_STD_RGB\fP   (\fBFEAT_COMMON\fP | \fBFEAT_RGB\fP | \fBFEAT_POLLRATE\fP | \fBFEAT_FWUPDATE\fP)"
.br
.ti -1c
.RI "#define \fBFEAT_STD_NRGB\fP   (\fBFEAT_COMMON\fP)"
.br
.ti -1c
.RI "#define \fBFEAT_LMASK\fP   (\fBFEAT_ANSI\fP | \fBFEAT_ISO\fP)"
.br
.ti -1c
.RI "#define \fBHAS_FEATURES\fP(kb, feat)   (((kb)->features & (feat)) == (feat))"
.br
.ti -1c
.RI "#define \fBHAS_ANY_FEATURE\fP(kb, feat)   (!!((kb)->features & (feat)))"
.br
.ti -1c
.RI "#define \fBNEEDS_FW_UPDATE\fP(kb)   ((kb)->fwversion == 0 && \fBHAS_FEATURES\fP((kb), \fBFEAT_FWUPDATE\fP | \fBFEAT_FWVERSION\fP))"
.br
.ti -1c
.RI "#define \fBSCROLL_ACCELERATED\fP   0"
.br
.ti -1c
.RI "#define \fBSCROLL_MIN\fP   1"
.br
.ti -1c
.RI "#define \fBSCROLL_MAX\fP   10"
.br
.ti -1c
.RI "#define \fBKB_NAME_LEN\fP   40"
.br
.ti -1c
.RI "#define \fBSERIAL_LEN\fP   34"
.br
.ti -1c
.RI "#define \fBMSG_SIZE\fP   64"
.br
.ti -1c
.RI "#define \fBIFACE_MAX\fP   4"
.br
.in -1c
.SS "Variables"

.in +1c
.ti -1c
.RI "const union \fBdevcmd\fP \fBvtable_keyboard\fP"
.br
.RI "\fIRGB keyboard vtable holds functions for each device type\&. \fP"
.ti -1c
.RI "const union \fBdevcmd\fP \fBvtable_keyboard_nonrgb\fP"
.br
.ti -1c
.RI "const union \fBdevcmd\fP \fBvtable_mouse\fP"
.br
.in -1c
.SH "Data Structure Documentation"
.PP 
.SH "struct usbid"
.PP 
Definition at line 8 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
char \fIguid[16]\fP 
.br
.PP
char \fImodified[4]\fP 
.br
.PP
.RE
.PP
.SH "struct macroaction"
.PP 
Definition at line 27 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
uint \fIdelay\fP 
.br
.PP
char \fIdown\fP 
.br
.PP
short \fIrel_x\fP 
.br
.PP
short \fIrel_y\fP 
.br
.PP
short \fIscan\fP 
.br
.PP
.RE
.PP
.SH "struct keymacro"
.PP 
Definition at line 35 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
int \fIactioncount\fP 
.br
.PP
\fBmacroaction\fP * \fIactions\fP 
.br
.PP
\fBuchar\fP \fIcombo[((((152+3+12)+25)+7)/8)]\fP 
.br
.PP
char \fItriggered\fP 
.br
.PP
.RE
.PP
.SH "struct binding"
.PP 
Definition at line 43 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
int \fIbase[((152+3+12)+25)]\fP 
.br
.PP
int \fImacrocap\fP 
.br
.PP
int \fImacrocount\fP 
.br
.PP
\fBkeymacro\fP * \fImacros\fP 
.br
.PP
.RE
.PP
.SH "struct dpiset"
.PP 
Definition at line 57 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
\fBuchar\fP \fIcurrent\fP 
.br
.PP
\fBuchar\fP \fIenabled\fP 
.br
.PP
\fBuchar\fP \fIforceupdate\fP 
.br
.PP
\fBuchar\fP \fIlift\fP 
.br
.PP
\fBuchar\fP \fIsnap\fP 
.br
.PP
\fBushort\fP \fIx[6]\fP 
.br
.PP
\fBushort\fP \fIy[6]\fP 
.br
.PP
.RE
.PP
.SH "struct lighting"
.PP 
Definition at line 73 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
\fBuchar\fP \fIb[152+12]\fP 
.br
.PP
\fBuchar\fP \fIforceupdate\fP 
.br
.PP
\fBuchar\fP \fIg[152+12]\fP 
.br
.PP
\fBuchar\fP \fIr[152+12]\fP 
.br
.PP
\fBuchar\fP \fIsidelight\fP 
.br
.PP
.RE
.PP
.SH "struct usbmode"
.PP 
Definition at line 83 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
\fBbinding\fP \fIbind\fP 
.br
.PP
\fBdpiset\fP \fIdpi\fP 
.br
.PP
\fBusbid\fP \fIid\fP 
.br
.PP
\fBuchar\fP \fIinotify[10]\fP 
.br
.PP
\fBuchar\fP \fIioff\fP 
.br
.PP
\fBuchar\fP \fIion\fP 
.br
.PP
\fBlighting\fP \fIlight\fP 
.br
.PP
\fBushort\fP \fIname[16]\fP 
.br
.PP
\fBuchar\fP \fInotify[10][((((152+3+12)+25)+7)/8)]\fP 
.br
.PP
.RE
.PP
.SH "struct usbprofile"
.PP 
Definition at line 101 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
\fBusbmode\fP * \fIcurrentmode\fP 
.br
.PP
\fBusbid\fP \fIid\fP 
.br
.PP
\fBdpiset\fP \fIlastdpi\fP 
.br
.PP
\fBlighting\fP \fIlastlight\fP 
.br
.PP
\fBusbmode\fP \fImode[6]\fP 
.br
.PP
\fBushort\fP \fIname[16]\fP 
.br
.PP
.RE
.PP
.SH "struct hwprofile"
.PP 
Definition at line 118 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
\fBdpiset\fP \fIdpi[3]\fP 
.br
.PP
\fBusbid\fP \fIid[3+1]\fP 
.br
.PP
\fBlighting\fP \fIlight[3]\fP 
.br
.PP
\fBushort\fP \fIname[3+1][16]\fP 
.br
.PP
.RE
.PP
.SH "struct usbinput"
.PP 
Definition at line 129 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
\fBuchar\fP \fIkeys[((((152+3+12)+25)+7)/8)]\fP 
.br
.PP
\fBuchar\fP \fIprevkeys[((((152+3+12)+25)+7)/8)]\fP 
.br
.PP
short \fIrel_x\fP 
.br
.PP
short \fIrel_y\fP 
.br
.PP
.RE
.PP
.SH "struct usbdevice"
.PP 
Definition at line 178 of file structures\&.h\&.
.PP
\fBData Fields:\fP
.RS 4
char \fIactive\fP 
.br
.PP
uint \fIdelay\fP 
.br
.PP
char \fIdither\fP 
.br
.PP
int \fIepcount\fP 
.br
.PP
\fBushort\fP \fIfeatures\fP 
.br
.PP
\fBushort\fP \fIfwversion\fP 
.br
.PP
int \fIhandle\fP 
.br
.PP
\fBhwprofile\fP * \fIhw\fP 
.br
.PP
\fBuchar\fP \fIhw_ileds\fP 
.br
.PP
\fBuchar\fP \fIhw_ileds_old\fP 
.br
.PP
\fBuchar\fP \fIileds\fP 
.br
.PP
int \fIinfifo\fP 
.br
.PP
\fBusbinput\fP \fIinput\fP 
.br
.PP
pthread_t \fIinputthread\fP 
.br
.PP
char \fIname[40+1]\fP 
.br
.PP
int \fIoutfifo[10]\fP 
.br
.PP
char \fIpollrate\fP 
.br
.PP
short \fIproduct\fP 
.br
.PP
\fBusbprofile\fP * \fIprofile\fP 
.br
.PP
char \fIserial[34]\fP 
.br
.PP
pthread_t \fIthread\fP 
.br
.PP
struct udev_device * \fIudev\fP 
.br
.PP
int \fIuinput_kb\fP 
.br
.PP
int \fIuinput_mouse\fP 
.br
.PP
char \fIusbdelay\fP 
.br
.PP
short \fIvendor\fP 
.br
.PP
const union \fBdevcmd\fP * \fIvtable\fP 
.br
.PP
.RE
.PP
.SH "Macro Definition Documentation"
.PP 
.SS "#define CLEAR_KEYBIT(array, index)   do { (array)[(index) / 8] &= ~(1 << ((index) % 8)); } while(0)"

.PP
Definition at line 16 of file structures\&.h\&.
.PP
Referenced by cmd_notify(), corsair_mousecopy(), hid_kb_translate(), and hid_mouse_translate()\&.
.SS "#define DPI_COUNT   6"

.PP
Definition at line 54 of file structures\&.h\&.
.PP
Referenced by cmd_dpi(), cmd_dpisel(), loaddpi(), printdpi(), savedpi(), and updatedpi()\&.
.SS "#define FEAT_ADJRATE   0x008"

.PP
Definition at line 139 of file structures\&.h\&.
.PP
Referenced by _mkdevpath(), _setupusb(), and _start_dev()\&.
.SS "#define FEAT_ANSI   0x200"

.PP
Definition at line 146 of file structures\&.h\&.
.PP
Referenced by readcmd()\&.
.SS "#define FEAT_BIND   0x010"

.PP
Definition at line 140 of file structures\&.h\&.
.PP
Referenced by _mkdevpath(), main(), and readcmd()\&.
.SS "#define FEAT_COMMON   (\fBFEAT_BIND\fP | \fBFEAT_NOTIFY\fP | \fBFEAT_FWVERSION\fP | \fBFEAT_MOUSEACCEL\fP | \fBFEAT_HWLOAD\fP)"

.PP
Definition at line 151 of file structures\&.h\&.
.SS "#define FEAT_FWUPDATE   0x080"

.PP
Definition at line 143 of file structures\&.h\&.
.PP
Referenced by _mkdevpath(), _start_dev(), and cmd_fwupdate()\&.
.SS "#define FEAT_FWVERSION   0x040"

.PP
Definition at line 142 of file structures\&.h\&.
.PP
Referenced by _mkdevpath(), and _start_dev()\&.
.SS "#define FEAT_HWLOAD   0x100"

.PP
Definition at line 144 of file structures\&.h\&.
.PP
Referenced by _start_dev()\&.
.SS "#define FEAT_ISO   0x400"

.PP
Definition at line 147 of file structures\&.h\&.
.PP
Referenced by readcmd()\&.
.SS "#define FEAT_LMASK   (\fBFEAT_ANSI\fP | \fBFEAT_ISO\fP)"

.PP
Definition at line 154 of file structures\&.h\&.
.PP
Referenced by readcmd()\&.
.SS "#define FEAT_MONOCHROME   0x002"

.PP
Definition at line 137 of file structures\&.h\&.
.PP
Referenced by _mkdevpath(), and _setupusb()\&.
.SS "#define FEAT_MOUSEACCEL   0x800"

.PP
Definition at line 148 of file structures\&.h\&.
.PP
Referenced by main(), and readcmd()\&.
.SS "#define FEAT_NOTIFY   0x020"

.PP
Definition at line 141 of file structures\&.h\&.
.PP
Referenced by _mkdevpath(), main(), and readcmd()\&.
.SS "#define FEAT_POLLRATE   0x004"

.PP
Definition at line 138 of file structures\&.h\&.
.PP
Referenced by _mkdevpath(), _start_dev(), and getfwversion()\&.
.SS "#define FEAT_RGB   0x001"

.PP
Definition at line 136 of file structures\&.h\&.
.PP
Referenced by _mkdevpath(), _start_dev(), revertusb(), and usbunclaim()\&.
.SS "#define FEAT_STD_NRGB   (\fBFEAT_COMMON\fP)"

.PP
Definition at line 153 of file structures\&.h\&.
.PP
Referenced by _setupusb()\&.
.SS "#define FEAT_STD_RGB   (\fBFEAT_COMMON\fP | \fBFEAT_RGB\fP | \fBFEAT_POLLRATE\fP | \fBFEAT_FWUPDATE\fP)"

.PP
Definition at line 152 of file structures\&.h\&.
.PP
Referenced by _setupusb()\&.
.SS "#define HAS_ANY_FEATURE(kb, feat)   (!!((kb)->features & (feat)))"

.PP
Definition at line 158 of file structures\&.h\&.
.SS "#define HAS_FEATURES(kb, feat)   (((kb)->features & (feat)) == (feat))"

.PP
Definition at line 157 of file structures\&.h\&.
.PP
Referenced by _mkdevpath(), _start_dev(), cmd_fwupdate(), readcmd(), revertusb(), and usbunclaim()\&.
.SS "#define HWMODE_K70   1"

.PP
Definition at line 115 of file structures\&.h\&.
.PP
Referenced by cmd_hwload_kb(), and cmd_hwsave_kb()\&.
.SS "#define HWMODE_K95   3"

.PP
Definition at line 116 of file structures\&.h\&.
.PP
Referenced by cmd_hwload_kb(), and cmd_hwsave_kb()\&.
.SS "#define HWMODE_MAX   3"

.PP
Definition at line 117 of file structures\&.h\&.
.SS "#define I_CAPS   2"

.PP
Definition at line 20 of file structures\&.h\&.
.PP
Referenced by _cmd_get(), iselect(), nprintind(), and updateindicators_kb()\&.
.SS "#define I_NUM   1"

.PP
Definition at line 19 of file structures\&.h\&.
.PP
Referenced by _cmd_get(), iselect(), nprintind(), and updateindicators_kb()\&.
.SS "#define I_SCROLL   4"

.PP
Definition at line 21 of file structures\&.h\&.
.PP
Referenced by _cmd_get(), iselect(), nprintind(), and updateindicators_kb()\&.
.SS "#define IFACE_MAX   4"

.PP
Definition at line 177 of file structures\&.h\&.
.SS "#define KB_NAME_LEN   40"

.PP
Definition at line 174 of file structures\&.h\&.
.PP
Referenced by _setupusb(), and os_setupusb()\&.
.SS "#define LIFT_MAX   5"

.PP
Definition at line 56 of file structures\&.h\&.
.PP
Referenced by cmd_lift(), and loaddpi()\&.
.SS "#define LIFT_MIN   1"

.PP
Definition at line 55 of file structures\&.h\&.
.PP
Referenced by cmd_lift(), and loaddpi()\&.
.SS "#define MACRO_MAX   1024"

.PP
Definition at line 51 of file structures\&.h\&.
.PP
Referenced by _cmd_macro()\&.
.SS "#define MD_NAME_LEN   16"

.PP
Definition at line 82 of file structures\&.h\&.
.PP
Referenced by cmd_hwsave_kb(), cmd_hwsave_mouse(), cmd_name(), gethwmodename(), gethwprofilename(), getmodename(), hwloadmode(), hwtonative(), and nativetohw()\&.
.SS "#define MODE_COUNT   6"

.PP
Definition at line 100 of file structures\&.h\&.
.PP
Referenced by _freeprofile(), allocprofile(), and readcmd()\&.
.SS "#define MSG_SIZE   64"

.PP
Definition at line 176 of file structures\&.h\&.
.PP
Referenced by _usbsend(), cmd_hwload_kb(), cmd_hwload_mouse(), cmd_hwsave_kb(), cmd_hwsave_mouse(), cmd_pollrate(), fwupdate(), getfwversion(), hwloadmode(), loaddpi(), loadrgb_kb(), loadrgb_mouse(), os_inputmain(), os_usbrecv(), os_usbsend(), savedpi(), savergb_kb(), savergb_mouse(), setactive_kb(), setactive_mouse(), updatedpi(), updatergb_kb(), and updatergb_mouse()\&.
.SS "#define NEEDS_FW_UPDATE(kb)   ((kb)->fwversion == 0 && \fBHAS_FEATURES\fP((kb), \fBFEAT_FWUPDATE\fP | \fBFEAT_FWVERSION\fP))"

.PP
Definition at line 161 of file structures\&.h\&.
.PP
Referenced by _start_dev(), readcmd(), revertusb(), setactive_kb(), and setactive_mouse()\&.
.SS "#define OUTFIFO_MAX   10"

.PP
Definition at line 24 of file structures\&.h\&.
.PP
Referenced by _mknotifynode(), _rmnotifynode(), inputupdate_keys(), nprintf(), readcmd(), rmdevpath(), and updateindicators_kb()\&.
.SS "#define PR_NAME_LEN   16"

.PP
Definition at line 99 of file structures\&.h\&.
.PP
Referenced by cmd_hwload_kb(), cmd_hwload_mouse(), cmd_profilename(), getprofilename(), hwtonative(), and nativetohw()\&.
.SS "#define SCROLL_ACCELERATED   0"

.PP
Definition at line 164 of file structures\&.h\&.
.PP
Referenced by readcmd()\&.
.SS "#define SCROLL_MAX   10"

.PP
Definition at line 166 of file structures\&.h\&.
.PP
Referenced by readcmd()\&.
.SS "#define SCROLL_MIN   1"

.PP
Definition at line 165 of file structures\&.h\&.
.PP
Referenced by readcmd()\&.
.SS "#define SERIAL_LEN   34"

.PP
Definition at line 175 of file structures\&.h\&.
.PP
Referenced by _setupusb(), and os_setupusb()\&.
.SS "#define SET_KEYBIT(array, index)   do { (array)[(index) / 8] |= 1 << ((index) % 8); } while(0)"

.PP
Definition at line 15 of file structures\&.h\&.
.PP
Referenced by _cmd_macro(), cmd_notify(), corsair_mousecopy(), hid_kb_translate(), and hid_mouse_translate()\&.
.SH "Variable Documentation"
.PP 
.SS "const union \fBdevcmd\fP vtable_keyboard"

.PP
Definition at line 52 of file device_vtable\&.c\&.
.PP
Referenced by get_vtable()\&.
.SS "const union \fBdevcmd\fP vtable_keyboard_nonrgb"

.PP
Definition at line 99 of file device_vtable\&.c\&.
.PP
Referenced by get_vtable()\&.
.SS "const union \fBdevcmd\fP vtable_mouse"

.PP
Definition at line 146 of file device_vtable\&.c\&.
.PP
Referenced by get_vtable()\&.
.SH "Author"
.PP 
Generated automatically by Doxygen for ckb-next from the source code\&.
