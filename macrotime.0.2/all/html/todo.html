<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ckb-next: Todo List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ckb-128.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ckb-next
   &#160;<span id="projectnumber">beta-v0.2.8+testing at branch macrotime.0.2</span>
   </div>
   <div id="projectbrief">ckb-next driver for corsair devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('todo.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Todo List </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="reflist">
<dt><a class="anchor" id="_todo000015"></a>Global <a class="el" href="usb_8h.html#a992cce1d173047466101113bfff5d7a1">_usbsend</a>  (usbdevice *kb, const uchar *messages, int count, const char *file, int line)</dt>
<dd><p class="startdd">A lot of different conditions are combined in this code. Don't think, it is good in every combination...</p>
<p class="enddd">Check whether this is the same in the macOS variant. It is not dramatic, but if errors occur, it can certainly irritate the devices completely if they receive incomplete data streams. Do we have errors with the messages "Wrote YY bytes (expected 64)" in the system logs? If not, we do not need to look any further. </p>
</dd>
<dt><a class="anchor" id="_todo000017"></a>Global <a class="el" href="usb_8h.html#a8732b3ade76da4ae362996232ef95431">closeusb</a>  (usbdevice *kb)</dt>
<dd>What is not yet comprehensible is the call to <a class="el" href="devnode_8c.html#a4f2642e0c38280a1516fbe153c9fa18f" title="Update the list of connected devices. ">updateconnected()</a> BEFORE <a class="el" href="usb_8h.html#a6a62575e9073fae15efb58f24fbfe5b8" title="os_closeusb unclaim it, destroy the udev device and clear data structures at kb ">os_closeusb()</a>. Should that be in the other sequence? Or is <a class="el" href="devnode_8c.html#a4f2642e0c38280a1516fbe153c9fa18f" title="Update the list of connected devices. ">updateconnected()</a> not displaying the connected usb devices, but the representation which uinput devices are loaded? Questions about questions ... </dd>
<dt><a class="anchor" id="_todo000010"></a>Global <a class="el" href="usb_8c.html#ab8c22b4f7012c6d9fe1a0d5e2a93df65">devmain</a>  (usbdevice *kb)</dt>
<dd><p class="startdd">Hope to find the need for dmutex usage later. <br/>
 Should this function be declared as pthread_t* function, because of the defintion of pthread-create? But void* works also... </p>
<p class="enddd"><a class="el" href="command_8c.html#ad7239680e0942b0b85a6cd3e9fff25a9">readcmd()</a> gets a <b>line</b>, not <b>lines</b>. Have a look on that later. <br/>
 Is the condition IS_CONNECTED valid? What functions change the condititon for the macro?  </p>
</dd>
<dt><a class="anchor" id="_todo000009"></a>Global <a class="el" href="usb_8c.html#a25ded61622ec9349905b5aa2ed2cb48b">get_vtable</a>  (short vendor, short product)</dt>
<dd>Is the last point really a good decision and always correct?  </dd>
<dt><a class="anchor" id="_todo000006"></a>Global <a class="el" href="input_8c.html#aed8e9842ed5750c1d328c5dc4c1ba2bd">inputupdate_keys</a>  (usbdevice *kb)</dt>
<dd>If we want to get all keys typed while a macro is played, add the code for it here.  </dd>
<dt><a class="anchor" id="_todo000001"></a>Global <a class="el" href="classKb.html#a2ac268b01a79e71c56ad07b35efe8ecf">Kb::Kb</a>  (<a class="el" href="classQObject.html">QObject</a> *parent, const QString &amp;path)</dt>
<dd>Is adding notify2 to the notifypaths neccessary?  </dd>
<dt><a class="anchor" id="_todo000002"></a>Global <a class="el" href="classKb.html#a9a8e6fea085f652cc63c9845a62d1f03">Kb::~Kb</a>  ()</dt>
<dd>I don't think, that notifypaths is used somewhere. So why do we have it? If we do not need it, searching for an ununsed notify channel can easy be refactored to a private member function.  </dd>
<dt><a class="anchor" id="_todo000005"></a>Global <a class="el" href="input_8c.html#a225fb4bb1f20d4a8b524f5d72763367d">macro_pt_enqueue</a>  ()</dt>
<dd>find a better exit strategy if no more mem available.  </dd>
<dt><a class="anchor" id="_todo000019"></a>Global <a class="el" href="usb__linux_8c.html#a9e5784bfca2e4612f498ce67c7dab275">os_inputmain</a>  (void *context)</dt>
<dd>This function is a collection of many tasks. It should be divided into several sub-functions for the sake of greater convenience: </dd>
<dt><a class="anchor" id="_todo000020"></a>Global <a class="el" href="usb__linux_8c.html#a0fd9533617cdae390dc65aa4594e33d2">os_resetusb</a>  (usbdevice *kb, const char *file, int line)</dt>
<dd>it seems that no one wants to try the reset again. But I'v seen it somewhere...  </dd>
<dt><a class="anchor" id="_todo000021"></a>Global <a class="el" href="usb__linux_8c.html#a39442715182933b93172de60cdb66e8f">os_setupusb</a>  (usbdevice *kb)</dt>
<dd>in these modules a pullrequest is outstanding  </dd>
<dt><a class="anchor" id="_todo000018"></a>Global <a class="el" href="usb__linux_8c.html#a9e813287cd0ee9c7b665002a929d2894">os_usbsend</a>  (usbdevice *kb, const uchar *out_msg, int is_recv, const char *file, int line)</dt>
<dd>Since the handling of endpoints has already led to problems elsewhere, this implementation is extremely hardware-dependent and critical! <br/>
 Eg. the new keyboard K95PLATINUMRGB has a version number significantly less than 2.0 - will it run with this implementation? </dd>
<dt><a class="anchor" id="_todo000008"></a>Global <a class="el" href="usb_8h.html#af87f830e031d8f63d2d1c3fc14fdad20">product_str</a>  (short product)</dt>
<dd>There are macros defined in <a class="el" href="usb_8h.html" title="Definitions for using USB interface. ">usb.h</a> to detect all the combinations below. the only difference is the parameter: The macros need the <em>kb*</em>, <a class="el" href="usb_8c.html#af87f830e031d8f63d2d1c3fc14fdad20" title="brief . ">product_str()</a> needs the <em>product</em> <em>ID</em>  </dd>
<dt><a class="anchor" id="_todo000003"></a>Global <a class="el" href="classRebindWidget.html#a7f4ff1d01115ce47182c52b51347e719">RebindWidget::applyChanges</a>  (const QStringList &amp;keys, bool doUnbind)</dt>
<dd>There is still a bug in the state machine: If you record a macro in asTyped-mode, switch to another mode and change the vontent of the pteMacroBox manually, then the changes are not saved in the timing buffer. But anyhow, let's do more relevant things...  </dd>
<dt><a class="anchor" id="_todo000004"></a>Global <a class="el" href="classRebindWidget.html#a6913b3c8755765b3a14a51f48328bb44">RebindWidget::on_btnClearMacro_clicked</a>  ()</dt>
<dd>I do not know what is the better solution with the delay-buttons in case of clicking clear: Reset the button to the default value or do not touch it? Not clear is ignored.  </dd>
<dt><a class="anchor" id="_todo000012"></a>Global <a class="el" href="usb_8h.html#ae30a52968bb209e98461f48ffb2ee82f">revertusb</a>  (usbdevice *kb)</dt>
<dd><p class="startdd">Why is this useful? Are there problems seen with deactivating a device with older fw-version??? Why isn't this an error indicating reason and we return success (0)?</p>
<p class="enddd">The return value of <a class="el" href="usb_8h.html#aefc95e6120686dff0e06bba32ca21ad1" title="nk95cmd() macro is used to wrap _nk95cmd() with debugging information (file and lineno). the command structure is different:   Just the bits 23..16 are used as bits 7..0 for bRequest   Bits 15..0 are used as wValue ">nk95cmd()</a> is ignored (but sending the ioctl may produce an error and _nk95_cmd will indicate this), instead <a class="el" href="usb_8c.html#ae30a52968bb209e98461f48ffb2ee82f">revertusb()</a> returns success in any case. </p>
</dd>
<dt><a class="anchor" id="_todo000022"></a>Global <a class="el" href="usb__linux_8c.html#ac29239c44378f37b6130288cb67e5699">udevthread</a>  </dt>
<dd>These two thread vasriables seem to be unused: usbtread, udevthread  </dd>
<dt><a class="anchor" id="_todo000022"></a>Global <a class="el" href="usb__linux_8c.html#ac29239c44378f37b6130288cb67e5699">udevthread</a>  </dt>
<dd>These two thread vasriables seem to be unused: usbtread, udevthread  </dd>
<dt><a class="anchor" id="_todo000023"></a>Global <a class="el" href="usb__linux_8c.html#a50efc8ee0ffcb6f201735d1a3bb08779">usb_add_device</a>  (struct udev_device *dev)</dt>
<dd>So why the hell not a transformation between the string and the short presentation? Lets check if the string representation is used elsewhere.  </dd>
<dt><a class="anchor" id="_todo000014"></a>Global <a class="el" href="usb_8h.html#a8a1c88df5e127732cb63f1a8be180926">usb_tryreset</a>  (usbdevice *kb)</dt>
<dd>Why does <a class="el" href="usb_8c.html#a8a1c88df5e127732cb63f1a8be180926">usb_tryreset()</a> hide the information returned from <a class="el" href="usb_8h.html#ae1550dc55de346b46df8c4b6930613e9" title="resetusb() is just a macro to call _resetusb() with debuggin constants (file, lineno) ...">resetusb()</a>? Isn't it needed by the callers?  </dd>
<dt><a class="anchor" id="_todo000024"></a>Global <a class="el" href="usb__linux_8c.html#a0859efad3739abe2ec61af4f3bb983ff">usbmain</a>  ()</dt>
<dd><p class="startdd">Why isn't missing of uinput a fatal error? </p>
<p class="enddd">lae. here the work has to go on...  </p>
</dd>
<dt><a class="anchor" id="_todo000007"></a>Global <a class="el" href="usb_8c.html#a0fa74a6fe0d2796e2d2dbf8447b9e5e4">usbmutex</a>  </dt>
<dd>We should have a look why this mutex is never used. </dd>
</dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jun 5 2017 23:09:43 for ckb-next by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
